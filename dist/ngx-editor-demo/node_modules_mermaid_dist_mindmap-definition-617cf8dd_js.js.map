{"version":3,"file":"node_modules_mermaid_dist_mindmap-definition-617cf8dd_js.js","mappings":"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","sources":["./node_modules/cose-base/cose-base.js","./node_modules/cytoscape-cose-bilkent/cytoscape-cose-bilkent.js","./node_modules/cytoscape/dist/cytoscape.umd.js","./node_modules/layout-base/layout-base.js","./node_modules/mermaid/dist/mindmap-definition-617cf8dd.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"layout-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"layout-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"coseBase\"] = factory(require(\"layout-base\"));\n\telse\n\t\troot[\"coseBase\"] = factory(root[\"layoutBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 7);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayoutConstants = __webpack_require__(0).FDLayoutConstants;\n\nfunction CoSEConstants() {}\n\n//CoSEConstants inherits static props in FDLayoutConstants\nfor (var prop in FDLayoutConstants) {\n  CoSEConstants[prop] = FDLayoutConstants[prop];\n}\n\nCoSEConstants.DEFAULT_USE_MULTI_LEVEL_SCALING = false;\nCoSEConstants.DEFAULT_RADIAL_SEPARATION = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\nCoSEConstants.DEFAULT_COMPONENT_SEPERATION = 60;\nCoSEConstants.TILE = true;\nCoSEConstants.TILING_PADDING_VERTICAL = 10;\nCoSEConstants.TILING_PADDING_HORIZONTAL = 10;\nCoSEConstants.TREE_REDUCTION_ON_INCREMENTAL = false; // make this true when cose is used incrementally as a part of other non-incremental layout\n\nmodule.exports = CoSEConstants;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayoutEdge = __webpack_require__(0).FDLayoutEdge;\n\nfunction CoSEEdge(source, target, vEdge) {\n  FDLayoutEdge.call(this, source, target, vEdge);\n}\n\nCoSEEdge.prototype = Object.create(FDLayoutEdge.prototype);\nfor (var prop in FDLayoutEdge) {\n  CoSEEdge[prop] = FDLayoutEdge[prop];\n}\n\nmodule.exports = CoSEEdge;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraph = __webpack_require__(0).LGraph;\n\nfunction CoSEGraph(parent, graphMgr, vGraph) {\n  LGraph.call(this, parent, graphMgr, vGraph);\n}\n\nCoSEGraph.prototype = Object.create(LGraph.prototype);\nfor (var prop in LGraph) {\n  CoSEGraph[prop] = LGraph[prop];\n}\n\nmodule.exports = CoSEGraph;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphManager = __webpack_require__(0).LGraphManager;\n\nfunction CoSEGraphManager(layout) {\n  LGraphManager.call(this, layout);\n}\n\nCoSEGraphManager.prototype = Object.create(LGraphManager.prototype);\nfor (var prop in LGraphManager) {\n  CoSEGraphManager[prop] = LGraphManager[prop];\n}\n\nmodule.exports = CoSEGraphManager;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayoutNode = __webpack_require__(0).FDLayoutNode;\nvar IMath = __webpack_require__(0).IMath;\n\nfunction CoSENode(gm, loc, size, vNode) {\n  FDLayoutNode.call(this, gm, loc, size, vNode);\n}\n\nCoSENode.prototype = Object.create(FDLayoutNode.prototype);\nfor (var prop in FDLayoutNode) {\n  CoSENode[prop] = FDLayoutNode[prop];\n}\n\nCoSENode.prototype.move = function () {\n  var layout = this.graphManager.getLayout();\n  this.displacementX = layout.coolingFactor * (this.springForceX + this.repulsionForceX + this.gravitationForceX) / this.noOfChildren;\n  this.displacementY = layout.coolingFactor * (this.springForceY + this.repulsionForceY + this.gravitationForceY) / this.noOfChildren;\n\n  if (Math.abs(this.displacementX) > layout.coolingFactor * layout.maxNodeDisplacement) {\n    this.displacementX = layout.coolingFactor * layout.maxNodeDisplacement * IMath.sign(this.displacementX);\n  }\n\n  if (Math.abs(this.displacementY) > layout.coolingFactor * layout.maxNodeDisplacement) {\n    this.displacementY = layout.coolingFactor * layout.maxNodeDisplacement * IMath.sign(this.displacementY);\n  }\n\n  // a simple node, just move it\n  if (this.child == null) {\n    this.moveBy(this.displacementX, this.displacementY);\n  }\n  // an empty compound node, again just move it\n  else if (this.child.getNodes().length == 0) {\n      this.moveBy(this.displacementX, this.displacementY);\n    }\n    // non-empty compound node, propogate movement to children as well\n    else {\n        this.propogateDisplacementToChildren(this.displacementX, this.displacementY);\n      }\n\n  layout.totalDisplacement += Math.abs(this.displacementX) + Math.abs(this.displacementY);\n\n  this.springForceX = 0;\n  this.springForceY = 0;\n  this.repulsionForceX = 0;\n  this.repulsionForceY = 0;\n  this.gravitationForceX = 0;\n  this.gravitationForceY = 0;\n  this.displacementX = 0;\n  this.displacementY = 0;\n};\n\nCoSENode.prototype.propogateDisplacementToChildren = function (dX, dY) {\n  var nodes = this.getChild().getNodes();\n  var node;\n  for (var i = 0; i < nodes.length; i++) {\n    node = nodes[i];\n    if (node.getChild() == null) {\n      node.moveBy(dX, dY);\n      node.displacementX += dX;\n      node.displacementY += dY;\n    } else {\n      node.propogateDisplacementToChildren(dX, dY);\n    }\n  }\n};\n\nCoSENode.prototype.setPred1 = function (pred1) {\n  this.pred1 = pred1;\n};\n\nCoSENode.prototype.getPred1 = function () {\n  return pred1;\n};\n\nCoSENode.prototype.getPred2 = function () {\n  return pred2;\n};\n\nCoSENode.prototype.setNext = function (next) {\n  this.next = next;\n};\n\nCoSENode.prototype.getNext = function () {\n  return next;\n};\n\nCoSENode.prototype.setProcessed = function (processed) {\n  this.processed = processed;\n};\n\nCoSENode.prototype.isProcessed = function () {\n  return processed;\n};\n\nmodule.exports = CoSENode;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar FDLayout = __webpack_require__(0).FDLayout;\nvar CoSEGraphManager = __webpack_require__(4);\nvar CoSEGraph = __webpack_require__(3);\nvar CoSENode = __webpack_require__(5);\nvar CoSEEdge = __webpack_require__(2);\nvar CoSEConstants = __webpack_require__(1);\nvar FDLayoutConstants = __webpack_require__(0).FDLayoutConstants;\nvar LayoutConstants = __webpack_require__(0).LayoutConstants;\nvar Point = __webpack_require__(0).Point;\nvar PointD = __webpack_require__(0).PointD;\nvar Layout = __webpack_require__(0).Layout;\nvar Integer = __webpack_require__(0).Integer;\nvar IGeometry = __webpack_require__(0).IGeometry;\nvar LGraph = __webpack_require__(0).LGraph;\nvar Transform = __webpack_require__(0).Transform;\n\nfunction CoSELayout() {\n  FDLayout.call(this);\n\n  this.toBeTiled = {}; // Memorize if a node is to be tiled or is tiled\n}\n\nCoSELayout.prototype = Object.create(FDLayout.prototype);\n\nfor (var prop in FDLayout) {\n  CoSELayout[prop] = FDLayout[prop];\n}\n\nCoSELayout.prototype.newGraphManager = function () {\n  var gm = new CoSEGraphManager(this);\n  this.graphManager = gm;\n  return gm;\n};\n\nCoSELayout.prototype.newGraph = function (vGraph) {\n  return new CoSEGraph(null, this.graphManager, vGraph);\n};\n\nCoSELayout.prototype.newNode = function (vNode) {\n  return new CoSENode(this.graphManager, vNode);\n};\n\nCoSELayout.prototype.newEdge = function (vEdge) {\n  return new CoSEEdge(null, null, vEdge);\n};\n\nCoSELayout.prototype.initParameters = function () {\n  FDLayout.prototype.initParameters.call(this, arguments);\n  if (!this.isSubLayout) {\n    if (CoSEConstants.DEFAULT_EDGE_LENGTH < 10) {\n      this.idealEdgeLength = 10;\n    } else {\n      this.idealEdgeLength = CoSEConstants.DEFAULT_EDGE_LENGTH;\n    }\n\n    this.useSmartIdealEdgeLengthCalculation = CoSEConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;\n    this.springConstant = FDLayoutConstants.DEFAULT_SPRING_STRENGTH;\n    this.repulsionConstant = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH;\n    this.gravityConstant = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH;\n    this.compoundGravityConstant = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH;\n    this.gravityRangeFactor = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR;\n    this.compoundGravityRangeFactor = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;\n\n    // variables for tree reduction support\n    this.prunedNodesAll = [];\n    this.growTreeIterations = 0;\n    this.afterGrowthIterations = 0;\n    this.isTreeGrowing = false;\n    this.isGrowthFinished = false;\n\n    // variables for cooling\n    this.coolingCycle = 0;\n    this.maxCoolingCycle = this.maxIterations / FDLayoutConstants.CONVERGENCE_CHECK_PERIOD;\n    this.finalTemperature = FDLayoutConstants.CONVERGENCE_CHECK_PERIOD / this.maxIterations;\n    this.coolingAdjuster = 1;\n  }\n};\n\nCoSELayout.prototype.layout = function () {\n  var createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n  if (createBendsAsNeeded) {\n    this.createBendpoints();\n    this.graphManager.resetAllEdges();\n  }\n\n  this.level = 0;\n  return this.classicLayout();\n};\n\nCoSELayout.prototype.classicLayout = function () {\n  this.nodesWithGravity = this.calculateNodesToApplyGravitationTo();\n  this.graphManager.setAllNodesToApplyGravitation(this.nodesWithGravity);\n  this.calcNoOfChildrenForAllNodes();\n  this.graphManager.calcLowestCommonAncestors();\n  this.graphManager.calcInclusionTreeDepths();\n  this.graphManager.getRoot().calcEstimatedSize();\n  this.calcIdealEdgeLengths();\n\n  if (!this.incremental) {\n    var forest = this.getFlatForest();\n\n    // The graph associated with this layout is flat and a forest\n    if (forest.length > 0) {\n      this.positionNodesRadially(forest);\n    }\n    // The graph associated with this layout is not flat or a forest\n    else {\n        // Reduce the trees when incremental mode is not enabled and graph is not a forest \n        this.reduceTrees();\n        // Update nodes that gravity will be applied\n        this.graphManager.resetAllNodesToApplyGravitation();\n        var allNodes = new Set(this.getAllNodes());\n        var intersection = this.nodesWithGravity.filter(function (x) {\n          return allNodes.has(x);\n        });\n        this.graphManager.setAllNodesToApplyGravitation(intersection);\n\n        this.positionNodesRandomly();\n      }\n  } else {\n    if (CoSEConstants.TREE_REDUCTION_ON_INCREMENTAL) {\n      // Reduce the trees in incremental mode if only this constant is set to true \n      this.reduceTrees();\n      // Update nodes that gravity will be applied\n      this.graphManager.resetAllNodesToApplyGravitation();\n      var allNodes = new Set(this.getAllNodes());\n      var intersection = this.nodesWithGravity.filter(function (x) {\n        return allNodes.has(x);\n      });\n      this.graphManager.setAllNodesToApplyGravitation(intersection);\n    }\n  }\n\n  this.initSpringEmbedder();\n  this.runSpringEmbedder();\n\n  return true;\n};\n\nCoSELayout.prototype.tick = function () {\n  this.totalIterations++;\n\n  if (this.totalIterations === this.maxIterations && !this.isTreeGrowing && !this.isGrowthFinished) {\n    if (this.prunedNodesAll.length > 0) {\n      this.isTreeGrowing = true;\n    } else {\n      return true;\n    }\n  }\n\n  if (this.totalIterations % FDLayoutConstants.CONVERGENCE_CHECK_PERIOD == 0 && !this.isTreeGrowing && !this.isGrowthFinished) {\n    if (this.isConverged()) {\n      if (this.prunedNodesAll.length > 0) {\n        this.isTreeGrowing = true;\n      } else {\n        return true;\n      }\n    }\n\n    this.coolingCycle++;\n\n    if (this.layoutQuality == 0) {\n      // quality - \"draft\"\n      this.coolingAdjuster = this.coolingCycle;\n    } else if (this.layoutQuality == 1) {\n      // quality - \"default\"\n      this.coolingAdjuster = this.coolingCycle / 3;\n    }\n\n    // cooling schedule is based on http://www.btluke.com/simanf1.html -> cooling schedule 3\n    this.coolingFactor = Math.max(this.initialCoolingFactor - Math.pow(this.coolingCycle, Math.log(100 * (this.initialCoolingFactor - this.finalTemperature)) / Math.log(this.maxCoolingCycle)) / 100 * this.coolingAdjuster, this.finalTemperature);\n    this.animationPeriod = Math.ceil(this.initialAnimationPeriod * Math.sqrt(this.coolingFactor));\n  }\n  // Operations while tree is growing again \n  if (this.isTreeGrowing) {\n    if (this.growTreeIterations % 10 == 0) {\n      if (this.prunedNodesAll.length > 0) {\n        this.graphManager.updateBounds();\n        this.updateGrid();\n        this.growTree(this.prunedNodesAll);\n        // Update nodes that gravity will be applied\n        this.graphManager.resetAllNodesToApplyGravitation();\n        var allNodes = new Set(this.getAllNodes());\n        var intersection = this.nodesWithGravity.filter(function (x) {\n          return allNodes.has(x);\n        });\n        this.graphManager.setAllNodesToApplyGravitation(intersection);\n\n        this.graphManager.updateBounds();\n        this.updateGrid();\n        this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n      } else {\n        this.isTreeGrowing = false;\n        this.isGrowthFinished = true;\n      }\n    }\n    this.growTreeIterations++;\n  }\n  // Operations after growth is finished\n  if (this.isGrowthFinished) {\n    if (this.isConverged()) {\n      return true;\n    }\n    if (this.afterGrowthIterations % 10 == 0) {\n      this.graphManager.updateBounds();\n      this.updateGrid();\n    }\n    this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL * ((100 - this.afterGrowthIterations) / 100);\n    this.afterGrowthIterations++;\n  }\n\n  var gridUpdateAllowed = !this.isTreeGrowing && !this.isGrowthFinished;\n  var forceToNodeSurroundingUpdate = this.growTreeIterations % 10 == 1 && this.isTreeGrowing || this.afterGrowthIterations % 10 == 1 && this.isGrowthFinished;\n\n  this.totalDisplacement = 0;\n  this.graphManager.updateBounds();\n  this.calcSpringForces();\n  this.calcRepulsionForces(gridUpdateAllowed, forceToNodeSurroundingUpdate);\n  this.calcGravitationalForces();\n  this.moveNodes();\n  this.animate();\n\n  return false; // Layout is not ended yet return false\n};\n\nCoSELayout.prototype.getPositionsData = function () {\n  var allNodes = this.graphManager.getAllNodes();\n  var pData = {};\n  for (var i = 0; i < allNodes.length; i++) {\n    var rect = allNodes[i].rect;\n    var id = allNodes[i].id;\n    pData[id] = {\n      id: id,\n      x: rect.getCenterX(),\n      y: rect.getCenterY(),\n      w: rect.width,\n      h: rect.height\n    };\n  }\n\n  return pData;\n};\n\nCoSELayout.prototype.runSpringEmbedder = function () {\n  this.initialAnimationPeriod = 25;\n  this.animationPeriod = this.initialAnimationPeriod;\n  var layoutEnded = false;\n\n  // If aminate option is 'during' signal that layout is supposed to start iterating\n  if (FDLayoutConstants.ANIMATE === 'during') {\n    this.emit('layoutstarted');\n  } else {\n    // If aminate option is 'during' tick() function will be called on index.js\n    while (!layoutEnded) {\n      layoutEnded = this.tick();\n    }\n\n    this.graphManager.updateBounds();\n  }\n};\n\nCoSELayout.prototype.calculateNodesToApplyGravitationTo = function () {\n  var nodeList = [];\n  var graph;\n\n  var graphs = this.graphManager.getGraphs();\n  var size = graphs.length;\n  var i;\n  for (i = 0; i < size; i++) {\n    graph = graphs[i];\n\n    graph.updateConnected();\n\n    if (!graph.isConnected) {\n      nodeList = nodeList.concat(graph.getNodes());\n    }\n  }\n\n  return nodeList;\n};\n\nCoSELayout.prototype.createBendpoints = function () {\n  var edges = [];\n  edges = edges.concat(this.graphManager.getAllEdges());\n  var visited = new Set();\n  var i;\n  for (i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n\n    if (!visited.has(edge)) {\n      var source = edge.getSource();\n      var target = edge.getTarget();\n\n      if (source == target) {\n        edge.getBendpoints().push(new PointD());\n        edge.getBendpoints().push(new PointD());\n        this.createDummyNodesForBendpoints(edge);\n        visited.add(edge);\n      } else {\n        var edgeList = [];\n\n        edgeList = edgeList.concat(source.getEdgeListToNode(target));\n        edgeList = edgeList.concat(target.getEdgeListToNode(source));\n\n        if (!visited.has(edgeList[0])) {\n          if (edgeList.length > 1) {\n            var k;\n            for (k = 0; k < edgeList.length; k++) {\n              var multiEdge = edgeList[k];\n              multiEdge.getBendpoints().push(new PointD());\n              this.createDummyNodesForBendpoints(multiEdge);\n            }\n          }\n          edgeList.forEach(function (edge) {\n            visited.add(edge);\n          });\n        }\n      }\n    }\n\n    if (visited.size == edges.length) {\n      break;\n    }\n  }\n};\n\nCoSELayout.prototype.positionNodesRadially = function (forest) {\n  // We tile the trees to a grid row by row; first tree starts at (0,0)\n  var currentStartingPoint = new Point(0, 0);\n  var numberOfColumns = Math.ceil(Math.sqrt(forest.length));\n  var height = 0;\n  var currentY = 0;\n  var currentX = 0;\n  var point = new PointD(0, 0);\n\n  for (var i = 0; i < forest.length; i++) {\n    if (i % numberOfColumns == 0) {\n      // Start of a new row, make the x coordinate 0, increment the\n      // y coordinate with the max height of the previous row\n      currentX = 0;\n      currentY = height;\n\n      if (i != 0) {\n        currentY += CoSEConstants.DEFAULT_COMPONENT_SEPERATION;\n      }\n\n      height = 0;\n    }\n\n    var tree = forest[i];\n\n    // Find the center of the tree\n    var centerNode = Layout.findCenterOfTree(tree);\n\n    // Set the staring point of the next tree\n    currentStartingPoint.x = currentX;\n    currentStartingPoint.y = currentY;\n\n    // Do a radial layout starting with the center\n    point = CoSELayout.radialLayout(tree, centerNode, currentStartingPoint);\n\n    if (point.y > height) {\n      height = Math.floor(point.y);\n    }\n\n    currentX = Math.floor(point.x + CoSEConstants.DEFAULT_COMPONENT_SEPERATION);\n  }\n\n  this.transform(new PointD(LayoutConstants.WORLD_CENTER_X - point.x / 2, LayoutConstants.WORLD_CENTER_Y - point.y / 2));\n};\n\nCoSELayout.radialLayout = function (tree, centerNode, startingPoint) {\n  var radialSep = Math.max(this.maxDiagonalInTree(tree), CoSEConstants.DEFAULT_RADIAL_SEPARATION);\n  CoSELayout.branchRadialLayout(centerNode, null, 0, 359, 0, radialSep);\n  var bounds = LGraph.calculateBounds(tree);\n\n  var transform = new Transform();\n  transform.setDeviceOrgX(bounds.getMinX());\n  transform.setDeviceOrgY(bounds.getMinY());\n  transform.setWorldOrgX(startingPoint.x);\n  transform.setWorldOrgY(startingPoint.y);\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n    node.transform(transform);\n  }\n\n  var bottomRight = new PointD(bounds.getMaxX(), bounds.getMaxY());\n\n  return transform.inverseTransformPoint(bottomRight);\n};\n\nCoSELayout.branchRadialLayout = function (node, parentOfNode, startAngle, endAngle, distance, radialSeparation) {\n  // First, position this node by finding its angle.\n  var halfInterval = (endAngle - startAngle + 1) / 2;\n\n  if (halfInterval < 0) {\n    halfInterval += 180;\n  }\n\n  var nodeAngle = (halfInterval + startAngle) % 360;\n  var teta = nodeAngle * IGeometry.TWO_PI / 360;\n\n  // Make polar to java cordinate conversion.\n  var cos_teta = Math.cos(teta);\n  var x_ = distance * Math.cos(teta);\n  var y_ = distance * Math.sin(teta);\n\n  node.setCenter(x_, y_);\n\n  // Traverse all neighbors of this node and recursively call this\n  // function.\n  var neighborEdges = [];\n  neighborEdges = neighborEdges.concat(node.getEdges());\n  var childCount = neighborEdges.length;\n\n  if (parentOfNode != null) {\n    childCount--;\n  }\n\n  var branchCount = 0;\n\n  var incEdgesCount = neighborEdges.length;\n  var startIndex;\n\n  var edges = node.getEdgesBetween(parentOfNode);\n\n  // If there are multiple edges, prune them until there remains only one\n  // edge.\n  while (edges.length > 1) {\n    //neighborEdges.remove(edges.remove(0));\n    var temp = edges[0];\n    edges.splice(0, 1);\n    var index = neighborEdges.indexOf(temp);\n    if (index >= 0) {\n      neighborEdges.splice(index, 1);\n    }\n    incEdgesCount--;\n    childCount--;\n  }\n\n  if (parentOfNode != null) {\n    //assert edges.length == 1;\n    startIndex = (neighborEdges.indexOf(edges[0]) + 1) % incEdgesCount;\n  } else {\n    startIndex = 0;\n  }\n\n  var stepAngle = Math.abs(endAngle - startAngle) / childCount;\n\n  for (var i = startIndex; branchCount != childCount; i = ++i % incEdgesCount) {\n    var currentNeighbor = neighborEdges[i].getOtherEnd(node);\n\n    // Don't back traverse to root node in current tree.\n    if (currentNeighbor == parentOfNode) {\n      continue;\n    }\n\n    var childStartAngle = (startAngle + branchCount * stepAngle) % 360;\n    var childEndAngle = (childStartAngle + stepAngle) % 360;\n\n    CoSELayout.branchRadialLayout(currentNeighbor, node, childStartAngle, childEndAngle, distance + radialSeparation, radialSeparation);\n\n    branchCount++;\n  }\n};\n\nCoSELayout.maxDiagonalInTree = function (tree) {\n  var maxDiagonal = Integer.MIN_VALUE;\n\n  for (var i = 0; i < tree.length; i++) {\n    var node = tree[i];\n    var diagonal = node.getDiagonal();\n\n    if (diagonal > maxDiagonal) {\n      maxDiagonal = diagonal;\n    }\n  }\n\n  return maxDiagonal;\n};\n\nCoSELayout.prototype.calcRepulsionRange = function () {\n  // formula is 2 x (level + 1) x idealEdgeLength\n  return 2 * (this.level + 1) * this.idealEdgeLength;\n};\n\n// Tiling methods\n\n// Group zero degree members whose parents are not to be tiled, create dummy parents where needed and fill memberGroups by their dummp parent id's\nCoSELayout.prototype.groupZeroDegreeMembers = function () {\n  var self = this;\n  // array of [parent_id x oneDegreeNode_id]\n  var tempMemberGroups = {}; // A temporary map of parent node and its zero degree members\n  this.memberGroups = {}; // A map of dummy parent node and its zero degree members whose parents are not to be tiled\n  this.idToDummyNode = {}; // A map of id to dummy node \n\n  var zeroDegree = []; // List of zero degree nodes whose parents are not to be tiled\n  var allNodes = this.graphManager.getAllNodes();\n\n  // Fill zero degree list\n  for (var i = 0; i < allNodes.length; i++) {\n    var node = allNodes[i];\n    var parent = node.getParent();\n    // If a node has zero degree and its parent is not to be tiled if exists add that node to zeroDegres list\n    if (this.getNodeDegreeWithChildren(node) === 0 && (parent.id == undefined || !this.getToBeTiled(parent))) {\n      zeroDegree.push(node);\n    }\n  }\n\n  // Create a map of parent node and its zero degree members\n  for (var i = 0; i < zeroDegree.length; i++) {\n    var node = zeroDegree[i]; // Zero degree node itself\n    var p_id = node.getParent().id; // Parent id\n\n    if (typeof tempMemberGroups[p_id] === \"undefined\") tempMemberGroups[p_id] = [];\n\n    tempMemberGroups[p_id] = tempMemberGroups[p_id].concat(node); // Push node to the list belongs to its parent in tempMemberGroups\n  }\n\n  // If there are at least two nodes at a level, create a dummy compound for them\n  Object.keys(tempMemberGroups).forEach(function (p_id) {\n    if (tempMemberGroups[p_id].length > 1) {\n      var dummyCompoundId = \"DummyCompound_\" + p_id; // The id of dummy compound which will be created soon\n      self.memberGroups[dummyCompoundId] = tempMemberGroups[p_id]; // Add dummy compound to memberGroups\n\n      var parent = tempMemberGroups[p_id][0].getParent(); // The parent of zero degree nodes will be the parent of new dummy compound\n\n      // Create a dummy compound with calculated id\n      var dummyCompound = new CoSENode(self.graphManager);\n      dummyCompound.id = dummyCompoundId;\n      dummyCompound.paddingLeft = parent.paddingLeft || 0;\n      dummyCompound.paddingRight = parent.paddingRight || 0;\n      dummyCompound.paddingBottom = parent.paddingBottom || 0;\n      dummyCompound.paddingTop = parent.paddingTop || 0;\n\n      self.idToDummyNode[dummyCompoundId] = dummyCompound;\n\n      var dummyParentGraph = self.getGraphManager().add(self.newGraph(), dummyCompound);\n      var parentGraph = parent.getChild();\n\n      // Add dummy compound to parent the graph\n      parentGraph.add(dummyCompound);\n\n      // For each zero degree node in this level remove it from its parent graph and add it to the graph of dummy parent\n      for (var i = 0; i < tempMemberGroups[p_id].length; i++) {\n        var node = tempMemberGroups[p_id][i];\n\n        parentGraph.remove(node);\n        dummyParentGraph.add(node);\n      }\n    }\n  });\n};\n\nCoSELayout.prototype.clearCompounds = function () {\n  var childGraphMap = {};\n  var idToNode = {};\n\n  // Get compound ordering by finding the inner one first\n  this.performDFSOnCompounds();\n\n  for (var i = 0; i < this.compoundOrder.length; i++) {\n\n    idToNode[this.compoundOrder[i].id] = this.compoundOrder[i];\n    childGraphMap[this.compoundOrder[i].id] = [].concat(this.compoundOrder[i].getChild().getNodes());\n\n    // Remove children of compounds\n    this.graphManager.remove(this.compoundOrder[i].getChild());\n    this.compoundOrder[i].child = null;\n  }\n\n  this.graphManager.resetAllNodes();\n\n  // Tile the removed children\n  this.tileCompoundMembers(childGraphMap, idToNode);\n};\n\nCoSELayout.prototype.clearZeroDegreeMembers = function () {\n  var self = this;\n  var tiledZeroDegreePack = this.tiledZeroDegreePack = [];\n\n  Object.keys(this.memberGroups).forEach(function (id) {\n    var compoundNode = self.idToDummyNode[id]; // Get the dummy compound\n\n    tiledZeroDegreePack[id] = self.tileNodes(self.memberGroups[id], compoundNode.paddingLeft + compoundNode.paddingRight);\n\n    // Set the width and height of the dummy compound as calculated\n    compoundNode.rect.width = tiledZeroDegreePack[id].width;\n    compoundNode.rect.height = tiledZeroDegreePack[id].height;\n  });\n};\n\nCoSELayout.prototype.repopulateCompounds = function () {\n  for (var i = this.compoundOrder.length - 1; i >= 0; i--) {\n    var lCompoundNode = this.compoundOrder[i];\n    var id = lCompoundNode.id;\n    var horizontalMargin = lCompoundNode.paddingLeft;\n    var verticalMargin = lCompoundNode.paddingTop;\n\n    this.adjustLocations(this.tiledMemberPack[id], lCompoundNode.rect.x, lCompoundNode.rect.y, horizontalMargin, verticalMargin);\n  }\n};\n\nCoSELayout.prototype.repopulateZeroDegreeMembers = function () {\n  var self = this;\n  var tiledPack = this.tiledZeroDegreePack;\n\n  Object.keys(tiledPack).forEach(function (id) {\n    var compoundNode = self.idToDummyNode[id]; // Get the dummy compound by its id\n    var horizontalMargin = compoundNode.paddingLeft;\n    var verticalMargin = compoundNode.paddingTop;\n\n    // Adjust the positions of nodes wrt its compound\n    self.adjustLocations(tiledPack[id], compoundNode.rect.x, compoundNode.rect.y, horizontalMargin, verticalMargin);\n  });\n};\n\nCoSELayout.prototype.getToBeTiled = function (node) {\n  var id = node.id;\n  //firstly check the previous results\n  if (this.toBeTiled[id] != null) {\n    return this.toBeTiled[id];\n  }\n\n  //only compound nodes are to be tiled\n  var childGraph = node.getChild();\n  if (childGraph == null) {\n    this.toBeTiled[id] = false;\n    return false;\n  }\n\n  var children = childGraph.getNodes(); // Get the children nodes\n\n  //a compound node is not to be tiled if all of its compound children are not to be tiled\n  for (var i = 0; i < children.length; i++) {\n    var theChild = children[i];\n\n    if (this.getNodeDegree(theChild) > 0) {\n      this.toBeTiled[id] = false;\n      return false;\n    }\n\n    //pass the children not having the compound structure\n    if (theChild.getChild() == null) {\n      this.toBeTiled[theChild.id] = false;\n      continue;\n    }\n\n    if (!this.getToBeTiled(theChild)) {\n      this.toBeTiled[id] = false;\n      return false;\n    }\n  }\n  this.toBeTiled[id] = true;\n  return true;\n};\n\n// Get degree of a node depending of its edges and independent of its children\nCoSELayout.prototype.getNodeDegree = function (node) {\n  var id = node.id;\n  var edges = node.getEdges();\n  var degree = 0;\n\n  // For the edges connected\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    if (edge.getSource().id !== edge.getTarget().id) {\n      degree = degree + 1;\n    }\n  }\n  return degree;\n};\n\n// Get degree of a node with its children\nCoSELayout.prototype.getNodeDegreeWithChildren = function (node) {\n  var degree = this.getNodeDegree(node);\n  if (node.getChild() == null) {\n    return degree;\n  }\n  var children = node.getChild().getNodes();\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    degree += this.getNodeDegreeWithChildren(child);\n  }\n  return degree;\n};\n\nCoSELayout.prototype.performDFSOnCompounds = function () {\n  this.compoundOrder = [];\n  this.fillCompexOrderByDFS(this.graphManager.getRoot().getNodes());\n};\n\nCoSELayout.prototype.fillCompexOrderByDFS = function (children) {\n  for (var i = 0; i < children.length; i++) {\n    var child = children[i];\n    if (child.getChild() != null) {\n      this.fillCompexOrderByDFS(child.getChild().getNodes());\n    }\n    if (this.getToBeTiled(child)) {\n      this.compoundOrder.push(child);\n    }\n  }\n};\n\n/**\n* This method places each zero degree member wrt given (x,y) coordinates (top left).\n*/\nCoSELayout.prototype.adjustLocations = function (organization, x, y, compoundHorizontalMargin, compoundVerticalMargin) {\n  x += compoundHorizontalMargin;\n  y += compoundVerticalMargin;\n\n  var left = x;\n\n  for (var i = 0; i < organization.rows.length; i++) {\n    var row = organization.rows[i];\n    x = left;\n    var maxHeight = 0;\n\n    for (var j = 0; j < row.length; j++) {\n      var lnode = row[j];\n\n      lnode.rect.x = x; // + lnode.rect.width / 2;\n      lnode.rect.y = y; // + lnode.rect.height / 2;\n\n      x += lnode.rect.width + organization.horizontalPadding;\n\n      if (lnode.rect.height > maxHeight) maxHeight = lnode.rect.height;\n    }\n\n    y += maxHeight + organization.verticalPadding;\n  }\n};\n\nCoSELayout.prototype.tileCompoundMembers = function (childGraphMap, idToNode) {\n  var self = this;\n  this.tiledMemberPack = [];\n\n  Object.keys(childGraphMap).forEach(function (id) {\n    // Get the compound node\n    var compoundNode = idToNode[id];\n\n    self.tiledMemberPack[id] = self.tileNodes(childGraphMap[id], compoundNode.paddingLeft + compoundNode.paddingRight);\n\n    compoundNode.rect.width = self.tiledMemberPack[id].width;\n    compoundNode.rect.height = self.tiledMemberPack[id].height;\n  });\n};\n\nCoSELayout.prototype.tileNodes = function (nodes, minWidth) {\n  var verticalPadding = CoSEConstants.TILING_PADDING_VERTICAL;\n  var horizontalPadding = CoSEConstants.TILING_PADDING_HORIZONTAL;\n  var organization = {\n    rows: [],\n    rowWidth: [],\n    rowHeight: [],\n    width: 0,\n    height: minWidth, // assume minHeight equals to minWidth\n    verticalPadding: verticalPadding,\n    horizontalPadding: horizontalPadding\n  };\n\n  // Sort the nodes in ascending order of their areas\n  nodes.sort(function (n1, n2) {\n    if (n1.rect.width * n1.rect.height > n2.rect.width * n2.rect.height) return -1;\n    if (n1.rect.width * n1.rect.height < n2.rect.width * n2.rect.height) return 1;\n    return 0;\n  });\n\n  // Create the organization -> tile members\n  for (var i = 0; i < nodes.length; i++) {\n    var lNode = nodes[i];\n\n    if (organization.rows.length == 0) {\n      this.insertNodeToRow(organization, lNode, 0, minWidth);\n    } else if (this.canAddHorizontal(organization, lNode.rect.width, lNode.rect.height)) {\n      this.insertNodeToRow(organization, lNode, this.getShortestRowIndex(organization), minWidth);\n    } else {\n      this.insertNodeToRow(organization, lNode, organization.rows.length, minWidth);\n    }\n\n    this.shiftToLastRow(organization);\n  }\n\n  return organization;\n};\n\nCoSELayout.prototype.insertNodeToRow = function (organization, node, rowIndex, minWidth) {\n  var minCompoundSize = minWidth;\n\n  // Add new row if needed\n  if (rowIndex == organization.rows.length) {\n    var secondDimension = [];\n\n    organization.rows.push(secondDimension);\n    organization.rowWidth.push(minCompoundSize);\n    organization.rowHeight.push(0);\n  }\n\n  // Update row width\n  var w = organization.rowWidth[rowIndex] + node.rect.width;\n\n  if (organization.rows[rowIndex].length > 0) {\n    w += organization.horizontalPadding;\n  }\n\n  organization.rowWidth[rowIndex] = w;\n  // Update compound width\n  if (organization.width < w) {\n    organization.width = w;\n  }\n\n  // Update height\n  var h = node.rect.height;\n  if (rowIndex > 0) h += organization.verticalPadding;\n\n  var extraHeight = 0;\n  if (h > organization.rowHeight[rowIndex]) {\n    extraHeight = organization.rowHeight[rowIndex];\n    organization.rowHeight[rowIndex] = h;\n    extraHeight = organization.rowHeight[rowIndex] - extraHeight;\n  }\n\n  organization.height += extraHeight;\n\n  // Insert node\n  organization.rows[rowIndex].push(node);\n};\n\n//Scans the rows of an organization and returns the one with the min width\nCoSELayout.prototype.getShortestRowIndex = function (organization) {\n  var r = -1;\n  var min = Number.MAX_VALUE;\n\n  for (var i = 0; i < organization.rows.length; i++) {\n    if (organization.rowWidth[i] < min) {\n      r = i;\n      min = organization.rowWidth[i];\n    }\n  }\n  return r;\n};\n\n//Scans the rows of an organization and returns the one with the max width\nCoSELayout.prototype.getLongestRowIndex = function (organization) {\n  var r = -1;\n  var max = Number.MIN_VALUE;\n\n  for (var i = 0; i < organization.rows.length; i++) {\n\n    if (organization.rowWidth[i] > max) {\n      r = i;\n      max = organization.rowWidth[i];\n    }\n  }\n\n  return r;\n};\n\n/**\n* This method checks whether adding extra width to the organization violates\n* the aspect ratio(1) or not.\n*/\nCoSELayout.prototype.canAddHorizontal = function (organization, extraWidth, extraHeight) {\n\n  var sri = this.getShortestRowIndex(organization);\n\n  if (sri < 0) {\n    return true;\n  }\n\n  var min = organization.rowWidth[sri];\n\n  if (min + organization.horizontalPadding + extraWidth <= organization.width) return true;\n\n  var hDiff = 0;\n\n  // Adding to an existing row\n  if (organization.rowHeight[sri] < extraHeight) {\n    if (sri > 0) hDiff = extraHeight + organization.verticalPadding - organization.rowHeight[sri];\n  }\n\n  var add_to_row_ratio;\n  if (organization.width - min >= extraWidth + organization.horizontalPadding) {\n    add_to_row_ratio = (organization.height + hDiff) / (min + extraWidth + organization.horizontalPadding);\n  } else {\n    add_to_row_ratio = (organization.height + hDiff) / organization.width;\n  }\n\n  // Adding a new row for this node\n  hDiff = extraHeight + organization.verticalPadding;\n  var add_new_row_ratio;\n  if (organization.width < extraWidth) {\n    add_new_row_ratio = (organization.height + hDiff) / extraWidth;\n  } else {\n    add_new_row_ratio = (organization.height + hDiff) / organization.width;\n  }\n\n  if (add_new_row_ratio < 1) add_new_row_ratio = 1 / add_new_row_ratio;\n\n  if (add_to_row_ratio < 1) add_to_row_ratio = 1 / add_to_row_ratio;\n\n  return add_to_row_ratio < add_new_row_ratio;\n};\n\n//If moving the last node from the longest row and adding it to the last\n//row makes the bounding box smaller, do it.\nCoSELayout.prototype.shiftToLastRow = function (organization) {\n  var longest = this.getLongestRowIndex(organization);\n  var last = organization.rowWidth.length - 1;\n  var row = organization.rows[longest];\n  var node = row[row.length - 1];\n\n  var diff = node.width + organization.horizontalPadding;\n\n  // Check if there is enough space on the last row\n  if (organization.width - organization.rowWidth[last] > diff && longest != last) {\n    // Remove the last element of the longest row\n    row.splice(-1, 1);\n\n    // Push it to the last row\n    organization.rows[last].push(node);\n\n    organization.rowWidth[longest] = organization.rowWidth[longest] - diff;\n    organization.rowWidth[last] = organization.rowWidth[last] + diff;\n    organization.width = organization.rowWidth[instance.getLongestRowIndex(organization)];\n\n    // Update heights of the organization\n    var maxHeight = Number.MIN_VALUE;\n    for (var i = 0; i < row.length; i++) {\n      if (row[i].height > maxHeight) maxHeight = row[i].height;\n    }\n    if (longest > 0) maxHeight += organization.verticalPadding;\n\n    var prevTotal = organization.rowHeight[longest] + organization.rowHeight[last];\n\n    organization.rowHeight[longest] = maxHeight;\n    if (organization.rowHeight[last] < node.height + organization.verticalPadding) organization.rowHeight[last] = node.height + organization.verticalPadding;\n\n    var finalTotal = organization.rowHeight[longest] + organization.rowHeight[last];\n    organization.height += finalTotal - prevTotal;\n\n    this.shiftToLastRow(organization);\n  }\n};\n\nCoSELayout.prototype.tilingPreLayout = function () {\n  if (CoSEConstants.TILE) {\n    // Find zero degree nodes and create a compound for each level\n    this.groupZeroDegreeMembers();\n    // Tile and clear children of each compound\n    this.clearCompounds();\n    // Separately tile and clear zero degree nodes for each level\n    this.clearZeroDegreeMembers();\n  }\n};\n\nCoSELayout.prototype.tilingPostLayout = function () {\n  if (CoSEConstants.TILE) {\n    this.repopulateZeroDegreeMembers();\n    this.repopulateCompounds();\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: Tree Reduction methods\n// -----------------------------------------------------------------------------\n// Reduce trees \nCoSELayout.prototype.reduceTrees = function () {\n  var prunedNodesAll = [];\n  var containsLeaf = true;\n  var node;\n\n  while (containsLeaf) {\n    var allNodes = this.graphManager.getAllNodes();\n    var prunedNodesInStepTemp = [];\n    containsLeaf = false;\n\n    for (var i = 0; i < allNodes.length; i++) {\n      node = allNodes[i];\n      if (node.getEdges().length == 1 && !node.getEdges()[0].isInterGraph && node.getChild() == null) {\n        prunedNodesInStepTemp.push([node, node.getEdges()[0], node.getOwner()]);\n        containsLeaf = true;\n      }\n    }\n    if (containsLeaf == true) {\n      var prunedNodesInStep = [];\n      for (var j = 0; j < prunedNodesInStepTemp.length; j++) {\n        if (prunedNodesInStepTemp[j][0].getEdges().length == 1) {\n          prunedNodesInStep.push(prunedNodesInStepTemp[j]);\n          prunedNodesInStepTemp[j][0].getOwner().remove(prunedNodesInStepTemp[j][0]);\n        }\n      }\n      prunedNodesAll.push(prunedNodesInStep);\n      this.graphManager.resetAllNodes();\n      this.graphManager.resetAllEdges();\n    }\n  }\n  this.prunedNodesAll = prunedNodesAll;\n};\n\n// Grow tree one step \nCoSELayout.prototype.growTree = function (prunedNodesAll) {\n  var lengthOfPrunedNodesInStep = prunedNodesAll.length;\n  var prunedNodesInStep = prunedNodesAll[lengthOfPrunedNodesInStep - 1];\n\n  var nodeData;\n  for (var i = 0; i < prunedNodesInStep.length; i++) {\n    nodeData = prunedNodesInStep[i];\n\n    this.findPlaceforPrunedNode(nodeData);\n\n    nodeData[2].add(nodeData[0]);\n    nodeData[2].add(nodeData[1], nodeData[1].source, nodeData[1].target);\n  }\n\n  prunedNodesAll.splice(prunedNodesAll.length - 1, 1);\n  this.graphManager.resetAllNodes();\n  this.graphManager.resetAllEdges();\n};\n\n// Find an appropriate position to replace pruned node, this method can be improved\nCoSELayout.prototype.findPlaceforPrunedNode = function (nodeData) {\n\n  var gridForPrunedNode;\n  var nodeToConnect;\n  var prunedNode = nodeData[0];\n  if (prunedNode == nodeData[1].source) {\n    nodeToConnect = nodeData[1].target;\n  } else {\n    nodeToConnect = nodeData[1].source;\n  }\n  var startGridX = nodeToConnect.startX;\n  var finishGridX = nodeToConnect.finishX;\n  var startGridY = nodeToConnect.startY;\n  var finishGridY = nodeToConnect.finishY;\n\n  var upNodeCount = 0;\n  var downNodeCount = 0;\n  var rightNodeCount = 0;\n  var leftNodeCount = 0;\n  var controlRegions = [upNodeCount, rightNodeCount, downNodeCount, leftNodeCount];\n\n  if (startGridY > 0) {\n    for (var i = startGridX; i <= finishGridX; i++) {\n      controlRegions[0] += this.grid[i][startGridY - 1].length + this.grid[i][startGridY].length - 1;\n    }\n  }\n  if (finishGridX < this.grid.length - 1) {\n    for (var i = startGridY; i <= finishGridY; i++) {\n      controlRegions[1] += this.grid[finishGridX + 1][i].length + this.grid[finishGridX][i].length - 1;\n    }\n  }\n  if (finishGridY < this.grid[0].length - 1) {\n    for (var i = startGridX; i <= finishGridX; i++) {\n      controlRegions[2] += this.grid[i][finishGridY + 1].length + this.grid[i][finishGridY].length - 1;\n    }\n  }\n  if (startGridX > 0) {\n    for (var i = startGridY; i <= finishGridY; i++) {\n      controlRegions[3] += this.grid[startGridX - 1][i].length + this.grid[startGridX][i].length - 1;\n    }\n  }\n  var min = Integer.MAX_VALUE;\n  var minCount;\n  var minIndex;\n  for (var j = 0; j < controlRegions.length; j++) {\n    if (controlRegions[j] < min) {\n      min = controlRegions[j];\n      minCount = 1;\n      minIndex = j;\n    } else if (controlRegions[j] == min) {\n      minCount++;\n    }\n  }\n\n  if (minCount == 3 && min == 0) {\n    if (controlRegions[0] == 0 && controlRegions[1] == 0 && controlRegions[2] == 0) {\n      gridForPrunedNode = 1;\n    } else if (controlRegions[0] == 0 && controlRegions[1] == 0 && controlRegions[3] == 0) {\n      gridForPrunedNode = 0;\n    } else if (controlRegions[0] == 0 && controlRegions[2] == 0 && controlRegions[3] == 0) {\n      gridForPrunedNode = 3;\n    } else if (controlRegions[1] == 0 && controlRegions[2] == 0 && controlRegions[3] == 0) {\n      gridForPrunedNode = 2;\n    }\n  } else if (minCount == 2 && min == 0) {\n    var random = Math.floor(Math.random() * 2);\n    if (controlRegions[0] == 0 && controlRegions[1] == 0) {\n      ;\n      if (random == 0) {\n        gridForPrunedNode = 0;\n      } else {\n        gridForPrunedNode = 1;\n      }\n    } else if (controlRegions[0] == 0 && controlRegions[2] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 0;\n      } else {\n        gridForPrunedNode = 2;\n      }\n    } else if (controlRegions[0] == 0 && controlRegions[3] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 0;\n      } else {\n        gridForPrunedNode = 3;\n      }\n    } else if (controlRegions[1] == 0 && controlRegions[2] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 1;\n      } else {\n        gridForPrunedNode = 2;\n      }\n    } else if (controlRegions[1] == 0 && controlRegions[3] == 0) {\n      if (random == 0) {\n        gridForPrunedNode = 1;\n      } else {\n        gridForPrunedNode = 3;\n      }\n    } else {\n      if (random == 0) {\n        gridForPrunedNode = 2;\n      } else {\n        gridForPrunedNode = 3;\n      }\n    }\n  } else if (minCount == 4 && min == 0) {\n    var random = Math.floor(Math.random() * 4);\n    gridForPrunedNode = random;\n  } else {\n    gridForPrunedNode = minIndex;\n  }\n\n  if (gridForPrunedNode == 0) {\n    prunedNode.setCenter(nodeToConnect.getCenterX(), nodeToConnect.getCenterY() - nodeToConnect.getHeight() / 2 - FDLayoutConstants.DEFAULT_EDGE_LENGTH - prunedNode.getHeight() / 2);\n  } else if (gridForPrunedNode == 1) {\n    prunedNode.setCenter(nodeToConnect.getCenterX() + nodeToConnect.getWidth() / 2 + FDLayoutConstants.DEFAULT_EDGE_LENGTH + prunedNode.getWidth() / 2, nodeToConnect.getCenterY());\n  } else if (gridForPrunedNode == 2) {\n    prunedNode.setCenter(nodeToConnect.getCenterX(), nodeToConnect.getCenterY() + nodeToConnect.getHeight() / 2 + FDLayoutConstants.DEFAULT_EDGE_LENGTH + prunedNode.getHeight() / 2);\n  } else {\n    prunedNode.setCenter(nodeToConnect.getCenterX() - nodeToConnect.getWidth() / 2 - FDLayoutConstants.DEFAULT_EDGE_LENGTH - prunedNode.getWidth() / 2, nodeToConnect.getCenterY());\n  }\n};\n\nmodule.exports = CoSELayout;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar coseBase = {};\n\ncoseBase.layoutBase = __webpack_require__(0);\ncoseBase.CoSEConstants = __webpack_require__(1);\ncoseBase.CoSEEdge = __webpack_require__(2);\ncoseBase.CoSEGraph = __webpack_require__(3);\ncoseBase.CoSEGraphManager = __webpack_require__(4);\ncoseBase.CoSELayout = __webpack_require__(6);\ncoseBase.CoSENode = __webpack_require__(5);\n\nmodule.exports = coseBase;\n\n/***/ })\n/******/ ]);\n});","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cose-base\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cose-base\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cytoscapeCoseBilkent\"] = factory(require(\"cose-base\"));\n\telse\n\t\troot[\"cytoscapeCoseBilkent\"] = factory(root[\"coseBase\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0).layoutBase.LayoutConstants;\nvar FDLayoutConstants = __webpack_require__(0).layoutBase.FDLayoutConstants;\nvar CoSEConstants = __webpack_require__(0).CoSEConstants;\nvar CoSELayout = __webpack_require__(0).CoSELayout;\nvar CoSENode = __webpack_require__(0).CoSENode;\nvar PointD = __webpack_require__(0).layoutBase.PointD;\nvar DimensionD = __webpack_require__(0).layoutBase.DimensionD;\n\nvar defaults = {\n  // Called on `layoutready`\n  ready: function ready() {},\n  // Called on `layoutstop`\n  stop: function stop() {},\n  // 'draft', 'default' or 'proof\" \n  // - 'draft' fast cooling rate \n  // - 'default' moderate cooling rate \n  // - \"proof\" slow cooling rate\n  quality: 'default',\n  // include labels in node dimensions\n  nodeDimensionsIncludeLabels: false,\n  // number of ticks per frame; higher is faster but more jerky\n  refresh: 30,\n  // Whether to fit the network view after when done\n  fit: true,\n  // Padding on fit\n  padding: 10,\n  // Whether to enable incremental mode\n  randomize: true,\n  // Node repulsion (non overlapping) multiplier\n  nodeRepulsion: 4500,\n  // Ideal edge (non nested) length\n  idealEdgeLength: 50,\n  // Divisor to compute edge forces\n  edgeElasticity: 0.45,\n  // Nesting factor (multiplier) to compute ideal edge length for nested edges\n  nestingFactor: 0.1,\n  // Gravity force (constant)\n  gravity: 0.25,\n  // Maximum number of iterations to perform\n  numIter: 2500,\n  // For enabling tiling\n  tile: true,\n  // Type of layout animation. The option set is {'during', 'end', false}\n  animate: 'end',\n  // Duration for animate:end\n  animationDuration: 500,\n  // Represents the amount of the vertical space to put between the zero degree members during the tiling operation(can also be a function)\n  tilingPaddingVertical: 10,\n  // Represents the amount of the horizontal space to put between the zero degree members during the tiling operation(can also be a function)\n  tilingPaddingHorizontal: 10,\n  // Gravity range (constant) for compounds\n  gravityRangeCompound: 1.5,\n  // Gravity force (constant) for compounds\n  gravityCompound: 1.0,\n  // Gravity range (constant)\n  gravityRange: 3.8,\n  // Initial cooling factor for incremental layout\n  initialEnergyOnIncremental: 0.5\n};\n\nfunction extend(defaults, options) {\n  var obj = {};\n\n  for (var i in defaults) {\n    obj[i] = defaults[i];\n  }\n\n  for (var i in options) {\n    obj[i] = options[i];\n  }\n\n  return obj;\n};\n\nfunction _CoSELayout(_options) {\n  this.options = extend(defaults, _options);\n  getUserOptions(this.options);\n}\n\nvar getUserOptions = function getUserOptions(options) {\n  if (options.nodeRepulsion != null) CoSEConstants.DEFAULT_REPULSION_STRENGTH = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH = options.nodeRepulsion;\n  if (options.idealEdgeLength != null) CoSEConstants.DEFAULT_EDGE_LENGTH = FDLayoutConstants.DEFAULT_EDGE_LENGTH = options.idealEdgeLength;\n  if (options.edgeElasticity != null) CoSEConstants.DEFAULT_SPRING_STRENGTH = FDLayoutConstants.DEFAULT_SPRING_STRENGTH = options.edgeElasticity;\n  if (options.nestingFactor != null) CoSEConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = options.nestingFactor;\n  if (options.gravity != null) CoSEConstants.DEFAULT_GRAVITY_STRENGTH = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH = options.gravity;\n  if (options.numIter != null) CoSEConstants.MAX_ITERATIONS = FDLayoutConstants.MAX_ITERATIONS = options.numIter;\n  if (options.gravityRange != null) CoSEConstants.DEFAULT_GRAVITY_RANGE_FACTOR = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR = options.gravityRange;\n  if (options.gravityCompound != null) CoSEConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = options.gravityCompound;\n  if (options.gravityRangeCompound != null) CoSEConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = options.gravityRangeCompound;\n  if (options.initialEnergyOnIncremental != null) CoSEConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = options.initialEnergyOnIncremental;\n\n  if (options.quality == 'draft') LayoutConstants.QUALITY = 0;else if (options.quality == 'proof') LayoutConstants.QUALITY = 2;else LayoutConstants.QUALITY = 1;\n\n  CoSEConstants.NODE_DIMENSIONS_INCLUDE_LABELS = FDLayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = options.nodeDimensionsIncludeLabels;\n  CoSEConstants.DEFAULT_INCREMENTAL = FDLayoutConstants.DEFAULT_INCREMENTAL = LayoutConstants.DEFAULT_INCREMENTAL = !options.randomize;\n  CoSEConstants.ANIMATE = FDLayoutConstants.ANIMATE = LayoutConstants.ANIMATE = options.animate;\n  CoSEConstants.TILE = options.tile;\n  CoSEConstants.TILING_PADDING_VERTICAL = typeof options.tilingPaddingVertical === 'function' ? options.tilingPaddingVertical.call() : options.tilingPaddingVertical;\n  CoSEConstants.TILING_PADDING_HORIZONTAL = typeof options.tilingPaddingHorizontal === 'function' ? options.tilingPaddingHorizontal.call() : options.tilingPaddingHorizontal;\n};\n\n_CoSELayout.prototype.run = function () {\n  var ready;\n  var frameId;\n  var options = this.options;\n  var idToLNode = this.idToLNode = {};\n  var layout = this.layout = new CoSELayout();\n  var self = this;\n\n  self.stopped = false;\n\n  this.cy = this.options.cy;\n\n  this.cy.trigger({ type: 'layoutstart', layout: this });\n\n  var gm = layout.newGraphManager();\n  this.gm = gm;\n\n  var nodes = this.options.eles.nodes();\n  var edges = this.options.eles.edges();\n\n  this.root = gm.addRoot();\n  this.processChildrenList(this.root, this.getTopMostNodes(nodes), layout);\n\n  for (var i = 0; i < edges.length; i++) {\n    var edge = edges[i];\n    var sourceNode = this.idToLNode[edge.data(\"source\")];\n    var targetNode = this.idToLNode[edge.data(\"target\")];\n    if (sourceNode !== targetNode && sourceNode.getEdgesBetween(targetNode).length == 0) {\n      var e1 = gm.add(layout.newEdge(), sourceNode, targetNode);\n      e1.id = edge.id();\n    }\n  }\n\n  var getPositions = function getPositions(ele, i) {\n    if (typeof ele === \"number\") {\n      ele = i;\n    }\n    var theId = ele.data('id');\n    var lNode = self.idToLNode[theId];\n\n    return {\n      x: lNode.getRect().getCenterX(),\n      y: lNode.getRect().getCenterY()\n    };\n  };\n\n  /*\n   * Reposition nodes in iterations animatedly\n   */\n  var iterateAnimated = function iterateAnimated() {\n    // Thigs to perform after nodes are repositioned on screen\n    var afterReposition = function afterReposition() {\n      if (options.fit) {\n        options.cy.fit(options.eles, options.padding);\n      }\n\n      if (!ready) {\n        ready = true;\n        self.cy.one('layoutready', options.ready);\n        self.cy.trigger({ type: 'layoutready', layout: self });\n      }\n    };\n\n    var ticksPerFrame = self.options.refresh;\n    var isDone;\n\n    for (var i = 0; i < ticksPerFrame && !isDone; i++) {\n      isDone = self.stopped || self.layout.tick();\n    }\n\n    // If layout is done\n    if (isDone) {\n      // If the layout is not a sublayout and it is successful perform post layout.\n      if (layout.checkLayoutSuccess() && !layout.isSubLayout) {\n        layout.doPostLayout();\n      }\n\n      // If layout has a tilingPostLayout function property call it.\n      if (layout.tilingPostLayout) {\n        layout.tilingPostLayout();\n      }\n\n      layout.isLayoutFinished = true;\n\n      self.options.eles.nodes().positions(getPositions);\n\n      afterReposition();\n\n      // trigger layoutstop when the layout stops (e.g. finishes)\n      self.cy.one('layoutstop', self.options.stop);\n      self.cy.trigger({ type: 'layoutstop', layout: self });\n\n      if (frameId) {\n        cancelAnimationFrame(frameId);\n      }\n\n      ready = false;\n      return;\n    }\n\n    var animationData = self.layout.getPositionsData(); // Get positions of layout nodes note that all nodes may not be layout nodes because of tiling\n\n    // Position nodes, for the nodes whose id does not included in data (because they are removed from their parents and included in dummy compounds)\n    // use position of their ancestors or dummy ancestors\n    options.eles.nodes().positions(function (ele, i) {\n      if (typeof ele === \"number\") {\n        ele = i;\n      }\n      // If ele is a compound node, then its position will be defined by its children\n      if (!ele.isParent()) {\n        var theId = ele.id();\n        var pNode = animationData[theId];\n        var temp = ele;\n        // If pNode is undefined search until finding position data of its first ancestor (It may be dummy as well)\n        while (pNode == null) {\n          pNode = animationData[temp.data('parent')] || animationData['DummyCompound_' + temp.data('parent')];\n          animationData[theId] = pNode;\n          temp = temp.parent()[0];\n          if (temp == undefined) {\n            break;\n          }\n        }\n        if (pNode != null) {\n          return {\n            x: pNode.x,\n            y: pNode.y\n          };\n        } else {\n          return {\n            x: ele.position('x'),\n            y: ele.position('y')\n          };\n        }\n      }\n    });\n\n    afterReposition();\n\n    frameId = requestAnimationFrame(iterateAnimated);\n  };\n\n  /*\n  * Listen 'layoutstarted' event and start animated iteration if animate option is 'during'\n  */\n  layout.addListener('layoutstarted', function () {\n    if (self.options.animate === 'during') {\n      frameId = requestAnimationFrame(iterateAnimated);\n    }\n  });\n\n  layout.runLayout(); // Run cose layout\n\n  /*\n   * If animate option is not 'during' ('end' or false) perform these here (If it is 'during' similar things are already performed)\n   */\n  if (this.options.animate !== \"during\") {\n    self.options.eles.nodes().not(\":parent\").layoutPositions(self, self.options, getPositions); // Use layout positions to reposition the nodes it considers the options parameter\n    ready = false;\n  }\n\n  return this; // chaining\n};\n\n//Get the top most ones of a list of nodes\n_CoSELayout.prototype.getTopMostNodes = function (nodes) {\n  var nodesMap = {};\n  for (var i = 0; i < nodes.length; i++) {\n    nodesMap[nodes[i].id()] = true;\n  }\n  var roots = nodes.filter(function (ele, i) {\n    if (typeof ele === \"number\") {\n      ele = i;\n    }\n    var parent = ele.parent()[0];\n    while (parent != null) {\n      if (nodesMap[parent.id()]) {\n        return false;\n      }\n      parent = parent.parent()[0];\n    }\n    return true;\n  });\n\n  return roots;\n};\n\n_CoSELayout.prototype.processChildrenList = function (parent, children, layout) {\n  var size = children.length;\n  for (var i = 0; i < size; i++) {\n    var theChild = children[i];\n    var children_of_children = theChild.children();\n    var theNode;\n\n    var dimensions = theChild.layoutDimensions({\n      nodeDimensionsIncludeLabels: this.options.nodeDimensionsIncludeLabels\n    });\n\n    if (theChild.outerWidth() != null && theChild.outerHeight() != null) {\n      theNode = parent.add(new CoSENode(layout.graphManager, new PointD(theChild.position('x') - dimensions.w / 2, theChild.position('y') - dimensions.h / 2), new DimensionD(parseFloat(dimensions.w), parseFloat(dimensions.h))));\n    } else {\n      theNode = parent.add(new CoSENode(this.graphManager));\n    }\n    // Attach id to the layout node\n    theNode.id = theChild.data(\"id\");\n    // Attach the paddings of cy node to layout node\n    theNode.paddingLeft = parseInt(theChild.css('padding'));\n    theNode.paddingTop = parseInt(theChild.css('padding'));\n    theNode.paddingRight = parseInt(theChild.css('padding'));\n    theNode.paddingBottom = parseInt(theChild.css('padding'));\n\n    //Attach the label properties to compound if labels will be included in node dimensions  \n    if (this.options.nodeDimensionsIncludeLabels) {\n      if (theChild.isParent()) {\n        var labelWidth = theChild.boundingBox({ includeLabels: true, includeNodes: false }).w;\n        var labelHeight = theChild.boundingBox({ includeLabels: true, includeNodes: false }).h;\n        var labelPos = theChild.css(\"text-halign\");\n        theNode.labelWidth = labelWidth;\n        theNode.labelHeight = labelHeight;\n        theNode.labelPos = labelPos;\n      }\n    }\n\n    // Map the layout node\n    this.idToLNode[theChild.data(\"id\")] = theNode;\n\n    if (isNaN(theNode.rect.x)) {\n      theNode.rect.x = 0;\n    }\n\n    if (isNaN(theNode.rect.y)) {\n      theNode.rect.y = 0;\n    }\n\n    if (children_of_children != null && children_of_children.length > 0) {\n      var theNewGraph;\n      theNewGraph = layout.getGraphManager().add(layout.newGraph(), theNode);\n      this.processChildrenList(theNewGraph, children_of_children, layout);\n    }\n  }\n};\n\n/**\n * @brief : called on continuous layouts to stop them before they finish\n */\n_CoSELayout.prototype.stop = function () {\n  this.stopped = true;\n\n  return this; // chaining\n};\n\nvar register = function register(cytoscape) {\n  //  var Layout = getLayout( cytoscape );\n\n  cytoscape('layout', 'cose-bilkent', _CoSELayout);\n};\n\n// auto reg for globals\nif (typeof cytoscape !== 'undefined') {\n  register(cytoscape);\n}\n\nmodule.exports = register;\n\n/***/ })\n/******/ ]);\n});","/**\n * Copyright (c) 2016-2023, The Cytoscape Consortium.\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of\n * this software and associated documentation files (the “Software”), to deal in\n * the Software without restriction, including without limitation the rights to\n * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies\n * of the Software, and to permit persons to whom the Software is furnished to do\n * so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all\n * copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.cytoscape = factory());\n})(this, (function () { 'use strict';\n\n  function _typeof(obj) {\n    \"@babel/helpers - typeof\";\n\n    return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n      return typeof obj;\n    } : function (obj) {\n      return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    }, _typeof(obj);\n  }\n  function _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n      throw new TypeError(\"Cannot call a class as a function\");\n    }\n  }\n  function _defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  function _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    Object.defineProperty(Constructor, \"prototype\", {\n      writable: false\n    });\n    return Constructor;\n  }\n  function _defineProperty$1(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n    return obj;\n  }\n  function _slicedToArray(arr, i) {\n    return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n  }\n  function _arrayWithHoles(arr) {\n    if (Array.isArray(arr)) return arr;\n  }\n  function _iterableToArrayLimit(arr, i) {\n    var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n    if (_i == null) return;\n    var _arr = [];\n    var _n = true;\n    var _d = false;\n    var _s, _e;\n    try {\n      for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n        _arr.push(_s.value);\n        if (i && _arr.length === i) break;\n      }\n    } catch (err) {\n      _d = true;\n      _e = err;\n    } finally {\n      try {\n        if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n      } finally {\n        if (_d) throw _e;\n      }\n    }\n    return _arr;\n  }\n  function _unsupportedIterableToArray(o, minLen) {\n    if (!o) return;\n    if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n    var n = Object.prototype.toString.call(o).slice(8, -1);\n    if (n === \"Object\" && o.constructor) n = o.constructor.name;\n    if (n === \"Map\" || n === \"Set\") return Array.from(o);\n    if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n  }\n  function _arrayLikeToArray(arr, len) {\n    if (len == null || len > arr.length) len = arr.length;\n    for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];\n    return arr2;\n  }\n  function _nonIterableRest() {\n    throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n  }\n\n  var _window = typeof window === 'undefined' ? null : window; // eslint-disable-line no-undef\n\n  var navigator = _window ? _window.navigator : null;\n  _window ? _window.document : null;\n  var typeofstr = _typeof('');\n  var typeofobj = _typeof({});\n  var typeoffn = _typeof(function () {});\n  var typeofhtmlele = typeof HTMLElement === \"undefined\" ? \"undefined\" : _typeof(HTMLElement);\n  var instanceStr = function instanceStr(obj) {\n    return obj && obj.instanceString && fn$6(obj.instanceString) ? obj.instanceString() : null;\n  };\n\n  var string = function string(obj) {\n    return obj != null && _typeof(obj) == typeofstr;\n  };\n  var fn$6 = function fn(obj) {\n    return obj != null && _typeof(obj) === typeoffn;\n  };\n  var array = function array(obj) {\n    return !elementOrCollection(obj) && (Array.isArray ? Array.isArray(obj) : obj != null && obj instanceof Array);\n  };\n  var plainObject = function plainObject(obj) {\n    return obj != null && _typeof(obj) === typeofobj && !array(obj) && obj.constructor === Object;\n  };\n  var object = function object(obj) {\n    return obj != null && _typeof(obj) === typeofobj;\n  };\n  var number$1 = function number(obj) {\n    return obj != null && _typeof(obj) === _typeof(1) && !isNaN(obj);\n  };\n  var integer = function integer(obj) {\n    return number$1(obj) && Math.floor(obj) === obj;\n  };\n  var htmlElement = function htmlElement(obj) {\n    if ('undefined' === typeofhtmlele) {\n      return undefined;\n    } else {\n      return null != obj && obj instanceof HTMLElement;\n    }\n  };\n  var elementOrCollection = function elementOrCollection(obj) {\n    return element(obj) || collection(obj);\n  };\n  var element = function element(obj) {\n    return instanceStr(obj) === 'collection' && obj._private.single;\n  };\n  var collection = function collection(obj) {\n    return instanceStr(obj) === 'collection' && !obj._private.single;\n  };\n  var core = function core(obj) {\n    return instanceStr(obj) === 'core';\n  };\n  var stylesheet = function stylesheet(obj) {\n    return instanceStr(obj) === 'stylesheet';\n  };\n  var event = function event(obj) {\n    return instanceStr(obj) === 'event';\n  };\n  var emptyString = function emptyString(obj) {\n    if (obj === undefined || obj === null) {\n      // null is empty\n      return true;\n    } else if (obj === '' || obj.match(/^\\s+$/)) {\n      return true; // empty string is empty\n    }\n\n    return false; // otherwise, we don't know what we've got\n  };\n  var domElement = function domElement(obj) {\n    if (typeof HTMLElement === 'undefined') {\n      return false; // we're not in a browser so it doesn't matter\n    } else {\n      return obj instanceof HTMLElement;\n    }\n  };\n  var boundingBox = function boundingBox(obj) {\n    return plainObject(obj) && number$1(obj.x1) && number$1(obj.x2) && number$1(obj.y1) && number$1(obj.y2);\n  };\n  var promise = function promise(obj) {\n    return object(obj) && fn$6(obj.then);\n  };\n  var ms = function ms() {\n    return navigator && navigator.userAgent.match(/msie|trident|edge/i);\n  }; // probably a better way to detect this...\n\n  var memoize$1 = function memoize(fn, keyFn) {\n    if (!keyFn) {\n      keyFn = function keyFn() {\n        if (arguments.length === 1) {\n          return arguments[0];\n        } else if (arguments.length === 0) {\n          return 'undefined';\n        }\n        var args = [];\n        for (var i = 0; i < arguments.length; i++) {\n          args.push(arguments[i]);\n        }\n        return args.join('$');\n      };\n    }\n    var memoizedFn = function memoizedFn() {\n      var self = this;\n      var args = arguments;\n      var ret;\n      var k = keyFn.apply(self, args);\n      var cache = memoizedFn.cache;\n      if (!(ret = cache[k])) {\n        ret = cache[k] = fn.apply(self, args);\n      }\n      return ret;\n    };\n    memoizedFn.cache = {};\n    return memoizedFn;\n  };\n\n  var camel2dash = memoize$1(function (str) {\n    return str.replace(/([A-Z])/g, function (v) {\n      return '-' + v.toLowerCase();\n    });\n  });\n  var dash2camel = memoize$1(function (str) {\n    return str.replace(/(-\\w)/g, function (v) {\n      return v[1].toUpperCase();\n    });\n  });\n  var prependCamel = memoize$1(function (prefix, str) {\n    return prefix + str[0].toUpperCase() + str.substring(1);\n  }, function (prefix, str) {\n    return prefix + '$' + str;\n  });\n  var capitalize = function capitalize(str) {\n    if (emptyString(str)) {\n      return str;\n    }\n    return str.charAt(0).toUpperCase() + str.substring(1);\n  };\n\n  var number = '(?:[-+]?(?:(?:\\\\d+|\\\\d*\\\\.\\\\d+)(?:[Ee][+-]?\\\\d+)?))';\n  var rgba = 'rgb[a]?\\\\((' + number + '[%]?)\\\\s*,\\\\s*(' + number + '[%]?)\\\\s*,\\\\s*(' + number + '[%]?)(?:\\\\s*,\\\\s*(' + number + '))?\\\\)';\n  var rgbaNoBackRefs = 'rgb[a]?\\\\((?:' + number + '[%]?)\\\\s*,\\\\s*(?:' + number + '[%]?)\\\\s*,\\\\s*(?:' + number + '[%]?)(?:\\\\s*,\\\\s*(?:' + number + '))?\\\\)';\n  var hsla = 'hsl[a]?\\\\((' + number + ')\\\\s*,\\\\s*(' + number + '[%])\\\\s*,\\\\s*(' + number + '[%])(?:\\\\s*,\\\\s*(' + number + '))?\\\\)';\n  var hslaNoBackRefs = 'hsl[a]?\\\\((?:' + number + ')\\\\s*,\\\\s*(?:' + number + '[%])\\\\s*,\\\\s*(?:' + number + '[%])(?:\\\\s*,\\\\s*(?:' + number + '))?\\\\)';\n  var hex3 = '\\\\#[0-9a-fA-F]{3}';\n  var hex6 = '\\\\#[0-9a-fA-F]{6}';\n\n  var ascending = function ascending(a, b) {\n    if (a < b) {\n      return -1;\n    } else if (a > b) {\n      return 1;\n    } else {\n      return 0;\n    }\n  };\n  var descending = function descending(a, b) {\n    return -1 * ascending(a, b);\n  };\n\n  var extend = Object.assign != null ? Object.assign.bind(Object) : function (tgt) {\n    var args = arguments;\n    for (var i = 1; i < args.length; i++) {\n      var obj = args[i];\n      if (obj == null) {\n        continue;\n      }\n      var keys = Object.keys(obj);\n      for (var j = 0; j < keys.length; j++) {\n        var k = keys[j];\n        tgt[k] = obj[k];\n      }\n    }\n    return tgt;\n  };\n\n  // get [r, g, b] from #abc or #aabbcc\n  var hex2tuple = function hex2tuple(hex) {\n    if (!(hex.length === 4 || hex.length === 7) || hex[0] !== '#') {\n      return;\n    }\n    var shortHex = hex.length === 4;\n    var r, g, b;\n    var base = 16;\n    if (shortHex) {\n      r = parseInt(hex[1] + hex[1], base);\n      g = parseInt(hex[2] + hex[2], base);\n      b = parseInt(hex[3] + hex[3], base);\n    } else {\n      r = parseInt(hex[1] + hex[2], base);\n      g = parseInt(hex[3] + hex[4], base);\n      b = parseInt(hex[5] + hex[6], base);\n    }\n    return [r, g, b];\n  };\n\n  // get [r, g, b, a] from hsl(0, 0, 0) or hsla(0, 0, 0, 0)\n  var hsl2tuple = function hsl2tuple(hsl) {\n    var ret;\n    var h, s, l, a, r, g, b;\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1 / 6) return p + (q - p) * 6 * t;\n      if (t < 1 / 2) return q;\n      if (t < 2 / 3) return p + (q - p) * (2 / 3 - t) * 6;\n      return p;\n    }\n    var m = new RegExp('^' + hsla + '$').exec(hsl);\n    if (m) {\n      // get hue\n      h = parseInt(m[1]);\n      if (h < 0) {\n        h = (360 - -1 * h % 360) % 360;\n      } else if (h > 360) {\n        h = h % 360;\n      }\n      h /= 360; // normalise on [0, 1]\n\n      s = parseFloat(m[2]);\n      if (s < 0 || s > 100) {\n        return;\n      } // saturation is [0, 100]\n      s = s / 100; // normalise on [0, 1]\n\n      l = parseFloat(m[3]);\n      if (l < 0 || l > 100) {\n        return;\n      } // lightness is [0, 100]\n      l = l / 100; // normalise on [0, 1]\n\n      a = m[4];\n      if (a !== undefined) {\n        a = parseFloat(a);\n        if (a < 0 || a > 1) {\n          return;\n        } // alpha is [0, 1]\n      }\n\n      // now, convert to rgb\n      // code from http://mjijackson.com/2008/02/rgb-to-hsl-and-rgb-to-hsv-color-model-conversion-algorithms-in-javascript\n      if (s === 0) {\n        r = g = b = Math.round(l * 255); // achromatic\n      } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n        r = Math.round(255 * hue2rgb(p, q, h + 1 / 3));\n        g = Math.round(255 * hue2rgb(p, q, h));\n        b = Math.round(255 * hue2rgb(p, q, h - 1 / 3));\n      }\n      ret = [r, g, b, a];\n    }\n    return ret;\n  };\n\n  // get [r, g, b, a] from rgb(0, 0, 0) or rgba(0, 0, 0, 0)\n  var rgb2tuple = function rgb2tuple(rgb) {\n    var ret;\n    var m = new RegExp('^' + rgba + '$').exec(rgb);\n    if (m) {\n      ret = [];\n      var isPct = [];\n      for (var i = 1; i <= 3; i++) {\n        var channel = m[i];\n        if (channel[channel.length - 1] === '%') {\n          isPct[i] = true;\n        }\n        channel = parseFloat(channel);\n        if (isPct[i]) {\n          channel = channel / 100 * 255; // normalise to [0, 255]\n        }\n\n        if (channel < 0 || channel > 255) {\n          return;\n        } // invalid channel value\n\n        ret.push(Math.floor(channel));\n      }\n      var atLeastOneIsPct = isPct[1] || isPct[2] || isPct[3];\n      var allArePct = isPct[1] && isPct[2] && isPct[3];\n      if (atLeastOneIsPct && !allArePct) {\n        return;\n      } // must all be percent values if one is\n\n      var alpha = m[4];\n      if (alpha !== undefined) {\n        alpha = parseFloat(alpha);\n        if (alpha < 0 || alpha > 1) {\n          return;\n        } // invalid alpha value\n\n        ret.push(alpha);\n      }\n    }\n    return ret;\n  };\n  var colorname2tuple = function colorname2tuple(color) {\n    return colors[color.toLowerCase()];\n  };\n  var color2tuple = function color2tuple(color) {\n    return (array(color) ? color : null) || colorname2tuple(color) || hex2tuple(color) || rgb2tuple(color) || hsl2tuple(color);\n  };\n  var colors = {\n    // special colour names\n    transparent: [0, 0, 0, 0],\n    // NB alpha === 0\n\n    // regular colours\n    aliceblue: [240, 248, 255],\n    antiquewhite: [250, 235, 215],\n    aqua: [0, 255, 255],\n    aquamarine: [127, 255, 212],\n    azure: [240, 255, 255],\n    beige: [245, 245, 220],\n    bisque: [255, 228, 196],\n    black: [0, 0, 0],\n    blanchedalmond: [255, 235, 205],\n    blue: [0, 0, 255],\n    blueviolet: [138, 43, 226],\n    brown: [165, 42, 42],\n    burlywood: [222, 184, 135],\n    cadetblue: [95, 158, 160],\n    chartreuse: [127, 255, 0],\n    chocolate: [210, 105, 30],\n    coral: [255, 127, 80],\n    cornflowerblue: [100, 149, 237],\n    cornsilk: [255, 248, 220],\n    crimson: [220, 20, 60],\n    cyan: [0, 255, 255],\n    darkblue: [0, 0, 139],\n    darkcyan: [0, 139, 139],\n    darkgoldenrod: [184, 134, 11],\n    darkgray: [169, 169, 169],\n    darkgreen: [0, 100, 0],\n    darkgrey: [169, 169, 169],\n    darkkhaki: [189, 183, 107],\n    darkmagenta: [139, 0, 139],\n    darkolivegreen: [85, 107, 47],\n    darkorange: [255, 140, 0],\n    darkorchid: [153, 50, 204],\n    darkred: [139, 0, 0],\n    darksalmon: [233, 150, 122],\n    darkseagreen: [143, 188, 143],\n    darkslateblue: [72, 61, 139],\n    darkslategray: [47, 79, 79],\n    darkslategrey: [47, 79, 79],\n    darkturquoise: [0, 206, 209],\n    darkviolet: [148, 0, 211],\n    deeppink: [255, 20, 147],\n    deepskyblue: [0, 191, 255],\n    dimgray: [105, 105, 105],\n    dimgrey: [105, 105, 105],\n    dodgerblue: [30, 144, 255],\n    firebrick: [178, 34, 34],\n    floralwhite: [255, 250, 240],\n    forestgreen: [34, 139, 34],\n    fuchsia: [255, 0, 255],\n    gainsboro: [220, 220, 220],\n    ghostwhite: [248, 248, 255],\n    gold: [255, 215, 0],\n    goldenrod: [218, 165, 32],\n    gray: [128, 128, 128],\n    grey: [128, 128, 128],\n    green: [0, 128, 0],\n    greenyellow: [173, 255, 47],\n    honeydew: [240, 255, 240],\n    hotpink: [255, 105, 180],\n    indianred: [205, 92, 92],\n    indigo: [75, 0, 130],\n    ivory: [255, 255, 240],\n    khaki: [240, 230, 140],\n    lavender: [230, 230, 250],\n    lavenderblush: [255, 240, 245],\n    lawngreen: [124, 252, 0],\n    lemonchiffon: [255, 250, 205],\n    lightblue: [173, 216, 230],\n    lightcoral: [240, 128, 128],\n    lightcyan: [224, 255, 255],\n    lightgoldenrodyellow: [250, 250, 210],\n    lightgray: [211, 211, 211],\n    lightgreen: [144, 238, 144],\n    lightgrey: [211, 211, 211],\n    lightpink: [255, 182, 193],\n    lightsalmon: [255, 160, 122],\n    lightseagreen: [32, 178, 170],\n    lightskyblue: [135, 206, 250],\n    lightslategray: [119, 136, 153],\n    lightslategrey: [119, 136, 153],\n    lightsteelblue: [176, 196, 222],\n    lightyellow: [255, 255, 224],\n    lime: [0, 255, 0],\n    limegreen: [50, 205, 50],\n    linen: [250, 240, 230],\n    magenta: [255, 0, 255],\n    maroon: [128, 0, 0],\n    mediumaquamarine: [102, 205, 170],\n    mediumblue: [0, 0, 205],\n    mediumorchid: [186, 85, 211],\n    mediumpurple: [147, 112, 219],\n    mediumseagreen: [60, 179, 113],\n    mediumslateblue: [123, 104, 238],\n    mediumspringgreen: [0, 250, 154],\n    mediumturquoise: [72, 209, 204],\n    mediumvioletred: [199, 21, 133],\n    midnightblue: [25, 25, 112],\n    mintcream: [245, 255, 250],\n    mistyrose: [255, 228, 225],\n    moccasin: [255, 228, 181],\n    navajowhite: [255, 222, 173],\n    navy: [0, 0, 128],\n    oldlace: [253, 245, 230],\n    olive: [128, 128, 0],\n    olivedrab: [107, 142, 35],\n    orange: [255, 165, 0],\n    orangered: [255, 69, 0],\n    orchid: [218, 112, 214],\n    palegoldenrod: [238, 232, 170],\n    palegreen: [152, 251, 152],\n    paleturquoise: [175, 238, 238],\n    palevioletred: [219, 112, 147],\n    papayawhip: [255, 239, 213],\n    peachpuff: [255, 218, 185],\n    peru: [205, 133, 63],\n    pink: [255, 192, 203],\n    plum: [221, 160, 221],\n    powderblue: [176, 224, 230],\n    purple: [128, 0, 128],\n    red: [255, 0, 0],\n    rosybrown: [188, 143, 143],\n    royalblue: [65, 105, 225],\n    saddlebrown: [139, 69, 19],\n    salmon: [250, 128, 114],\n    sandybrown: [244, 164, 96],\n    seagreen: [46, 139, 87],\n    seashell: [255, 245, 238],\n    sienna: [160, 82, 45],\n    silver: [192, 192, 192],\n    skyblue: [135, 206, 235],\n    slateblue: [106, 90, 205],\n    slategray: [112, 128, 144],\n    slategrey: [112, 128, 144],\n    snow: [255, 250, 250],\n    springgreen: [0, 255, 127],\n    steelblue: [70, 130, 180],\n    tan: [210, 180, 140],\n    teal: [0, 128, 128],\n    thistle: [216, 191, 216],\n    tomato: [255, 99, 71],\n    turquoise: [64, 224, 208],\n    violet: [238, 130, 238],\n    wheat: [245, 222, 179],\n    white: [255, 255, 255],\n    whitesmoke: [245, 245, 245],\n    yellow: [255, 255, 0],\n    yellowgreen: [154, 205, 50]\n  };\n\n  // sets the value in a map (map may not be built)\n  var setMap = function setMap(options) {\n    var obj = options.map;\n    var keys = options.keys;\n    var l = keys.length;\n    for (var i = 0; i < l; i++) {\n      var key = keys[i];\n      if (plainObject(key)) {\n        throw Error('Tried to set map with object key');\n      }\n      if (i < keys.length - 1) {\n        // extend the map if necessary\n        if (obj[key] == null) {\n          obj[key] = {};\n        }\n        obj = obj[key];\n      } else {\n        // set the value\n        obj[key] = options.value;\n      }\n    }\n  };\n\n  // gets the value in a map even if it's not built in places\n  var getMap = function getMap(options) {\n    var obj = options.map;\n    var keys = options.keys;\n    var l = keys.length;\n    for (var i = 0; i < l; i++) {\n      var key = keys[i];\n      if (plainObject(key)) {\n        throw Error('Tried to get map with object key');\n      }\n      obj = obj[key];\n      if (obj == null) {\n        return obj;\n      }\n    }\n    return obj;\n  };\n\n  /**\n   * Checks if `value` is the\n   * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n   * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n   * @example\n   *\n   * _.isObject({});\n   * // => true\n   *\n   * _.isObject([1, 2, 3]);\n   * // => true\n   *\n   * _.isObject(_.noop);\n   * // => true\n   *\n   * _.isObject(null);\n   * // => false\n   */\n  function isObject(value) {\n    var type = typeof value;\n    return value != null && (type == 'object' || type == 'function');\n  }\n\n  var isObject_1 = isObject;\n\n  var commonjsGlobal = typeof globalThis !== 'undefined' ? globalThis : typeof window !== 'undefined' ? window : typeof global !== 'undefined' ? global : typeof self !== 'undefined' ? self : {};\n\n  function createCommonjsModule(fn, module) {\n  \treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n  }\n\n  /** Detect free variable `global` from Node.js. */\n  var freeGlobal = typeof commonjsGlobal == 'object' && commonjsGlobal && commonjsGlobal.Object === Object && commonjsGlobal;\n\n  var _freeGlobal = freeGlobal;\n\n  /** Detect free variable `self`. */\n  var freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n  /** Used as a reference to the global object. */\n  var root = _freeGlobal || freeSelf || Function('return this')();\n\n  var _root = root;\n\n  /**\n   * Gets the timestamp of the number of milliseconds that have elapsed since\n   * the Unix epoch (1 January 1970 00:00:00 UTC).\n   *\n   * @static\n   * @memberOf _\n   * @since 2.4.0\n   * @category Date\n   * @returns {number} Returns the timestamp.\n   * @example\n   *\n   * _.defer(function(stamp) {\n   *   console.log(_.now() - stamp);\n   * }, _.now());\n   * // => Logs the number of milliseconds it took for the deferred invocation.\n   */\n  var now = function() {\n    return _root.Date.now();\n  };\n\n  var now_1 = now;\n\n  /** Used to match a single whitespace character. */\n  var reWhitespace = /\\s/;\n\n  /**\n   * Used by `_.trim` and `_.trimEnd` to get the index of the last non-whitespace\n   * character of `string`.\n   *\n   * @private\n   * @param {string} string The string to inspect.\n   * @returns {number} Returns the index of the last non-whitespace character.\n   */\n  function trimmedEndIndex(string) {\n    var index = string.length;\n\n    while (index-- && reWhitespace.test(string.charAt(index))) {}\n    return index;\n  }\n\n  var _trimmedEndIndex = trimmedEndIndex;\n\n  /** Used to match leading whitespace. */\n  var reTrimStart = /^\\s+/;\n\n  /**\n   * The base implementation of `_.trim`.\n   *\n   * @private\n   * @param {string} string The string to trim.\n   * @returns {string} Returns the trimmed string.\n   */\n  function baseTrim(string) {\n    return string\n      ? string.slice(0, _trimmedEndIndex(string) + 1).replace(reTrimStart, '')\n      : string;\n  }\n\n  var _baseTrim = baseTrim;\n\n  /** Built-in value references. */\n  var Symbol$1 = _root.Symbol;\n\n  var _Symbol = Symbol$1;\n\n  /** Used for built-in method references. */\n  var objectProto$5 = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty$4 = objectProto$5.hasOwnProperty;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var nativeObjectToString$1 = objectProto$5.toString;\n\n  /** Built-in value references. */\n  var symToStringTag$1 = _Symbol ? _Symbol.toStringTag : undefined;\n\n  /**\n   * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the raw `toStringTag`.\n   */\n  function getRawTag(value) {\n    var isOwn = hasOwnProperty$4.call(value, symToStringTag$1),\n        tag = value[symToStringTag$1];\n\n    try {\n      value[symToStringTag$1] = undefined;\n      var unmasked = true;\n    } catch (e) {}\n\n    var result = nativeObjectToString$1.call(value);\n    if (unmasked) {\n      if (isOwn) {\n        value[symToStringTag$1] = tag;\n      } else {\n        delete value[symToStringTag$1];\n      }\n    }\n    return result;\n  }\n\n  var _getRawTag = getRawTag;\n\n  /** Used for built-in method references. */\n  var objectProto$4 = Object.prototype;\n\n  /**\n   * Used to resolve the\n   * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n   * of values.\n   */\n  var nativeObjectToString = objectProto$4.toString;\n\n  /**\n   * Converts `value` to a string using `Object.prototype.toString`.\n   *\n   * @private\n   * @param {*} value The value to convert.\n   * @returns {string} Returns the converted string.\n   */\n  function objectToString(value) {\n    return nativeObjectToString.call(value);\n  }\n\n  var _objectToString = objectToString;\n\n  /** `Object#toString` result references. */\n  var nullTag = '[object Null]',\n      undefinedTag = '[object Undefined]';\n\n  /** Built-in value references. */\n  var symToStringTag = _Symbol ? _Symbol.toStringTag : undefined;\n\n  /**\n   * The base implementation of `getTag` without fallbacks for buggy environments.\n   *\n   * @private\n   * @param {*} value The value to query.\n   * @returns {string} Returns the `toStringTag`.\n   */\n  function baseGetTag(value) {\n    if (value == null) {\n      return value === undefined ? undefinedTag : nullTag;\n    }\n    return (symToStringTag && symToStringTag in Object(value))\n      ? _getRawTag(value)\n      : _objectToString(value);\n  }\n\n  var _baseGetTag = baseGetTag;\n\n  /**\n   * Checks if `value` is object-like. A value is object-like if it's not `null`\n   * and has a `typeof` result of \"object\".\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n   * @example\n   *\n   * _.isObjectLike({});\n   * // => true\n   *\n   * _.isObjectLike([1, 2, 3]);\n   * // => true\n   *\n   * _.isObjectLike(_.noop);\n   * // => false\n   *\n   * _.isObjectLike(null);\n   * // => false\n   */\n  function isObjectLike(value) {\n    return value != null && typeof value == 'object';\n  }\n\n  var isObjectLike_1 = isObjectLike;\n\n  /** `Object#toString` result references. */\n  var symbolTag = '[object Symbol]';\n\n  /**\n   * Checks if `value` is classified as a `Symbol` primitive or object.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n   * @example\n   *\n   * _.isSymbol(Symbol.iterator);\n   * // => true\n   *\n   * _.isSymbol('abc');\n   * // => false\n   */\n  function isSymbol(value) {\n    return typeof value == 'symbol' ||\n      (isObjectLike_1(value) && _baseGetTag(value) == symbolTag);\n  }\n\n  var isSymbol_1 = isSymbol;\n\n  /** Used as references for various `Number` constants. */\n  var NAN = 0 / 0;\n\n  /** Used to detect bad signed hexadecimal string values. */\n  var reIsBadHex = /^[-+]0x[0-9a-f]+$/i;\n\n  /** Used to detect binary string values. */\n  var reIsBinary = /^0b[01]+$/i;\n\n  /** Used to detect octal string values. */\n  var reIsOctal = /^0o[0-7]+$/i;\n\n  /** Built-in method references without a dependency on `root`. */\n  var freeParseInt = parseInt;\n\n  /**\n   * Converts `value` to a number.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to process.\n   * @returns {number} Returns the number.\n   * @example\n   *\n   * _.toNumber(3.2);\n   * // => 3.2\n   *\n   * _.toNumber(Number.MIN_VALUE);\n   * // => 5e-324\n   *\n   * _.toNumber(Infinity);\n   * // => Infinity\n   *\n   * _.toNumber('3.2');\n   * // => 3.2\n   */\n  function toNumber(value) {\n    if (typeof value == 'number') {\n      return value;\n    }\n    if (isSymbol_1(value)) {\n      return NAN;\n    }\n    if (isObject_1(value)) {\n      var other = typeof value.valueOf == 'function' ? value.valueOf() : value;\n      value = isObject_1(other) ? (other + '') : other;\n    }\n    if (typeof value != 'string') {\n      return value === 0 ? value : +value;\n    }\n    value = _baseTrim(value);\n    var isBinary = reIsBinary.test(value);\n    return (isBinary || reIsOctal.test(value))\n      ? freeParseInt(value.slice(2), isBinary ? 2 : 8)\n      : (reIsBadHex.test(value) ? NAN : +value);\n  }\n\n  var toNumber_1 = toNumber;\n\n  /** Error message constants. */\n  var FUNC_ERROR_TEXT$1 = 'Expected a function';\n\n  /* Built-in method references for those with the same name as other `lodash` methods. */\n  var nativeMax = Math.max,\n      nativeMin = Math.min;\n\n  /**\n   * Creates a debounced function that delays invoking `func` until after `wait`\n   * milliseconds have elapsed since the last time the debounced function was\n   * invoked. The debounced function comes with a `cancel` method to cancel\n   * delayed `func` invocations and a `flush` method to immediately invoke them.\n   * Provide `options` to indicate whether `func` should be invoked on the\n   * leading and/or trailing edge of the `wait` timeout. The `func` is invoked\n   * with the last arguments provided to the debounced function. Subsequent\n   * calls to the debounced function return the result of the last `func`\n   * invocation.\n   *\n   * **Note:** If `leading` and `trailing` options are `true`, `func` is\n   * invoked on the trailing edge of the timeout only if the debounced function\n   * is invoked more than once during the `wait` timeout.\n   *\n   * If `wait` is `0` and `leading` is `false`, `func` invocation is deferred\n   * until to the next tick, similar to `setTimeout` with a timeout of `0`.\n   *\n   * See [David Corbacho's article](https://css-tricks.com/debouncing-throttling-explained-examples/)\n   * for details over the differences between `_.debounce` and `_.throttle`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to debounce.\n   * @param {number} [wait=0] The number of milliseconds to delay.\n   * @param {Object} [options={}] The options object.\n   * @param {boolean} [options.leading=false]\n   *  Specify invoking on the leading edge of the timeout.\n   * @param {number} [options.maxWait]\n   *  The maximum time `func` is allowed to be delayed before it's invoked.\n   * @param {boolean} [options.trailing=true]\n   *  Specify invoking on the trailing edge of the timeout.\n   * @returns {Function} Returns the new debounced function.\n   * @example\n   *\n   * // Avoid costly calculations while the window size is in flux.\n   * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\n   *\n   * // Invoke `sendMail` when clicked, debouncing subsequent calls.\n   * jQuery(element).on('click', _.debounce(sendMail, 300, {\n   *   'leading': true,\n   *   'trailing': false\n   * }));\n   *\n   * // Ensure `batchLog` is invoked once after 1 second of debounced calls.\n   * var debounced = _.debounce(batchLog, 250, { 'maxWait': 1000 });\n   * var source = new EventSource('/stream');\n   * jQuery(source).on('message', debounced);\n   *\n   * // Cancel the trailing debounced invocation.\n   * jQuery(window).on('popstate', debounced.cancel);\n   */\n  function debounce(func, wait, options) {\n    var lastArgs,\n        lastThis,\n        maxWait,\n        result,\n        timerId,\n        lastCallTime,\n        lastInvokeTime = 0,\n        leading = false,\n        maxing = false,\n        trailing = true;\n\n    if (typeof func != 'function') {\n      throw new TypeError(FUNC_ERROR_TEXT$1);\n    }\n    wait = toNumber_1(wait) || 0;\n    if (isObject_1(options)) {\n      leading = !!options.leading;\n      maxing = 'maxWait' in options;\n      maxWait = maxing ? nativeMax(toNumber_1(options.maxWait) || 0, wait) : maxWait;\n      trailing = 'trailing' in options ? !!options.trailing : trailing;\n    }\n\n    function invokeFunc(time) {\n      var args = lastArgs,\n          thisArg = lastThis;\n\n      lastArgs = lastThis = undefined;\n      lastInvokeTime = time;\n      result = func.apply(thisArg, args);\n      return result;\n    }\n\n    function leadingEdge(time) {\n      // Reset any `maxWait` timer.\n      lastInvokeTime = time;\n      // Start the timer for the trailing edge.\n      timerId = setTimeout(timerExpired, wait);\n      // Invoke the leading edge.\n      return leading ? invokeFunc(time) : result;\n    }\n\n    function remainingWait(time) {\n      var timeSinceLastCall = time - lastCallTime,\n          timeSinceLastInvoke = time - lastInvokeTime,\n          timeWaiting = wait - timeSinceLastCall;\n\n      return maxing\n        ? nativeMin(timeWaiting, maxWait - timeSinceLastInvoke)\n        : timeWaiting;\n    }\n\n    function shouldInvoke(time) {\n      var timeSinceLastCall = time - lastCallTime,\n          timeSinceLastInvoke = time - lastInvokeTime;\n\n      // Either this is the first call, activity has stopped and we're at the\n      // trailing edge, the system time has gone backwards and we're treating\n      // it as the trailing edge, or we've hit the `maxWait` limit.\n      return (lastCallTime === undefined || (timeSinceLastCall >= wait) ||\n        (timeSinceLastCall < 0) || (maxing && timeSinceLastInvoke >= maxWait));\n    }\n\n    function timerExpired() {\n      var time = now_1();\n      if (shouldInvoke(time)) {\n        return trailingEdge(time);\n      }\n      // Restart the timer.\n      timerId = setTimeout(timerExpired, remainingWait(time));\n    }\n\n    function trailingEdge(time) {\n      timerId = undefined;\n\n      // Only invoke if we have `lastArgs` which means `func` has been\n      // debounced at least once.\n      if (trailing && lastArgs) {\n        return invokeFunc(time);\n      }\n      lastArgs = lastThis = undefined;\n      return result;\n    }\n\n    function cancel() {\n      if (timerId !== undefined) {\n        clearTimeout(timerId);\n      }\n      lastInvokeTime = 0;\n      lastArgs = lastCallTime = lastThis = timerId = undefined;\n    }\n\n    function flush() {\n      return timerId === undefined ? result : trailingEdge(now_1());\n    }\n\n    function debounced() {\n      var time = now_1(),\n          isInvoking = shouldInvoke(time);\n\n      lastArgs = arguments;\n      lastThis = this;\n      lastCallTime = time;\n\n      if (isInvoking) {\n        if (timerId === undefined) {\n          return leadingEdge(lastCallTime);\n        }\n        if (maxing) {\n          // Handle invocations in a tight loop.\n          clearTimeout(timerId);\n          timerId = setTimeout(timerExpired, wait);\n          return invokeFunc(lastCallTime);\n        }\n      }\n      if (timerId === undefined) {\n        timerId = setTimeout(timerExpired, wait);\n      }\n      return result;\n    }\n    debounced.cancel = cancel;\n    debounced.flush = flush;\n    return debounced;\n  }\n\n  var debounce_1 = debounce;\n\n  var performance = _window ? _window.performance : null;\n  var pnow = performance && performance.now ? function () {\n    return performance.now();\n  } : function () {\n    return Date.now();\n  };\n  var raf = function () {\n    if (_window) {\n      if (_window.requestAnimationFrame) {\n        return function (fn) {\n          _window.requestAnimationFrame(fn);\n        };\n      } else if (_window.mozRequestAnimationFrame) {\n        return function (fn) {\n          _window.mozRequestAnimationFrame(fn);\n        };\n      } else if (_window.webkitRequestAnimationFrame) {\n        return function (fn) {\n          _window.webkitRequestAnimationFrame(fn);\n        };\n      } else if (_window.msRequestAnimationFrame) {\n        return function (fn) {\n          _window.msRequestAnimationFrame(fn);\n        };\n      }\n    }\n    return function (fn) {\n      if (fn) {\n        setTimeout(function () {\n          fn(pnow());\n        }, 1000 / 60);\n      }\n    };\n  }();\n  var requestAnimationFrame = function requestAnimationFrame(fn) {\n    return raf(fn);\n  };\n  var performanceNow = pnow;\n\n  var DEFAULT_HASH_SEED = 9261;\n  var K = 65599; // 37 also works pretty well\n  var DEFAULT_HASH_SEED_ALT = 5381;\n  var hashIterableInts = function hashIterableInts(iterator) {\n    var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_HASH_SEED;\n    // sdbm/string-hash\n    var hash = seed;\n    var entry;\n    for (;;) {\n      entry = iterator.next();\n      if (entry.done) {\n        break;\n      }\n      hash = hash * K + entry.value | 0;\n    }\n    return hash;\n  };\n  var hashInt = function hashInt(num) {\n    var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_HASH_SEED;\n    // sdbm/string-hash\n    return seed * K + num | 0;\n  };\n  var hashIntAlt = function hashIntAlt(num) {\n    var seed = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : DEFAULT_HASH_SEED_ALT;\n    // djb2/string-hash\n    return (seed << 5) + seed + num | 0;\n  };\n  var combineHashes = function combineHashes(hash1, hash2) {\n    return hash1 * 0x200000 + hash2;\n  };\n  var combineHashesArray = function combineHashesArray(hashes) {\n    return hashes[0] * 0x200000 + hashes[1];\n  };\n  var hashArrays = function hashArrays(hashes1, hashes2) {\n    return [hashInt(hashes1[0], hashes2[0]), hashIntAlt(hashes1[1], hashes2[1])];\n  };\n  var hashIntsArray = function hashIntsArray(ints, seed) {\n    var entry = {\n      value: 0,\n      done: false\n    };\n    var i = 0;\n    var length = ints.length;\n    var iterator = {\n      next: function next() {\n        if (i < length) {\n          entry.value = ints[i++];\n        } else {\n          entry.done = true;\n        }\n        return entry;\n      }\n    };\n    return hashIterableInts(iterator, seed);\n  };\n  var hashString = function hashString(str, seed) {\n    var entry = {\n      value: 0,\n      done: false\n    };\n    var i = 0;\n    var length = str.length;\n    var iterator = {\n      next: function next() {\n        if (i < length) {\n          entry.value = str.charCodeAt(i++);\n        } else {\n          entry.done = true;\n        }\n        return entry;\n      }\n    };\n    return hashIterableInts(iterator, seed);\n  };\n  var hashStrings = function hashStrings() {\n    return hashStringsArray(arguments);\n  };\n  var hashStringsArray = function hashStringsArray(strs) {\n    var hash;\n    for (var i = 0; i < strs.length; i++) {\n      var str = strs[i];\n      if (i === 0) {\n        hash = hashString(str);\n      } else {\n        hash = hashString(str, hash);\n      }\n    }\n    return hash;\n  };\n\n  /*global console */\n  var warningsEnabled = true;\n  var warnSupported = console.warn != null; // eslint-disable-line no-console\n  var traceSupported = console.trace != null; // eslint-disable-line no-console\n\n  var MAX_INT$1 = Number.MAX_SAFE_INTEGER || 9007199254740991;\n  var trueify = function trueify() {\n    return true;\n  };\n  var falsify = function falsify() {\n    return false;\n  };\n  var zeroify = function zeroify() {\n    return 0;\n  };\n  var noop$1 = function noop() {};\n  var error = function error(msg) {\n    throw new Error(msg);\n  };\n  var warnings = function warnings(enabled) {\n    if (enabled !== undefined) {\n      warningsEnabled = !!enabled;\n    } else {\n      return warningsEnabled;\n    }\n  };\n  var warn = function warn(msg) {\n    /* eslint-disable no-console */\n    if (!warnings()) {\n      return;\n    }\n    if (warnSupported) {\n      console.warn(msg);\n    } else {\n      console.log(msg);\n      if (traceSupported) {\n        console.trace();\n      }\n    }\n  }; /* eslint-enable */\n\n  var clone = function clone(obj) {\n    return extend({}, obj);\n  };\n\n  // gets a shallow copy of the argument\n  var copy = function copy(obj) {\n    if (obj == null) {\n      return obj;\n    }\n    if (array(obj)) {\n      return obj.slice();\n    } else if (plainObject(obj)) {\n      return clone(obj);\n    } else {\n      return obj;\n    }\n  };\n  var copyArray$1 = function copyArray(arr) {\n    return arr.slice();\n  };\n  var uuid = function uuid(a, b /* placeholders */) {\n    for (\n    // loop :)\n    b = a = '';\n    // b - result , a - numeric letiable\n    a++ < 36;\n    //\n    b += a * 51 & 52 // if \"a\" is not 9 or 14 or 19 or 24\n    ?\n    //  return a random number or 4\n    (a ^ 15 // if \"a\" is not 15\n    ?\n    // generate a random number from 0 to 15\n    8 ^ Math.random() * (a ^ 20 ? 16 : 4) // unless \"a\" is 20, in which case a random number from 8 to 11\n    : 4 //  otherwise 4\n    ).toString(16) : '-' //  in other cases (if \"a\" is 9,14,19,24) insert \"-\"\n    ) {\n    }\n    return b;\n  };\n  var _staticEmptyObject = {};\n  var staticEmptyObject = function staticEmptyObject() {\n    return _staticEmptyObject;\n  };\n  var defaults$g = function defaults(_defaults) {\n    var keys = Object.keys(_defaults);\n    return function (opts) {\n      var filledOpts = {};\n      for (var i = 0; i < keys.length; i++) {\n        var key = keys[i];\n        var optVal = opts == null ? undefined : opts[key];\n        filledOpts[key] = optVal === undefined ? _defaults[key] : optVal;\n      }\n      return filledOpts;\n    };\n  };\n  var removeFromArray = function removeFromArray(arr, ele, oneCopy) {\n    for (var i = arr.length - 1; i >= 0; i--) {\n      if (arr[i] === ele) {\n        arr.splice(i, 1);\n        if (oneCopy) {\n          break;\n        }\n      }\n    }\n  };\n  var clearArray = function clearArray(arr) {\n    arr.splice(0, arr.length);\n  };\n  var push = function push(arr, otherArr) {\n    for (var i = 0; i < otherArr.length; i++) {\n      var el = otherArr[i];\n      arr.push(el);\n    }\n  };\n  var getPrefixedProperty = function getPrefixedProperty(obj, propName, prefix) {\n    if (prefix) {\n      propName = prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n    }\n\n    return obj[propName];\n  };\n  var setPrefixedProperty = function setPrefixedProperty(obj, propName, prefix, value) {\n    if (prefix) {\n      propName = prependCamel(prefix, propName); // e.g. (labelWidth, source) => sourceLabelWidth\n    }\n\n    obj[propName] = value;\n  };\n\n  /* global Map */\n  var ObjectMap = /*#__PURE__*/function () {\n    function ObjectMap() {\n      _classCallCheck(this, ObjectMap);\n      this._obj = {};\n    }\n    _createClass(ObjectMap, [{\n      key: \"set\",\n      value: function set(key, val) {\n        this._obj[key] = val;\n        return this;\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete(key) {\n        this._obj[key] = undefined;\n        return this;\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._obj = {};\n      }\n    }, {\n      key: \"has\",\n      value: function has(key) {\n        return this._obj[key] !== undefined;\n      }\n    }, {\n      key: \"get\",\n      value: function get(key) {\n        return this._obj[key];\n      }\n    }]);\n    return ObjectMap;\n  }();\n  var Map$2 = typeof Map !== 'undefined' ? Map : ObjectMap;\n\n  /* global Set */\n\n  var undef = \"undefined\" ;\n  var ObjectSet = /*#__PURE__*/function () {\n    function ObjectSet(arrayOrObjectSet) {\n      _classCallCheck(this, ObjectSet);\n      this._obj = Object.create(null);\n      this.size = 0;\n      if (arrayOrObjectSet != null) {\n        var arr;\n        if (arrayOrObjectSet.instanceString != null && arrayOrObjectSet.instanceString() === this.instanceString()) {\n          arr = arrayOrObjectSet.toArray();\n        } else {\n          arr = arrayOrObjectSet;\n        }\n        for (var i = 0; i < arr.length; i++) {\n          this.add(arr[i]);\n        }\n      }\n    }\n    _createClass(ObjectSet, [{\n      key: \"instanceString\",\n      value: function instanceString() {\n        return 'set';\n      }\n    }, {\n      key: \"add\",\n      value: function add(val) {\n        var o = this._obj;\n        if (o[val] !== 1) {\n          o[val] = 1;\n          this.size++;\n        }\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete(val) {\n        var o = this._obj;\n        if (o[val] === 1) {\n          o[val] = 0;\n          this.size--;\n        }\n      }\n    }, {\n      key: \"clear\",\n      value: function clear() {\n        this._obj = Object.create(null);\n      }\n    }, {\n      key: \"has\",\n      value: function has(val) {\n        return this._obj[val] === 1;\n      }\n    }, {\n      key: \"toArray\",\n      value: function toArray() {\n        var _this = this;\n        return Object.keys(this._obj).filter(function (key) {\n          return _this.has(key);\n        });\n      }\n    }, {\n      key: \"forEach\",\n      value: function forEach(callback, thisArg) {\n        return this.toArray().forEach(callback, thisArg);\n      }\n    }]);\n    return ObjectSet;\n  }();\n  var Set$1 = (typeof Set === \"undefined\" ? \"undefined\" : _typeof(Set)) !== undef ? Set : ObjectSet;\n\n  // represents a node or an edge\n  var Element = function Element(cy, params) {\n    var restore = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    if (cy === undefined || params === undefined || !core(cy)) {\n      error('An element must have a core reference and parameters set');\n      return;\n    }\n    var group = params.group;\n\n    // try to automatically infer the group if unspecified\n    if (group == null) {\n      if (params.data && params.data.source != null && params.data.target != null) {\n        group = 'edges';\n      } else {\n        group = 'nodes';\n      }\n    }\n\n    // validate group\n    if (group !== 'nodes' && group !== 'edges') {\n      error('An element must be of type `nodes` or `edges`; you specified `' + group + '`');\n      return;\n    }\n\n    // make the element array-like, just like a collection\n    this.length = 1;\n    this[0] = this;\n\n    // NOTE: when something is added here, add also to ele.json()\n    var _p = this._private = {\n      cy: cy,\n      single: true,\n      // indicates this is an element\n      data: params.data || {},\n      // data object\n      position: params.position || {\n        x: 0,\n        y: 0\n      },\n      // (x, y) position pair\n      autoWidth: undefined,\n      // width and height of nodes calculated by the renderer when set to special 'auto' value\n      autoHeight: undefined,\n      autoPadding: undefined,\n      compoundBoundsClean: false,\n      // whether the compound dimensions need to be recalculated the next time dimensions are read\n      listeners: [],\n      // array of bound listeners\n      group: group,\n      // string; 'nodes' or 'edges'\n      style: {},\n      // properties as set by the style\n      rstyle: {},\n      // properties for style sent from the renderer to the core\n      styleCxts: [],\n      // applied style contexts from the styler\n      styleKeys: {},\n      // per-group keys of style property values\n      removed: true,\n      // whether it's inside the vis; true if removed (set true here since we call restore)\n      selected: params.selected ? true : false,\n      // whether it's selected\n      selectable: params.selectable === undefined ? true : params.selectable ? true : false,\n      // whether it's selectable\n      locked: params.locked ? true : false,\n      // whether the element is locked (cannot be moved)\n      grabbed: false,\n      // whether the element is grabbed by the mouse; renderer sets this privately\n      grabbable: params.grabbable === undefined ? true : params.grabbable ? true : false,\n      // whether the element can be grabbed\n      pannable: params.pannable === undefined ? group === 'edges' ? true : false : params.pannable ? true : false,\n      // whether the element has passthrough panning enabled\n      active: false,\n      // whether the element is active from user interaction\n      classes: new Set$1(),\n      // map ( className => true )\n      animation: {\n        // object for currently-running animations\n        current: [],\n        queue: []\n      },\n      rscratch: {},\n      // object in which the renderer can store information\n      scratch: params.scratch || {},\n      // scratch objects\n      edges: [],\n      // array of connected edges\n      children: [],\n      // array of children\n      parent: params.parent && params.parent.isNode() ? params.parent : null,\n      // parent ref\n      traversalCache: {},\n      // cache of output of traversal functions\n      backgrounding: false,\n      // whether background images are loading\n      bbCache: null,\n      // cache of the current bounding box\n      bbCacheShift: {\n        x: 0,\n        y: 0\n      },\n      // shift applied to cached bb to be applied on next get\n      bodyBounds: null,\n      // bounds cache of element body, w/o overlay\n      overlayBounds: null,\n      // bounds cache of element body, including overlay\n      labelBounds: {\n        // bounds cache of labels\n        all: null,\n        source: null,\n        target: null,\n        main: null\n      },\n      arrowBounds: {\n        // bounds cache of edge arrows\n        source: null,\n        target: null,\n        'mid-source': null,\n        'mid-target': null\n      }\n    };\n    if (_p.position.x == null) {\n      _p.position.x = 0;\n    }\n    if (_p.position.y == null) {\n      _p.position.y = 0;\n    }\n\n    // renderedPosition overrides if specified\n    if (params.renderedPosition) {\n      var rpos = params.renderedPosition;\n      var pan = cy.pan();\n      var zoom = cy.zoom();\n      _p.position = {\n        x: (rpos.x - pan.x) / zoom,\n        y: (rpos.y - pan.y) / zoom\n      };\n    }\n    var classes = [];\n    if (array(params.classes)) {\n      classes = params.classes;\n    } else if (string(params.classes)) {\n      classes = params.classes.split(/\\s+/);\n    }\n    for (var i = 0, l = classes.length; i < l; i++) {\n      var cls = classes[i];\n      if (!cls || cls === '') {\n        continue;\n      }\n      _p.classes.add(cls);\n    }\n    this.createEmitter();\n    var bypass = params.style || params.css;\n    if (bypass) {\n      warn('Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead.');\n      this.style(bypass);\n    }\n    if (restore === undefined || restore) {\n      this.restore();\n    }\n  };\n\n  var defineSearch = function defineSearch(params) {\n    params = {\n      bfs: params.bfs || !params.dfs,\n      dfs: params.dfs || !params.bfs\n    };\n\n    // from pseudocode on wikipedia\n    return function searchFn(roots, fn, directed) {\n      var options;\n      if (plainObject(roots) && !elementOrCollection(roots)) {\n        options = roots;\n        roots = options.roots || options.root;\n        fn = options.visit;\n        directed = options.directed;\n      }\n      directed = arguments.length === 2 && !fn$6(fn) ? fn : directed;\n      fn = fn$6(fn) ? fn : function () {};\n      var cy = this._private.cy;\n      var v = roots = string(roots) ? this.filter(roots) : roots;\n      var Q = [];\n      var connectedNodes = [];\n      var connectedBy = {};\n      var id2depth = {};\n      var V = {};\n      var j = 0;\n      var found;\n      var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n\n      // enqueue v\n      for (var i = 0; i < v.length; i++) {\n        var vi = v[i];\n        var viId = vi.id();\n        if (vi.isNode()) {\n          Q.unshift(vi);\n          if (params.bfs) {\n            V[viId] = true;\n            connectedNodes.push(vi);\n          }\n          id2depth[viId] = 0;\n        }\n      }\n      var _loop = function _loop() {\n        var v = params.bfs ? Q.shift() : Q.pop();\n        var vId = v.id();\n        if (params.dfs) {\n          if (V[vId]) {\n            return \"continue\";\n          }\n          V[vId] = true;\n          connectedNodes.push(v);\n        }\n        var depth = id2depth[vId];\n        var prevEdge = connectedBy[vId];\n        var src = prevEdge != null ? prevEdge.source() : null;\n        var tgt = prevEdge != null ? prevEdge.target() : null;\n        var prevNode = prevEdge == null ? undefined : v.same(src) ? tgt[0] : src[0];\n        var ret = void 0;\n        ret = fn(v, prevEdge, prevNode, j++, depth);\n        if (ret === true) {\n          found = v;\n          return \"break\";\n        }\n        if (ret === false) {\n          return \"break\";\n        }\n        var vwEdges = v.connectedEdges().filter(function (e) {\n          return (!directed || e.source().same(v)) && edges.has(e);\n        });\n        for (var _i2 = 0; _i2 < vwEdges.length; _i2++) {\n          var e = vwEdges[_i2];\n          var w = e.connectedNodes().filter(function (n) {\n            return !n.same(v) && nodes.has(n);\n          });\n          var wId = w.id();\n          if (w.length !== 0 && !V[wId]) {\n            w = w[0];\n            Q.push(w);\n            if (params.bfs) {\n              V[wId] = true;\n              connectedNodes.push(w);\n            }\n            connectedBy[wId] = e;\n            id2depth[wId] = id2depth[vId] + 1;\n          }\n        }\n      };\n      while (Q.length !== 0) {\n        var _ret = _loop();\n        if (_ret === \"continue\") continue;\n        if (_ret === \"break\") break;\n      }\n      var connectedEles = cy.collection();\n      for (var _i = 0; _i < connectedNodes.length; _i++) {\n        var node = connectedNodes[_i];\n        var edge = connectedBy[node.id()];\n        if (edge != null) {\n          connectedEles.push(edge);\n        }\n        connectedEles.push(node);\n      }\n      return {\n        path: cy.collection(connectedEles),\n        found: cy.collection(found)\n      };\n    };\n  };\n\n  // search, spanning trees, etc\n  var elesfn$v = {\n    breadthFirstSearch: defineSearch({\n      bfs: true\n    }),\n    depthFirstSearch: defineSearch({\n      dfs: true\n    })\n  };\n\n  // nice, short mathematical alias\n  elesfn$v.bfs = elesfn$v.breadthFirstSearch;\n  elesfn$v.dfs = elesfn$v.depthFirstSearch;\n\n  var heap$1 = createCommonjsModule(function (module, exports) {\n  // Generated by CoffeeScript 1.8.0\n  (function() {\n    var Heap, defaultCmp, floor, heapify, heappop, heappush, heappushpop, heapreplace, insort, min, nlargest, nsmallest, updateItem, _siftdown, _siftup;\n\n    floor = Math.floor, min = Math.min;\n\n\n    /*\n    Default comparison function to be used\n     */\n\n    defaultCmp = function(x, y) {\n      if (x < y) {\n        return -1;\n      }\n      if (x > y) {\n        return 1;\n      }\n      return 0;\n    };\n\n\n    /*\n    Insert item x in list a, and keep it sorted assuming a is sorted.\n    \n    If x is already in a, insert it to the right of the rightmost x.\n    \n    Optional args lo (default 0) and hi (default a.length) bound the slice\n    of a to be searched.\n     */\n\n    insort = function(a, x, lo, hi, cmp) {\n      var mid;\n      if (lo == null) {\n        lo = 0;\n      }\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      if (lo < 0) {\n        throw new Error('lo must be non-negative');\n      }\n      if (hi == null) {\n        hi = a.length;\n      }\n      while (lo < hi) {\n        mid = floor((lo + hi) / 2);\n        if (cmp(x, a[mid]) < 0) {\n          hi = mid;\n        } else {\n          lo = mid + 1;\n        }\n      }\n      return ([].splice.apply(a, [lo, lo - lo].concat(x)), x);\n    };\n\n\n    /*\n    Push item onto heap, maintaining the heap invariant.\n     */\n\n    heappush = function(array, item, cmp) {\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      array.push(item);\n      return _siftdown(array, 0, array.length - 1, cmp);\n    };\n\n\n    /*\n    Pop the smallest item off the heap, maintaining the heap invariant.\n     */\n\n    heappop = function(array, cmp) {\n      var lastelt, returnitem;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      lastelt = array.pop();\n      if (array.length) {\n        returnitem = array[0];\n        array[0] = lastelt;\n        _siftup(array, 0, cmp);\n      } else {\n        returnitem = lastelt;\n      }\n      return returnitem;\n    };\n\n\n    /*\n    Pop and return the current smallest value, and add the new item.\n    \n    This is more efficient than heappop() followed by heappush(), and can be\n    more appropriate when using a fixed size heap. Note that the value\n    returned may be larger than item! That constrains reasonable use of\n    this routine unless written as part of a conditional replacement:\n        if item > array[0]\n          item = heapreplace(array, item)\n     */\n\n    heapreplace = function(array, item, cmp) {\n      var returnitem;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      returnitem = array[0];\n      array[0] = item;\n      _siftup(array, 0, cmp);\n      return returnitem;\n    };\n\n\n    /*\n    Fast version of a heappush followed by a heappop.\n     */\n\n    heappushpop = function(array, item, cmp) {\n      var _ref;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      if (array.length && cmp(array[0], item) < 0) {\n        _ref = [array[0], item], item = _ref[0], array[0] = _ref[1];\n        _siftup(array, 0, cmp);\n      }\n      return item;\n    };\n\n\n    /*\n    Transform list into a heap, in-place, in O(array.length) time.\n     */\n\n    heapify = function(array, cmp) {\n      var i, _i, _len, _ref1, _results, _results1;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      _ref1 = (function() {\n        _results1 = [];\n        for (var _j = 0, _ref = floor(array.length / 2); 0 <= _ref ? _j < _ref : _j > _ref; 0 <= _ref ? _j++ : _j--){ _results1.push(_j); }\n        return _results1;\n      }).apply(this).reverse();\n      _results = [];\n      for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\n        i = _ref1[_i];\n        _results.push(_siftup(array, i, cmp));\n      }\n      return _results;\n    };\n\n\n    /*\n    Update the position of the given item in the heap.\n    This function should be called every time the item is being modified.\n     */\n\n    updateItem = function(array, item, cmp) {\n      var pos;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      pos = array.indexOf(item);\n      if (pos === -1) {\n        return;\n      }\n      _siftdown(array, 0, pos, cmp);\n      return _siftup(array, pos, cmp);\n    };\n\n\n    /*\n    Find the n largest elements in a dataset.\n     */\n\n    nlargest = function(array, n, cmp) {\n      var elem, result, _i, _len, _ref;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      result = array.slice(0, n);\n      if (!result.length) {\n        return result;\n      }\n      heapify(result, cmp);\n      _ref = array.slice(n);\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n        elem = _ref[_i];\n        heappushpop(result, elem, cmp);\n      }\n      return result.sort(cmp).reverse();\n    };\n\n\n    /*\n    Find the n smallest elements in a dataset.\n     */\n\n    nsmallest = function(array, n, cmp) {\n      var elem, los, result, _i, _j, _len, _ref, _ref1, _results;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      if (n * 10 <= array.length) {\n        result = array.slice(0, n).sort(cmp);\n        if (!result.length) {\n          return result;\n        }\n        los = result[result.length - 1];\n        _ref = array.slice(n);\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\n          elem = _ref[_i];\n          if (cmp(elem, los) < 0) {\n            insort(result, elem, 0, null, cmp);\n            result.pop();\n            los = result[result.length - 1];\n          }\n        }\n        return result;\n      }\n      heapify(array, cmp);\n      _results = [];\n      for (_j = 0, _ref1 = min(n, array.length); 0 <= _ref1 ? _j < _ref1 : _j > _ref1; 0 <= _ref1 ? ++_j : --_j) {\n        _results.push(heappop(array, cmp));\n      }\n      return _results;\n    };\n\n    _siftdown = function(array, startpos, pos, cmp) {\n      var newitem, parent, parentpos;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      newitem = array[pos];\n      while (pos > startpos) {\n        parentpos = (pos - 1) >> 1;\n        parent = array[parentpos];\n        if (cmp(newitem, parent) < 0) {\n          array[pos] = parent;\n          pos = parentpos;\n          continue;\n        }\n        break;\n      }\n      return array[pos] = newitem;\n    };\n\n    _siftup = function(array, pos, cmp) {\n      var childpos, endpos, newitem, rightpos, startpos;\n      if (cmp == null) {\n        cmp = defaultCmp;\n      }\n      endpos = array.length;\n      startpos = pos;\n      newitem = array[pos];\n      childpos = 2 * pos + 1;\n      while (childpos < endpos) {\n        rightpos = childpos + 1;\n        if (rightpos < endpos && !(cmp(array[childpos], array[rightpos]) < 0)) {\n          childpos = rightpos;\n        }\n        array[pos] = array[childpos];\n        pos = childpos;\n        childpos = 2 * pos + 1;\n      }\n      array[pos] = newitem;\n      return _siftdown(array, startpos, pos, cmp);\n    };\n\n    Heap = (function() {\n      Heap.push = heappush;\n\n      Heap.pop = heappop;\n\n      Heap.replace = heapreplace;\n\n      Heap.pushpop = heappushpop;\n\n      Heap.heapify = heapify;\n\n      Heap.updateItem = updateItem;\n\n      Heap.nlargest = nlargest;\n\n      Heap.nsmallest = nsmallest;\n\n      function Heap(cmp) {\n        this.cmp = cmp != null ? cmp : defaultCmp;\n        this.nodes = [];\n      }\n\n      Heap.prototype.push = function(x) {\n        return heappush(this.nodes, x, this.cmp);\n      };\n\n      Heap.prototype.pop = function() {\n        return heappop(this.nodes, this.cmp);\n      };\n\n      Heap.prototype.peek = function() {\n        return this.nodes[0];\n      };\n\n      Heap.prototype.contains = function(x) {\n        return this.nodes.indexOf(x) !== -1;\n      };\n\n      Heap.prototype.replace = function(x) {\n        return heapreplace(this.nodes, x, this.cmp);\n      };\n\n      Heap.prototype.pushpop = function(x) {\n        return heappushpop(this.nodes, x, this.cmp);\n      };\n\n      Heap.prototype.heapify = function() {\n        return heapify(this.nodes, this.cmp);\n      };\n\n      Heap.prototype.updateItem = function(x) {\n        return updateItem(this.nodes, x, this.cmp);\n      };\n\n      Heap.prototype.clear = function() {\n        return this.nodes = [];\n      };\n\n      Heap.prototype.empty = function() {\n        return this.nodes.length === 0;\n      };\n\n      Heap.prototype.size = function() {\n        return this.nodes.length;\n      };\n\n      Heap.prototype.clone = function() {\n        var heap;\n        heap = new Heap();\n        heap.nodes = this.nodes.slice(0);\n        return heap;\n      };\n\n      Heap.prototype.toArray = function() {\n        return this.nodes.slice(0);\n      };\n\n      Heap.prototype.insert = Heap.prototype.push;\n\n      Heap.prototype.top = Heap.prototype.peek;\n\n      Heap.prototype.front = Heap.prototype.peek;\n\n      Heap.prototype.has = Heap.prototype.contains;\n\n      Heap.prototype.copy = Heap.prototype.clone;\n\n      return Heap;\n\n    })();\n\n    (function(root, factory) {\n      {\n        return module.exports = factory();\n      }\n    })(this, function() {\n      return Heap;\n    });\n\n  }).call(commonjsGlobal);\n  });\n\n  var heap = heap$1;\n\n  var dijkstraDefaults = defaults$g({\n    root: null,\n    weight: function weight(edge) {\n      return 1;\n    },\n    directed: false\n  });\n  var elesfn$u = {\n    dijkstra: function dijkstra(options) {\n      if (!plainObject(options)) {\n        var args = arguments;\n        options = {\n          root: args[0],\n          weight: args[1],\n          directed: args[2]\n        };\n      }\n      var _dijkstraDefaults = dijkstraDefaults(options),\n        root = _dijkstraDefaults.root,\n        weight = _dijkstraDefaults.weight,\n        directed = _dijkstraDefaults.directed;\n      var eles = this;\n      var weightFn = weight;\n      var source = string(root) ? this.filter(root)[0] : root[0];\n      var dist = {};\n      var prev = {};\n      var knownDist = {};\n      var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n      edges.unmergeBy(function (ele) {\n        return ele.isLoop();\n      });\n      var getDist = function getDist(node) {\n        return dist[node.id()];\n      };\n      var setDist = function setDist(node, d) {\n        dist[node.id()] = d;\n        Q.updateItem(node);\n      };\n      var Q = new heap(function (a, b) {\n        return getDist(a) - getDist(b);\n      });\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        dist[node.id()] = node.same(source) ? 0 : Infinity;\n        Q.push(node);\n      }\n      var distBetween = function distBetween(u, v) {\n        var uvs = (directed ? u.edgesTo(v) : u.edgesWith(v)).intersect(edges);\n        var smallestDistance = Infinity;\n        var smallestEdge;\n        for (var _i = 0; _i < uvs.length; _i++) {\n          var edge = uvs[_i];\n          var _weight = weightFn(edge);\n          if (_weight < smallestDistance || !smallestEdge) {\n            smallestDistance = _weight;\n            smallestEdge = edge;\n          }\n        }\n        return {\n          edge: smallestEdge,\n          dist: smallestDistance\n        };\n      };\n      while (Q.size() > 0) {\n        var u = Q.pop();\n        var smalletsDist = getDist(u);\n        var uid = u.id();\n        knownDist[uid] = smalletsDist;\n        if (smalletsDist === Infinity) {\n          continue;\n        }\n        var neighbors = u.neighborhood().intersect(nodes);\n        for (var _i2 = 0; _i2 < neighbors.length; _i2++) {\n          var v = neighbors[_i2];\n          var vid = v.id();\n          var vDist = distBetween(u, v);\n          var alt = smalletsDist + vDist.dist;\n          if (alt < getDist(v)) {\n            setDist(v, alt);\n            prev[vid] = {\n              node: u,\n              edge: vDist.edge\n            };\n          }\n        } // for\n      } // while\n\n      return {\n        distanceTo: function distanceTo(node) {\n          var target = string(node) ? nodes.filter(node)[0] : node[0];\n          return knownDist[target.id()];\n        },\n        pathTo: function pathTo(node) {\n          var target = string(node) ? nodes.filter(node)[0] : node[0];\n          var S = [];\n          var u = target;\n          var uid = u.id();\n          if (target.length > 0) {\n            S.unshift(target);\n            while (prev[uid]) {\n              var p = prev[uid];\n              S.unshift(p.edge);\n              S.unshift(p.node);\n              u = p.node;\n              uid = u.id();\n            }\n          }\n          return eles.spawn(S);\n        }\n      };\n    }\n  };\n\n  var elesfn$t = {\n    // kruskal's algorithm (finds min spanning tree, assuming undirected graph)\n    // implemented from pseudocode from wikipedia\n    kruskal: function kruskal(weightFn) {\n      weightFn = weightFn || function (edge) {\n        return 1;\n      };\n      var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n      var numNodes = nodes.length;\n      var forest = new Array(numNodes);\n      var A = nodes; // assumes byGroup() creates new collections that can be safely mutated\n\n      var findSetIndex = function findSetIndex(ele) {\n        for (var i = 0; i < forest.length; i++) {\n          var eles = forest[i];\n          if (eles.has(ele)) {\n            return i;\n          }\n        }\n      };\n\n      // start with one forest per node\n      for (var i = 0; i < numNodes; i++) {\n        forest[i] = this.spawn(nodes[i]);\n      }\n      var S = edges.sort(function (a, b) {\n        return weightFn(a) - weightFn(b);\n      });\n      for (var _i = 0; _i < S.length; _i++) {\n        var edge = S[_i];\n        var u = edge.source()[0];\n        var v = edge.target()[0];\n        var setUIndex = findSetIndex(u);\n        var setVIndex = findSetIndex(v);\n        var setU = forest[setUIndex];\n        var setV = forest[setVIndex];\n        if (setUIndex !== setVIndex) {\n          A.merge(edge);\n\n          // combine forests for u and v\n          setU.merge(setV);\n          forest.splice(setVIndex, 1);\n        }\n      }\n      return A;\n    }\n  };\n\n  var aStarDefaults = defaults$g({\n    root: null,\n    goal: null,\n    weight: function weight(edge) {\n      return 1;\n    },\n    heuristic: function heuristic(edge) {\n      return 0;\n    },\n    directed: false\n  });\n  var elesfn$s = {\n    // Implemented from pseudocode from wikipedia\n    aStar: function aStar(options) {\n      var cy = this.cy();\n      var _aStarDefaults = aStarDefaults(options),\n        root = _aStarDefaults.root,\n        goal = _aStarDefaults.goal,\n        heuristic = _aStarDefaults.heuristic,\n        directed = _aStarDefaults.directed,\n        weight = _aStarDefaults.weight;\n      root = cy.collection(root)[0];\n      goal = cy.collection(goal)[0];\n      var sid = root.id();\n      var tid = goal.id();\n      var gScore = {};\n      var fScore = {};\n      var closedSetIds = {};\n      var openSet = new heap(function (a, b) {\n        return fScore[a.id()] - fScore[b.id()];\n      });\n      var openSetIds = new Set$1();\n      var cameFrom = {};\n      var cameFromEdge = {};\n      var addToOpenSet = function addToOpenSet(ele, id) {\n        openSet.push(ele);\n        openSetIds.add(id);\n      };\n      var cMin, cMinId;\n      var popFromOpenSet = function popFromOpenSet() {\n        cMin = openSet.pop();\n        cMinId = cMin.id();\n        openSetIds[\"delete\"](cMinId);\n      };\n      var isInOpenSet = function isInOpenSet(id) {\n        return openSetIds.has(id);\n      };\n      addToOpenSet(root, sid);\n      gScore[sid] = 0;\n      fScore[sid] = heuristic(root);\n\n      // Counter\n      var steps = 0;\n\n      // Main loop\n      while (openSet.size() > 0) {\n        popFromOpenSet();\n        steps++;\n\n        // If we've found our goal, then we are done\n        if (cMinId === tid) {\n          var path = [];\n          var pathNode = goal;\n          var pathNodeId = tid;\n          var pathEdge = cameFromEdge[pathNodeId];\n          for (;;) {\n            path.unshift(pathNode);\n            if (pathEdge != null) {\n              path.unshift(pathEdge);\n            }\n            pathNode = cameFrom[pathNodeId];\n            if (pathNode == null) {\n              break;\n            }\n            pathNodeId = pathNode.id();\n            pathEdge = cameFromEdge[pathNodeId];\n          }\n          return {\n            found: true,\n            distance: gScore[cMinId],\n            path: this.spawn(path),\n            steps: steps\n          };\n        }\n\n        // Add cMin to processed nodes\n        closedSetIds[cMinId] = true;\n\n        // Update scores for neighbors of cMin\n        // Take into account if graph is directed or not\n        var vwEdges = cMin._private.edges;\n        for (var i = 0; i < vwEdges.length; i++) {\n          var e = vwEdges[i];\n\n          // edge must be in set of calling eles\n          if (!this.hasElementWithId(e.id())) {\n            continue;\n          }\n\n          // cMin must be the source of edge if directed\n          if (directed && e.data('source') !== cMinId) {\n            continue;\n          }\n          var wSrc = e.source();\n          var wTgt = e.target();\n          var w = wSrc.id() !== cMinId ? wSrc : wTgt;\n          var wid = w.id();\n\n          // node must be in set of calling eles\n          if (!this.hasElementWithId(wid)) {\n            continue;\n          }\n\n          // if node is in closedSet, ignore it\n          if (closedSetIds[wid]) {\n            continue;\n          }\n\n          // New tentative score for node w\n          var tempScore = gScore[cMinId] + weight(e);\n\n          // Update gScore for node w if:\n          //   w not present in openSet\n          // OR\n          //   tentative gScore is less than previous value\n\n          // w not in openSet\n          if (!isInOpenSet(wid)) {\n            gScore[wid] = tempScore;\n            fScore[wid] = tempScore + heuristic(w);\n            addToOpenSet(w, wid);\n            cameFrom[wid] = cMin;\n            cameFromEdge[wid] = e;\n            continue;\n          }\n\n          // w already in openSet, but with greater gScore\n          if (tempScore < gScore[wid]) {\n            gScore[wid] = tempScore;\n            fScore[wid] = tempScore + heuristic(w);\n            cameFrom[wid] = cMin;\n            cameFromEdge[wid] = e;\n          }\n        } // End of neighbors update\n      } // End of main loop\n\n      // If we've reached here, then we've not reached our goal\n      return {\n        found: false,\n        distance: undefined,\n        path: undefined,\n        steps: steps\n      };\n    }\n  }; // elesfn\n\n  var floydWarshallDefaults = defaults$g({\n    weight: function weight(edge) {\n      return 1;\n    },\n    directed: false\n  });\n  var elesfn$r = {\n    // Implemented from pseudocode from wikipedia\n    floydWarshall: function floydWarshall(options) {\n      var cy = this.cy();\n      var _floydWarshallDefault = floydWarshallDefaults(options),\n        weight = _floydWarshallDefault.weight,\n        directed = _floydWarshallDefault.directed;\n      var weightFn = weight;\n      var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n      var N = nodes.length;\n      var Nsq = N * N;\n      var indexOf = function indexOf(node) {\n        return nodes.indexOf(node);\n      };\n      var atIndex = function atIndex(i) {\n        return nodes[i];\n      };\n\n      // Initialize distance matrix\n      var dist = new Array(Nsq);\n      for (var n = 0; n < Nsq; n++) {\n        var j = n % N;\n        var i = (n - j) / N;\n        if (i === j) {\n          dist[n] = 0;\n        } else {\n          dist[n] = Infinity;\n        }\n      }\n\n      // Initialize matrix used for path reconstruction\n      // Initialize distance matrix\n      var next = new Array(Nsq);\n      var edgeNext = new Array(Nsq);\n\n      // Process edges\n      for (var _i = 0; _i < edges.length; _i++) {\n        var edge = edges[_i];\n        var src = edge.source()[0];\n        var tgt = edge.target()[0];\n        if (src === tgt) {\n          continue;\n        } // exclude loops\n\n        var s = indexOf(src);\n        var t = indexOf(tgt);\n        var st = s * N + t; // source to target index\n        var _weight = weightFn(edge);\n\n        // Check if already process another edge between same 2 nodes\n        if (dist[st] > _weight) {\n          dist[st] = _weight;\n          next[st] = t;\n          edgeNext[st] = edge;\n        }\n\n        // If undirected graph, process 'reversed' edge\n        if (!directed) {\n          var ts = t * N + s; // target to source index\n\n          if (!directed && dist[ts] > _weight) {\n            dist[ts] = _weight;\n            next[ts] = s;\n            edgeNext[ts] = edge;\n          }\n        }\n      }\n\n      // Main loop\n      for (var k = 0; k < N; k++) {\n        for (var _i2 = 0; _i2 < N; _i2++) {\n          var ik = _i2 * N + k;\n          for (var _j = 0; _j < N; _j++) {\n            var ij = _i2 * N + _j;\n            var kj = k * N + _j;\n            if (dist[ik] + dist[kj] < dist[ij]) {\n              dist[ij] = dist[ik] + dist[kj];\n              next[ij] = next[ik];\n            }\n          }\n        }\n      }\n      var getArgEle = function getArgEle(ele) {\n        return (string(ele) ? cy.filter(ele) : ele)[0];\n      };\n      var indexOfArgEle = function indexOfArgEle(ele) {\n        return indexOf(getArgEle(ele));\n      };\n      var res = {\n        distance: function distance(from, to) {\n          var i = indexOfArgEle(from);\n          var j = indexOfArgEle(to);\n          return dist[i * N + j];\n        },\n        path: function path(from, to) {\n          var i = indexOfArgEle(from);\n          var j = indexOfArgEle(to);\n          var fromNode = atIndex(i);\n          if (i === j) {\n            return fromNode.collection();\n          }\n          if (next[i * N + j] == null) {\n            return cy.collection();\n          }\n          var path = cy.collection();\n          var prev = i;\n          var edge;\n          path.merge(fromNode);\n          while (i !== j) {\n            prev = i;\n            i = next[i * N + j];\n            edge = edgeNext[prev * N + i];\n            path.merge(edge);\n            path.merge(atIndex(i));\n          }\n          return path;\n        }\n      };\n      return res;\n    } // floydWarshall\n  }; // elesfn\n\n  var bellmanFordDefaults = defaults$g({\n    weight: function weight(edge) {\n      return 1;\n    },\n    directed: false,\n    root: null\n  });\n  var elesfn$q = {\n    // Implemented from pseudocode from wikipedia\n    bellmanFord: function bellmanFord(options) {\n      var _this = this;\n      var _bellmanFordDefaults = bellmanFordDefaults(options),\n        weight = _bellmanFordDefaults.weight,\n        directed = _bellmanFordDefaults.directed,\n        root = _bellmanFordDefaults.root;\n      var weightFn = weight;\n      var eles = this;\n      var cy = this.cy();\n      var _this$byGroup = this.byGroup(),\n        edges = _this$byGroup.edges,\n        nodes = _this$byGroup.nodes;\n      var numNodes = nodes.length;\n      var infoMap = new Map$2();\n      var hasNegativeWeightCycle = false;\n      var negativeWeightCycles = [];\n      root = cy.collection(root)[0]; // in case selector passed\n\n      edges.unmergeBy(function (edge) {\n        return edge.isLoop();\n      });\n      var numEdges = edges.length;\n      var getInfo = function getInfo(node) {\n        var obj = infoMap.get(node.id());\n        if (!obj) {\n          obj = {};\n          infoMap.set(node.id(), obj);\n        }\n        return obj;\n      };\n      var getNodeFromTo = function getNodeFromTo(to) {\n        return (string(to) ? cy.$(to) : to)[0];\n      };\n      var distanceTo = function distanceTo(to) {\n        return getInfo(getNodeFromTo(to)).dist;\n      };\n      var pathTo = function pathTo(to) {\n        var thisStart = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : root;\n        var end = getNodeFromTo(to);\n        var path = [];\n        var node = end;\n        for (;;) {\n          if (node == null) {\n            return _this.spawn();\n          }\n          var _getInfo = getInfo(node),\n            edge = _getInfo.edge,\n            pred = _getInfo.pred;\n          path.unshift(node[0]);\n          if (node.same(thisStart) && path.length > 0) {\n            break;\n          }\n          if (edge != null) {\n            path.unshift(edge);\n          }\n          node = pred;\n        }\n        return eles.spawn(path);\n      };\n\n      // Initializations { dist, pred, edge }\n      for (var i = 0; i < numNodes; i++) {\n        var node = nodes[i];\n        var info = getInfo(node);\n        if (node.same(root)) {\n          info.dist = 0;\n        } else {\n          info.dist = Infinity;\n        }\n        info.pred = null;\n        info.edge = null;\n      }\n\n      // Edges relaxation\n      var replacedEdge = false;\n      var checkForEdgeReplacement = function checkForEdgeReplacement(node1, node2, edge, info1, info2, weight) {\n        var dist = info1.dist + weight;\n        if (dist < info2.dist && !edge.same(info1.edge)) {\n          info2.dist = dist;\n          info2.pred = node1;\n          info2.edge = edge;\n          replacedEdge = true;\n        }\n      };\n      for (var _i = 1; _i < numNodes; _i++) {\n        replacedEdge = false;\n        for (var e = 0; e < numEdges; e++) {\n          var edge = edges[e];\n          var src = edge.source();\n          var tgt = edge.target();\n          var _weight = weightFn(edge);\n          var srcInfo = getInfo(src);\n          var tgtInfo = getInfo(tgt);\n          checkForEdgeReplacement(src, tgt, edge, srcInfo, tgtInfo, _weight);\n\n          // If undirected graph, we need to take into account the 'reverse' edge\n          if (!directed) {\n            checkForEdgeReplacement(tgt, src, edge, tgtInfo, srcInfo, _weight);\n          }\n        }\n        if (!replacedEdge) {\n          break;\n        }\n      }\n      if (replacedEdge) {\n        // Check for negative weight cycles\n        var negativeWeightCycleIds = [];\n        for (var _e = 0; _e < numEdges; _e++) {\n          var _edge = edges[_e];\n          var _src = _edge.source();\n          var _tgt = _edge.target();\n          var _weight2 = weightFn(_edge);\n          var srcDist = getInfo(_src).dist;\n          var tgtDist = getInfo(_tgt).dist;\n          if (srcDist + _weight2 < tgtDist || !directed && tgtDist + _weight2 < srcDist) {\n            if (!hasNegativeWeightCycle) {\n              warn('Graph contains a negative weight cycle for Bellman-Ford');\n              hasNegativeWeightCycle = true;\n            }\n            if (options.findNegativeWeightCycles !== false) {\n              var negativeNodes = [];\n              if (srcDist + _weight2 < tgtDist) {\n                negativeNodes.push(_src);\n              }\n              if (!directed && tgtDist + _weight2 < srcDist) {\n                negativeNodes.push(_tgt);\n              }\n              var numNegativeNodes = negativeNodes.length;\n              for (var n = 0; n < numNegativeNodes; n++) {\n                var start = negativeNodes[n];\n                var cycle = [start];\n                cycle.push(getInfo(start).edge);\n                var _node = getInfo(start).pred;\n                while (cycle.indexOf(_node) === -1) {\n                  cycle.push(_node);\n                  cycle.push(getInfo(_node).edge);\n                  _node = getInfo(_node).pred;\n                }\n                cycle = cycle.slice(cycle.indexOf(_node));\n                var smallestId = cycle[0].id();\n                var smallestIndex = 0;\n                for (var c = 2; c < cycle.length; c += 2) {\n                  if (cycle[c].id() < smallestId) {\n                    smallestId = cycle[c].id();\n                    smallestIndex = c;\n                  }\n                }\n                cycle = cycle.slice(smallestIndex).concat(cycle.slice(0, smallestIndex));\n                cycle.push(cycle[0]);\n                var cycleId = cycle.map(function (el) {\n                  return el.id();\n                }).join(\",\");\n                if (negativeWeightCycleIds.indexOf(cycleId) === -1) {\n                  negativeWeightCycles.push(eles.spawn(cycle));\n                  negativeWeightCycleIds.push(cycleId);\n                }\n              }\n            } else {\n              break;\n            }\n          }\n        }\n      }\n      return {\n        distanceTo: distanceTo,\n        pathTo: pathTo,\n        hasNegativeWeightCycle: hasNegativeWeightCycle,\n        negativeWeightCycles: negativeWeightCycles\n      };\n    } // bellmanFord\n  }; // elesfn\n\n  var sqrt2 = Math.sqrt(2);\n\n  // Function which colapses 2 (meta) nodes into one\n  // Updates the remaining edge lists\n  // Receives as a paramater the edge which causes the collapse\n  var collapse = function collapse(edgeIndex, nodeMap, remainingEdges) {\n    if (remainingEdges.length === 0) {\n      error(\"Karger-Stein must be run on a connected (sub)graph\");\n    }\n    var edgeInfo = remainingEdges[edgeIndex];\n    var sourceIn = edgeInfo[1];\n    var targetIn = edgeInfo[2];\n    var partition1 = nodeMap[sourceIn];\n    var partition2 = nodeMap[targetIn];\n    var newEdges = remainingEdges; // re-use array\n\n    // Delete all edges between partition1 and partition2\n    for (var i = newEdges.length - 1; i >= 0; i--) {\n      var edge = newEdges[i];\n      var src = edge[1];\n      var tgt = edge[2];\n      if (nodeMap[src] === partition1 && nodeMap[tgt] === partition2 || nodeMap[src] === partition2 && nodeMap[tgt] === partition1) {\n        newEdges.splice(i, 1);\n      }\n    }\n\n    // All edges pointing to partition2 should now point to partition1\n    for (var _i = 0; _i < newEdges.length; _i++) {\n      var _edge = newEdges[_i];\n      if (_edge[1] === partition2) {\n        // Check source\n        newEdges[_i] = _edge.slice(); // copy\n        newEdges[_i][1] = partition1;\n      } else if (_edge[2] === partition2) {\n        // Check target\n        newEdges[_i] = _edge.slice(); // copy\n        newEdges[_i][2] = partition1;\n      }\n    }\n\n    // Move all nodes from partition2 to partition1\n    for (var _i2 = 0; _i2 < nodeMap.length; _i2++) {\n      if (nodeMap[_i2] === partition2) {\n        nodeMap[_i2] = partition1;\n      }\n    }\n    return newEdges;\n  };\n\n  // Contracts a graph until we reach a certain number of meta nodes\n  var contractUntil = function contractUntil(metaNodeMap, remainingEdges, size, sizeLimit) {\n    while (size > sizeLimit) {\n      // Choose an edge randomly\n      var edgeIndex = Math.floor(Math.random() * remainingEdges.length);\n\n      // Collapse graph based on edge\n      remainingEdges = collapse(edgeIndex, metaNodeMap, remainingEdges);\n      size--;\n    }\n    return remainingEdges;\n  };\n  var elesfn$p = {\n    // Computes the minimum cut of an undirected graph\n    // Returns the correct answer with high probability\n    kargerStein: function kargerStein() {\n      var _this = this;\n      var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n      edges.unmergeBy(function (edge) {\n        return edge.isLoop();\n      });\n      var numNodes = nodes.length;\n      var numEdges = edges.length;\n      var numIter = Math.ceil(Math.pow(Math.log(numNodes) / Math.LN2, 2));\n      var stopSize = Math.floor(numNodes / sqrt2);\n      if (numNodes < 2) {\n        error('At least 2 nodes are required for Karger-Stein algorithm');\n        return undefined;\n      }\n\n      // Now store edge destination as indexes\n      // Format for each edge (edge index, source node index, target node index)\n      var edgeIndexes = [];\n      for (var i = 0; i < numEdges; i++) {\n        var e = edges[i];\n        edgeIndexes.push([i, nodes.indexOf(e.source()), nodes.indexOf(e.target())]);\n      }\n\n      // We will store the best cut found here\n      var minCutSize = Infinity;\n      var minCutEdgeIndexes = [];\n      var minCutNodeMap = new Array(numNodes);\n\n      // Initial meta node partition\n      var metaNodeMap = new Array(numNodes);\n      var metaNodeMap2 = new Array(numNodes);\n      var copyNodesMap = function copyNodesMap(from, to) {\n        for (var _i3 = 0; _i3 < numNodes; _i3++) {\n          to[_i3] = from[_i3];\n        }\n      };\n\n      // Main loop\n      for (var iter = 0; iter <= numIter; iter++) {\n        // Reset meta node partition\n        for (var _i4 = 0; _i4 < numNodes; _i4++) {\n          metaNodeMap[_i4] = _i4;\n        }\n\n        // Contract until stop point (stopSize nodes)\n        var edgesState = contractUntil(metaNodeMap, edgeIndexes.slice(), numNodes, stopSize);\n        var edgesState2 = edgesState.slice(); // copy\n\n        // Create a copy of the colapsed nodes state\n        copyNodesMap(metaNodeMap, metaNodeMap2);\n\n        // Run 2 iterations starting in the stop state\n        var res1 = contractUntil(metaNodeMap, edgesState, stopSize, 2);\n        var res2 = contractUntil(metaNodeMap2, edgesState2, stopSize, 2);\n\n        // Is any of the 2 results the best cut so far?\n        if (res1.length <= res2.length && res1.length < minCutSize) {\n          minCutSize = res1.length;\n          minCutEdgeIndexes = res1;\n          copyNodesMap(metaNodeMap, minCutNodeMap);\n        } else if (res2.length <= res1.length && res2.length < minCutSize) {\n          minCutSize = res2.length;\n          minCutEdgeIndexes = res2;\n          copyNodesMap(metaNodeMap2, minCutNodeMap);\n        }\n      } // end of main loop\n\n      // Construct result\n      var cut = this.spawn(minCutEdgeIndexes.map(function (e) {\n        return edges[e[0]];\n      }));\n      var partition1 = this.spawn();\n      var partition2 = this.spawn();\n\n      // traverse metaNodeMap for best cut\n      var witnessNodePartition = minCutNodeMap[0];\n      for (var _i5 = 0; _i5 < minCutNodeMap.length; _i5++) {\n        var partitionId = minCutNodeMap[_i5];\n        var node = nodes[_i5];\n        if (partitionId === witnessNodePartition) {\n          partition1.merge(node);\n        } else {\n          partition2.merge(node);\n        }\n      }\n\n      // construct components corresponding to each disjoint subset of nodes\n      var constructComponent = function constructComponent(subset) {\n        var component = _this.spawn();\n        subset.forEach(function (node) {\n          component.merge(node);\n          node.connectedEdges().forEach(function (edge) {\n            // ensure edge is within calling collection and edge is not in cut\n            if (_this.contains(edge) && !cut.contains(edge)) {\n              component.merge(edge);\n            }\n          });\n        });\n        return component;\n      };\n      var components = [constructComponent(partition1), constructComponent(partition2)];\n      var ret = {\n        cut: cut,\n        components: components,\n        // n.b. partitions are included to be compatible with the old api spec\n        // (could be removed in a future major version)\n        partition1: partition1,\n        partition2: partition2\n      };\n      return ret;\n    }\n  }; // elesfn\n\n  var copyPosition = function copyPosition(p) {\n    return {\n      x: p.x,\n      y: p.y\n    };\n  };\n  var modelToRenderedPosition = function modelToRenderedPosition(p, zoom, pan) {\n    return {\n      x: p.x * zoom + pan.x,\n      y: p.y * zoom + pan.y\n    };\n  };\n  var renderedToModelPosition = function renderedToModelPosition(p, zoom, pan) {\n    return {\n      x: (p.x - pan.x) / zoom,\n      y: (p.y - pan.y) / zoom\n    };\n  };\n  var array2point = function array2point(arr) {\n    return {\n      x: arr[0],\n      y: arr[1]\n    };\n  };\n  var min = function min(arr) {\n    var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n    var min = Infinity;\n    for (var i = begin; i < end; i++) {\n      var val = arr[i];\n      if (isFinite(val)) {\n        min = Math.min(val, min);\n      }\n    }\n    return min;\n  };\n  var max = function max(arr) {\n    var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n    var max = -Infinity;\n    for (var i = begin; i < end; i++) {\n      var val = arr[i];\n      if (isFinite(val)) {\n        max = Math.max(val, max);\n      }\n    }\n    return max;\n  };\n  var mean = function mean(arr) {\n    var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n    var total = 0;\n    var n = 0;\n    for (var i = begin; i < end; i++) {\n      var val = arr[i];\n      if (isFinite(val)) {\n        total += val;\n        n++;\n      }\n    }\n    return total / n;\n  };\n  var median = function median(arr) {\n    var begin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    var end = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : arr.length;\n    var copy = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var sort = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var includeHoles = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n    if (copy) {\n      arr = arr.slice(begin, end);\n    } else {\n      if (end < arr.length) {\n        arr.splice(end, arr.length - end);\n      }\n      if (begin > 0) {\n        arr.splice(0, begin);\n      }\n    }\n\n    // all non finite (e.g. Infinity, NaN) elements must be -Infinity so they go to the start\n    var off = 0; // offset from non-finite values\n    for (var i = arr.length - 1; i >= 0; i--) {\n      var v = arr[i];\n      if (includeHoles) {\n        if (!isFinite(v)) {\n          arr[i] = -Infinity;\n          off++;\n        }\n      } else {\n        // just remove it if we don't want to consider holes\n        arr.splice(i, 1);\n      }\n    }\n    if (sort) {\n      arr.sort(function (a, b) {\n        return a - b;\n      }); // requires copy = true if you don't want to change the orig\n    }\n\n    var len = arr.length;\n    var mid = Math.floor(len / 2);\n    if (len % 2 !== 0) {\n      return arr[mid + 1 + off];\n    } else {\n      return (arr[mid - 1 + off] + arr[mid + off]) / 2;\n    }\n  };\n  var deg2rad = function deg2rad(deg) {\n    return Math.PI * deg / 180;\n  };\n  var getAngleFromDisp = function getAngleFromDisp(dispX, dispY) {\n    return Math.atan2(dispY, dispX) - Math.PI / 2;\n  };\n  var log2 = Math.log2 || function (n) {\n    return Math.log(n) / Math.log(2);\n  };\n  var signum = function signum(x) {\n    if (x > 0) {\n      return 1;\n    } else if (x < 0) {\n      return -1;\n    } else {\n      return 0;\n    }\n  };\n  var dist = function dist(p1, p2) {\n    return Math.sqrt(sqdist(p1, p2));\n  };\n  var sqdist = function sqdist(p1, p2) {\n    var dx = p2.x - p1.x;\n    var dy = p2.y - p1.y;\n    return dx * dx + dy * dy;\n  };\n  var inPlaceSumNormalize = function inPlaceSumNormalize(v) {\n    var length = v.length;\n\n    // First, get sum of all elements\n    var total = 0;\n    for (var i = 0; i < length; i++) {\n      total += v[i];\n    }\n\n    // Now, divide each by the sum of all elements\n    for (var _i = 0; _i < length; _i++) {\n      v[_i] = v[_i] / total;\n    }\n    return v;\n  };\n\n  // from http://en.wikipedia.org/wiki/Bézier_curve#Quadratic_curves\n  var qbezierAt = function qbezierAt(p0, p1, p2, t) {\n    return (1 - t) * (1 - t) * p0 + 2 * (1 - t) * t * p1 + t * t * p2;\n  };\n  var qbezierPtAt = function qbezierPtAt(p0, p1, p2, t) {\n    return {\n      x: qbezierAt(p0.x, p1.x, p2.x, t),\n      y: qbezierAt(p0.y, p1.y, p2.y, t)\n    };\n  };\n  var lineAt = function lineAt(p0, p1, t, d) {\n    var vec = {\n      x: p1.x - p0.x,\n      y: p1.y - p0.y\n    };\n    var vecDist = dist(p0, p1);\n    var normVec = {\n      x: vec.x / vecDist,\n      y: vec.y / vecDist\n    };\n    t = t == null ? 0 : t;\n    d = d != null ? d : t * vecDist;\n    return {\n      x: p0.x + normVec.x * d,\n      y: p0.y + normVec.y * d\n    };\n  };\n  var bound = function bound(min, val, max) {\n    return Math.max(min, Math.min(max, val));\n  };\n\n  // makes a full bb (x1, y1, x2, y2, w, h) from implicit params\n  var makeBoundingBox = function makeBoundingBox(bb) {\n    if (bb == null) {\n      return {\n        x1: Infinity,\n        y1: Infinity,\n        x2: -Infinity,\n        y2: -Infinity,\n        w: 0,\n        h: 0\n      };\n    } else if (bb.x1 != null && bb.y1 != null) {\n      if (bb.x2 != null && bb.y2 != null && bb.x2 >= bb.x1 && bb.y2 >= bb.y1) {\n        return {\n          x1: bb.x1,\n          y1: bb.y1,\n          x2: bb.x2,\n          y2: bb.y2,\n          w: bb.x2 - bb.x1,\n          h: bb.y2 - bb.y1\n        };\n      } else if (bb.w != null && bb.h != null && bb.w >= 0 && bb.h >= 0) {\n        return {\n          x1: bb.x1,\n          y1: bb.y1,\n          x2: bb.x1 + bb.w,\n          y2: bb.y1 + bb.h,\n          w: bb.w,\n          h: bb.h\n        };\n      }\n    }\n  };\n  var copyBoundingBox = function copyBoundingBox(bb) {\n    return {\n      x1: bb.x1,\n      x2: bb.x2,\n      w: bb.w,\n      y1: bb.y1,\n      y2: bb.y2,\n      h: bb.h\n    };\n  };\n  var clearBoundingBox = function clearBoundingBox(bb) {\n    bb.x1 = Infinity;\n    bb.y1 = Infinity;\n    bb.x2 = -Infinity;\n    bb.y2 = -Infinity;\n    bb.w = 0;\n    bb.h = 0;\n  };\n  var updateBoundingBox = function updateBoundingBox(bb1, bb2) {\n    // update bb1 with bb2 bounds\n\n    bb1.x1 = Math.min(bb1.x1, bb2.x1);\n    bb1.x2 = Math.max(bb1.x2, bb2.x2);\n    bb1.w = bb1.x2 - bb1.x1;\n    bb1.y1 = Math.min(bb1.y1, bb2.y1);\n    bb1.y2 = Math.max(bb1.y2, bb2.y2);\n    bb1.h = bb1.y2 - bb1.y1;\n  };\n  var expandBoundingBoxByPoint = function expandBoundingBoxByPoint(bb, x, y) {\n    bb.x1 = Math.min(bb.x1, x);\n    bb.x2 = Math.max(bb.x2, x);\n    bb.w = bb.x2 - bb.x1;\n    bb.y1 = Math.min(bb.y1, y);\n    bb.y2 = Math.max(bb.y2, y);\n    bb.h = bb.y2 - bb.y1;\n  };\n  var expandBoundingBox = function expandBoundingBox(bb) {\n    var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n    bb.x1 -= padding;\n    bb.x2 += padding;\n    bb.y1 -= padding;\n    bb.y2 += padding;\n    bb.w = bb.x2 - bb.x1;\n    bb.h = bb.y2 - bb.y1;\n    return bb;\n  };\n  var expandBoundingBoxSides = function expandBoundingBoxSides(bb) {\n    var padding = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [0];\n    var top, right, bottom, left;\n    if (padding.length === 1) {\n      top = right = bottom = left = padding[0];\n    } else if (padding.length === 2) {\n      top = bottom = padding[0];\n      left = right = padding[1];\n    } else if (padding.length === 4) {\n      var _padding = _slicedToArray(padding, 4);\n      top = _padding[0];\n      right = _padding[1];\n      bottom = _padding[2];\n      left = _padding[3];\n    }\n    bb.x1 -= left;\n    bb.x2 += right;\n    bb.y1 -= top;\n    bb.y2 += bottom;\n    bb.w = bb.x2 - bb.x1;\n    bb.h = bb.y2 - bb.y1;\n    return bb;\n  };\n\n  // assign the values of bb2 into bb1\n  var assignBoundingBox = function assignBoundingBox(bb1, bb2) {\n    bb1.x1 = bb2.x1;\n    bb1.y1 = bb2.y1;\n    bb1.x2 = bb2.x2;\n    bb1.y2 = bb2.y2;\n    bb1.w = bb1.x2 - bb1.x1;\n    bb1.h = bb1.y2 - bb1.y1;\n  };\n  var boundingBoxesIntersect = function boundingBoxesIntersect(bb1, bb2) {\n    // case: one bb to right of other\n    if (bb1.x1 > bb2.x2) {\n      return false;\n    }\n    if (bb2.x1 > bb1.x2) {\n      return false;\n    }\n\n    // case: one bb to left of other\n    if (bb1.x2 < bb2.x1) {\n      return false;\n    }\n    if (bb2.x2 < bb1.x1) {\n      return false;\n    }\n\n    // case: one bb above other\n    if (bb1.y2 < bb2.y1) {\n      return false;\n    }\n    if (bb2.y2 < bb1.y1) {\n      return false;\n    }\n\n    // case: one bb below other\n    if (bb1.y1 > bb2.y2) {\n      return false;\n    }\n    if (bb2.y1 > bb1.y2) {\n      return false;\n    }\n\n    // otherwise, must have some overlap\n    return true;\n  };\n  var inBoundingBox = function inBoundingBox(bb, x, y) {\n    return bb.x1 <= x && x <= bb.x2 && bb.y1 <= y && y <= bb.y2;\n  };\n  var pointInBoundingBox = function pointInBoundingBox(bb, pt) {\n    return inBoundingBox(bb, pt.x, pt.y);\n  };\n  var boundingBoxInBoundingBox = function boundingBoxInBoundingBox(bb1, bb2) {\n    return inBoundingBox(bb1, bb2.x1, bb2.y1) && inBoundingBox(bb1, bb2.x2, bb2.y2);\n  };\n  var roundRectangleIntersectLine = function roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding) {\n    var cornerRadius = getRoundRectangleRadius(width, height);\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n\n    // Check intersections with straight line segments\n    var straightLineIntersections;\n\n    // Top segment, left to right\n    {\n      var topStartX = nodeX - halfWidth + cornerRadius - padding;\n      var topStartY = nodeY - halfHeight - padding;\n      var topEndX = nodeX + halfWidth - cornerRadius + padding;\n      var topEndY = topStartY;\n      straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n      if (straightLineIntersections.length > 0) {\n        return straightLineIntersections;\n      }\n    }\n\n    // Right segment, top to bottom\n    {\n      var rightStartX = nodeX + halfWidth + padding;\n      var rightStartY = nodeY - halfHeight + cornerRadius - padding;\n      var rightEndX = rightStartX;\n      var rightEndY = nodeY + halfHeight - cornerRadius + padding;\n      straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, rightStartX, rightStartY, rightEndX, rightEndY, false);\n      if (straightLineIntersections.length > 0) {\n        return straightLineIntersections;\n      }\n    }\n\n    // Bottom segment, left to right\n    {\n      var bottomStartX = nodeX - halfWidth + cornerRadius - padding;\n      var bottomStartY = nodeY + halfHeight + padding;\n      var bottomEndX = nodeX + halfWidth - cornerRadius + padding;\n      var bottomEndY = bottomStartY;\n      straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, bottomStartX, bottomStartY, bottomEndX, bottomEndY, false);\n      if (straightLineIntersections.length > 0) {\n        return straightLineIntersections;\n      }\n    }\n\n    // Left segment, top to bottom\n    {\n      var leftStartX = nodeX - halfWidth - padding;\n      var leftStartY = nodeY - halfHeight + cornerRadius - padding;\n      var leftEndX = leftStartX;\n      var leftEndY = nodeY + halfHeight - cornerRadius + padding;\n      straightLineIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, leftStartX, leftStartY, leftEndX, leftEndY, false);\n      if (straightLineIntersections.length > 0) {\n        return straightLineIntersections;\n      }\n    }\n\n    // Check intersections with arc segments\n    var arcIntersections;\n\n    // Top Left\n    {\n      var topLeftCenterX = nodeX - halfWidth + cornerRadius;\n      var topLeftCenterY = nodeY - halfHeight + cornerRadius;\n      arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, topLeftCenterX, topLeftCenterY, cornerRadius + padding);\n\n      // Ensure the intersection is on the desired quarter of the circle\n      if (arcIntersections.length > 0 && arcIntersections[0] <= topLeftCenterX && arcIntersections[1] <= topLeftCenterY) {\n        return [arcIntersections[0], arcIntersections[1]];\n      }\n    }\n\n    // Top Right\n    {\n      var topRightCenterX = nodeX + halfWidth - cornerRadius;\n      var topRightCenterY = nodeY - halfHeight + cornerRadius;\n      arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, topRightCenterX, topRightCenterY, cornerRadius + padding);\n\n      // Ensure the intersection is on the desired quarter of the circle\n      if (arcIntersections.length > 0 && arcIntersections[0] >= topRightCenterX && arcIntersections[1] <= topRightCenterY) {\n        return [arcIntersections[0], arcIntersections[1]];\n      }\n    }\n\n    // Bottom Right\n    {\n      var bottomRightCenterX = nodeX + halfWidth - cornerRadius;\n      var bottomRightCenterY = nodeY + halfHeight - cornerRadius;\n      arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, bottomRightCenterX, bottomRightCenterY, cornerRadius + padding);\n\n      // Ensure the intersection is on the desired quarter of the circle\n      if (arcIntersections.length > 0 && arcIntersections[0] >= bottomRightCenterX && arcIntersections[1] >= bottomRightCenterY) {\n        return [arcIntersections[0], arcIntersections[1]];\n      }\n    }\n\n    // Bottom Left\n    {\n      var bottomLeftCenterX = nodeX - halfWidth + cornerRadius;\n      var bottomLeftCenterY = nodeY + halfHeight - cornerRadius;\n      arcIntersections = intersectLineCircle(x, y, nodeX, nodeY, bottomLeftCenterX, bottomLeftCenterY, cornerRadius + padding);\n\n      // Ensure the intersection is on the desired quarter of the circle\n      if (arcIntersections.length > 0 && arcIntersections[0] <= bottomLeftCenterX && arcIntersections[1] >= bottomLeftCenterY) {\n        return [arcIntersections[0], arcIntersections[1]];\n      }\n    }\n    return []; // if nothing\n  };\n\n  var inLineVicinity = function inLineVicinity(x, y, lx1, ly1, lx2, ly2, tolerance) {\n    var t = tolerance;\n    var x1 = Math.min(lx1, lx2);\n    var x2 = Math.max(lx1, lx2);\n    var y1 = Math.min(ly1, ly2);\n    var y2 = Math.max(ly1, ly2);\n    return x1 - t <= x && x <= x2 + t && y1 - t <= y && y <= y2 + t;\n  };\n  var inBezierVicinity = function inBezierVicinity(x, y, x1, y1, x2, y2, x3, y3, tolerance) {\n    var bb = {\n      x1: Math.min(x1, x3, x2) - tolerance,\n      x2: Math.max(x1, x3, x2) + tolerance,\n      y1: Math.min(y1, y3, y2) - tolerance,\n      y2: Math.max(y1, y3, y2) + tolerance\n    };\n\n    // if outside the rough bounding box for the bezier, then it can't be a hit\n    if (x < bb.x1 || x > bb.x2 || y < bb.y1 || y > bb.y2) {\n      // console.log('bezier out of rough bb')\n      return false;\n    } else {\n      // console.log('do more expensive check');\n      return true;\n    }\n  };\n  var solveQuadratic = function solveQuadratic(a, b, c, val) {\n    c -= val;\n    var r = b * b - 4 * a * c;\n    if (r < 0) {\n      return [];\n    }\n    var sqrtR = Math.sqrt(r);\n    var denom = 2 * a;\n    var root1 = (-b + sqrtR) / denom;\n    var root2 = (-b - sqrtR) / denom;\n    return [root1, root2];\n  };\n  var solveCubic = function solveCubic(a, b, c, d, result) {\n    // Solves a cubic function, returns root in form [r1, i1, r2, i2, r3, i3], where\n    // r is the real component, i is the imaginary component\n\n    // An implementation of the Cardano method from the year 1545\n    // http://en.wikipedia.org/wiki/Cubic_function#The_nature_of_the_roots\n\n    var epsilon = 0.00001;\n\n    // avoid division by zero while keeping the overall expression close in value\n    if (a === 0) {\n      a = epsilon;\n    }\n    b /= a;\n    c /= a;\n    d /= a;\n    var discriminant, q, r, dum1, s, t, term1, r13;\n    q = (3.0 * c - b * b) / 9.0;\n    r = -(27.0 * d) + b * (9.0 * c - 2.0 * (b * b));\n    r /= 54.0;\n    discriminant = q * q * q + r * r;\n    result[1] = 0;\n    term1 = b / 3.0;\n    if (discriminant > 0) {\n      s = r + Math.sqrt(discriminant);\n      s = s < 0 ? -Math.pow(-s, 1.0 / 3.0) : Math.pow(s, 1.0 / 3.0);\n      t = r - Math.sqrt(discriminant);\n      t = t < 0 ? -Math.pow(-t, 1.0 / 3.0) : Math.pow(t, 1.0 / 3.0);\n      result[0] = -term1 + s + t;\n      term1 += (s + t) / 2.0;\n      result[4] = result[2] = -term1;\n      term1 = Math.sqrt(3.0) * (-t + s) / 2;\n      result[3] = term1;\n      result[5] = -term1;\n      return;\n    }\n    result[5] = result[3] = 0;\n    if (discriminant === 0) {\n      r13 = r < 0 ? -Math.pow(-r, 1.0 / 3.0) : Math.pow(r, 1.0 / 3.0);\n      result[0] = -term1 + 2.0 * r13;\n      result[4] = result[2] = -(r13 + term1);\n      return;\n    }\n    q = -q;\n    dum1 = q * q * q;\n    dum1 = Math.acos(r / Math.sqrt(dum1));\n    r13 = 2.0 * Math.sqrt(q);\n    result[0] = -term1 + r13 * Math.cos(dum1 / 3.0);\n    result[2] = -term1 + r13 * Math.cos((dum1 + 2.0 * Math.PI) / 3.0);\n    result[4] = -term1 + r13 * Math.cos((dum1 + 4.0 * Math.PI) / 3.0);\n    return;\n  };\n  var sqdistToQuadraticBezier = function sqdistToQuadraticBezier(x, y, x1, y1, x2, y2, x3, y3) {\n    // Find minimum distance by using the minimum of the distance\n    // function between the given point and the curve\n\n    // This gives the coefficients of the resulting cubic equation\n    // whose roots tell us where a possible minimum is\n    // (Coefficients are divided by 4)\n\n    var a = 1.0 * x1 * x1 - 4 * x1 * x2 + 2 * x1 * x3 + 4 * x2 * x2 - 4 * x2 * x3 + x3 * x3 + y1 * y1 - 4 * y1 * y2 + 2 * y1 * y3 + 4 * y2 * y2 - 4 * y2 * y3 + y3 * y3;\n    var b = 1.0 * 9 * x1 * x2 - 3 * x1 * x1 - 3 * x1 * x3 - 6 * x2 * x2 + 3 * x2 * x3 + 9 * y1 * y2 - 3 * y1 * y1 - 3 * y1 * y3 - 6 * y2 * y2 + 3 * y2 * y3;\n    var c = 1.0 * 3 * x1 * x1 - 6 * x1 * x2 + x1 * x3 - x1 * x + 2 * x2 * x2 + 2 * x2 * x - x3 * x + 3 * y1 * y1 - 6 * y1 * y2 + y1 * y3 - y1 * y + 2 * y2 * y2 + 2 * y2 * y - y3 * y;\n    var d = 1.0 * x1 * x2 - x1 * x1 + x1 * x - x2 * x + y1 * y2 - y1 * y1 + y1 * y - y2 * y;\n\n    // debug(\"coefficients: \" + a / a + \", \" + b / a + \", \" + c / a + \", \" + d / a);\n\n    var roots = [];\n\n    // Use the cubic solving algorithm\n    solveCubic(a, b, c, d, roots);\n    var zeroThreshold = 0.0000001;\n    var params = [];\n    for (var index = 0; index < 6; index += 2) {\n      if (Math.abs(roots[index + 1]) < zeroThreshold && roots[index] >= 0 && roots[index] <= 1.0) {\n        params.push(roots[index]);\n      }\n    }\n    params.push(1.0);\n    params.push(0.0);\n    var minDistanceSquared = -1;\n    var curX, curY, distSquared;\n    for (var i = 0; i < params.length; i++) {\n      curX = Math.pow(1.0 - params[i], 2.0) * x1 + 2.0 * (1 - params[i]) * params[i] * x2 + params[i] * params[i] * x3;\n      curY = Math.pow(1 - params[i], 2.0) * y1 + 2 * (1.0 - params[i]) * params[i] * y2 + params[i] * params[i] * y3;\n      distSquared = Math.pow(curX - x, 2) + Math.pow(curY - y, 2);\n      // debug('distance for param ' + params[i] + \": \" + Math.sqrt(distSquared));\n      if (minDistanceSquared >= 0) {\n        if (distSquared < minDistanceSquared) {\n          minDistanceSquared = distSquared;\n        }\n      } else {\n        minDistanceSquared = distSquared;\n      }\n    }\n    return minDistanceSquared;\n  };\n  var sqdistToFiniteLine = function sqdistToFiniteLine(x, y, x1, y1, x2, y2) {\n    var offset = [x - x1, y - y1];\n    var line = [x2 - x1, y2 - y1];\n    var lineSq = line[0] * line[0] + line[1] * line[1];\n    var hypSq = offset[0] * offset[0] + offset[1] * offset[1];\n    var dotProduct = offset[0] * line[0] + offset[1] * line[1];\n    var adjSq = dotProduct * dotProduct / lineSq;\n    if (dotProduct < 0) {\n      return hypSq;\n    }\n    if (adjSq > lineSq) {\n      return (x - x2) * (x - x2) + (y - y2) * (y - y2);\n    }\n    return hypSq - adjSq;\n  };\n  var pointInsidePolygonPoints = function pointInsidePolygonPoints(x, y, points) {\n    var x1, y1, x2, y2;\n    var y3;\n\n    // Intersect with vertical line through (x, y)\n    var up = 0;\n    // let down = 0;\n    for (var i = 0; i < points.length / 2; i++) {\n      x1 = points[i * 2];\n      y1 = points[i * 2 + 1];\n      if (i + 1 < points.length / 2) {\n        x2 = points[(i + 1) * 2];\n        y2 = points[(i + 1) * 2 + 1];\n      } else {\n        x2 = points[(i + 1 - points.length / 2) * 2];\n        y2 = points[(i + 1 - points.length / 2) * 2 + 1];\n      }\n      if (x1 == x && x2 == x) ; else if (x1 >= x && x >= x2 || x1 <= x && x <= x2) {\n        y3 = (x - x1) / (x2 - x1) * (y2 - y1) + y1;\n        if (y3 > y) {\n          up++;\n        }\n\n        // if( y3 < y ){\n        // down++;\n        // }\n      } else {\n        continue;\n      }\n    }\n    if (up % 2 === 0) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n  var pointInsidePolygon = function pointInsidePolygon(x, y, basePoints, centerX, centerY, width, height, direction, padding) {\n    var transformedPoints = new Array(basePoints.length);\n\n    // Gives negative angle\n    var angle;\n    if (direction[0] != null) {\n      angle = Math.atan(direction[1] / direction[0]);\n      if (direction[0] < 0) {\n        angle = angle + Math.PI / 2;\n      } else {\n        angle = -angle - Math.PI / 2;\n      }\n    } else {\n      angle = direction;\n    }\n    var cos = Math.cos(-angle);\n    var sin = Math.sin(-angle);\n\n    //    console.log(\"base: \" + basePoints);\n    for (var i = 0; i < transformedPoints.length / 2; i++) {\n      transformedPoints[i * 2] = width / 2 * (basePoints[i * 2] * cos - basePoints[i * 2 + 1] * sin);\n      transformedPoints[i * 2 + 1] = height / 2 * (basePoints[i * 2 + 1] * cos + basePoints[i * 2] * sin);\n      transformedPoints[i * 2] += centerX;\n      transformedPoints[i * 2 + 1] += centerY;\n    }\n    var points;\n    if (padding > 0) {\n      var expandedLineSet = expandPolygon(transformedPoints, -padding);\n      points = joinLines(expandedLineSet);\n    } else {\n      points = transformedPoints;\n    }\n    return pointInsidePolygonPoints(x, y, points);\n  };\n  var pointInsideRoundPolygon = function pointInsideRoundPolygon(x, y, basePoints, centerX, centerY, width, height) {\n    var cutPolygonPoints = new Array(basePoints.length);\n    var halfW = width / 2;\n    var halfH = height / 2;\n    var cornerRadius = getRoundPolygonRadius(width, height);\n    var squaredCornerRadius = cornerRadius * cornerRadius;\n    for (var i = 0; i < basePoints.length / 4; i++) {\n      var sourceUv = void 0,\n        destUv = void 0;\n      if (i === 0) {\n        sourceUv = basePoints.length - 2;\n      } else {\n        sourceUv = i * 4 - 2;\n      }\n      destUv = i * 4 + 2;\n      var px = centerX + halfW * basePoints[i * 4];\n      var py = centerY + halfH * basePoints[i * 4 + 1];\n      var cosTheta = -basePoints[sourceUv] * basePoints[destUv] - basePoints[sourceUv + 1] * basePoints[destUv + 1];\n      var offset = cornerRadius / Math.tan(Math.acos(cosTheta) / 2);\n      var cp0x = px - offset * basePoints[sourceUv];\n      var cp0y = py - offset * basePoints[sourceUv + 1];\n      var cp1x = px + offset * basePoints[destUv];\n      var cp1y = py + offset * basePoints[destUv + 1];\n      cutPolygonPoints[i * 4] = cp0x;\n      cutPolygonPoints[i * 4 + 1] = cp0y;\n      cutPolygonPoints[i * 4 + 2] = cp1x;\n      cutPolygonPoints[i * 4 + 3] = cp1y;\n      var orthx = basePoints[sourceUv + 1];\n      var orthy = -basePoints[sourceUv];\n      var cosAlpha = orthx * basePoints[destUv] + orthy * basePoints[destUv + 1];\n      if (cosAlpha < 0) {\n        orthx *= -1;\n        orthy *= -1;\n      }\n      var cx = cp0x + orthx * cornerRadius;\n      var cy = cp0y + orthy * cornerRadius;\n      var squaredDistance = Math.pow(cx - x, 2) + Math.pow(cy - y, 2);\n      if (squaredDistance <= squaredCornerRadius) {\n        return true;\n      }\n    }\n    return pointInsidePolygonPoints(x, y, cutPolygonPoints);\n  };\n  var joinLines = function joinLines(lineSet) {\n    var vertices = new Array(lineSet.length / 2);\n    var currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY;\n    var nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY;\n    for (var i = 0; i < lineSet.length / 4; i++) {\n      currentLineStartX = lineSet[i * 4];\n      currentLineStartY = lineSet[i * 4 + 1];\n      currentLineEndX = lineSet[i * 4 + 2];\n      currentLineEndY = lineSet[i * 4 + 3];\n      if (i < lineSet.length / 4 - 1) {\n        nextLineStartX = lineSet[(i + 1) * 4];\n        nextLineStartY = lineSet[(i + 1) * 4 + 1];\n        nextLineEndX = lineSet[(i + 1) * 4 + 2];\n        nextLineEndY = lineSet[(i + 1) * 4 + 3];\n      } else {\n        nextLineStartX = lineSet[0];\n        nextLineStartY = lineSet[1];\n        nextLineEndX = lineSet[2];\n        nextLineEndY = lineSet[3];\n      }\n      var intersection = finiteLinesIntersect(currentLineStartX, currentLineStartY, currentLineEndX, currentLineEndY, nextLineStartX, nextLineStartY, nextLineEndX, nextLineEndY, true);\n      vertices[i * 2] = intersection[0];\n      vertices[i * 2 + 1] = intersection[1];\n    }\n    return vertices;\n  };\n  var expandPolygon = function expandPolygon(points, pad) {\n    var expandedLineSet = new Array(points.length * 2);\n    var currentPointX, currentPointY, nextPointX, nextPointY;\n    for (var i = 0; i < points.length / 2; i++) {\n      currentPointX = points[i * 2];\n      currentPointY = points[i * 2 + 1];\n      if (i < points.length / 2 - 1) {\n        nextPointX = points[(i + 1) * 2];\n        nextPointY = points[(i + 1) * 2 + 1];\n      } else {\n        nextPointX = points[0];\n        nextPointY = points[1];\n      }\n\n      // Current line: [currentPointX, currentPointY] to [nextPointX, nextPointY]\n\n      // Assume CCW polygon winding\n\n      var offsetX = nextPointY - currentPointY;\n      var offsetY = -(nextPointX - currentPointX);\n\n      // Normalize\n      var offsetLength = Math.sqrt(offsetX * offsetX + offsetY * offsetY);\n      var normalizedOffsetX = offsetX / offsetLength;\n      var normalizedOffsetY = offsetY / offsetLength;\n      expandedLineSet[i * 4] = currentPointX + normalizedOffsetX * pad;\n      expandedLineSet[i * 4 + 1] = currentPointY + normalizedOffsetY * pad;\n      expandedLineSet[i * 4 + 2] = nextPointX + normalizedOffsetX * pad;\n      expandedLineSet[i * 4 + 3] = nextPointY + normalizedOffsetY * pad;\n    }\n    return expandedLineSet;\n  };\n  var intersectLineEllipse = function intersectLineEllipse(x, y, centerX, centerY, ellipseWradius, ellipseHradius) {\n    var dispX = centerX - x;\n    var dispY = centerY - y;\n    dispX /= ellipseWradius;\n    dispY /= ellipseHradius;\n    var len = Math.sqrt(dispX * dispX + dispY * dispY);\n    var newLength = len - 1;\n    if (newLength < 0) {\n      return [];\n    }\n    var lenProportion = newLength / len;\n    return [(centerX - x) * lenProportion + x, (centerY - y) * lenProportion + y];\n  };\n  var checkInEllipse = function checkInEllipse(x, y, width, height, centerX, centerY, padding) {\n    x -= centerX;\n    y -= centerY;\n    x /= width / 2 + padding;\n    y /= height / 2 + padding;\n    return x * x + y * y <= 1;\n  };\n\n  // Returns intersections of increasing distance from line's start point\n  var intersectLineCircle = function intersectLineCircle(x1, y1, x2, y2, centerX, centerY, radius) {\n    // Calculate d, direction vector of line\n    var d = [x2 - x1, y2 - y1]; // Direction vector of line\n    var f = [x1 - centerX, y1 - centerY];\n    var a = d[0] * d[0] + d[1] * d[1];\n    var b = 2 * (f[0] * d[0] + f[1] * d[1]);\n    var c = f[0] * f[0] + f[1] * f[1] - radius * radius;\n    var discriminant = b * b - 4 * a * c;\n    if (discriminant < 0) {\n      return [];\n    }\n    var t1 = (-b + Math.sqrt(discriminant)) / (2 * a);\n    var t2 = (-b - Math.sqrt(discriminant)) / (2 * a);\n    var tMin = Math.min(t1, t2);\n    var tMax = Math.max(t1, t2);\n    var inRangeParams = [];\n    if (tMin >= 0 && tMin <= 1) {\n      inRangeParams.push(tMin);\n    }\n    if (tMax >= 0 && tMax <= 1) {\n      inRangeParams.push(tMax);\n    }\n    if (inRangeParams.length === 0) {\n      return [];\n    }\n    var nearIntersectionX = inRangeParams[0] * d[0] + x1;\n    var nearIntersectionY = inRangeParams[0] * d[1] + y1;\n    if (inRangeParams.length > 1) {\n      if (inRangeParams[0] == inRangeParams[1]) {\n        return [nearIntersectionX, nearIntersectionY];\n      } else {\n        var farIntersectionX = inRangeParams[1] * d[0] + x1;\n        var farIntersectionY = inRangeParams[1] * d[1] + y1;\n        return [nearIntersectionX, nearIntersectionY, farIntersectionX, farIntersectionY];\n      }\n    } else {\n      return [nearIntersectionX, nearIntersectionY];\n    }\n  };\n  var midOfThree = function midOfThree(a, b, c) {\n    if (b <= a && a <= c || c <= a && a <= b) {\n      return a;\n    } else if (a <= b && b <= c || c <= b && b <= a) {\n      return b;\n    } else {\n      return c;\n    }\n  };\n\n  // (x1,y1)=>(x2,y2) intersect with (x3,y3)=>(x4,y4)\n  var finiteLinesIntersect = function finiteLinesIntersect(x1, y1, x2, y2, x3, y3, x4, y4, infiniteLines) {\n    var dx13 = x1 - x3;\n    var dx21 = x2 - x1;\n    var dx43 = x4 - x3;\n    var dy13 = y1 - y3;\n    var dy21 = y2 - y1;\n    var dy43 = y4 - y3;\n    var ua_t = dx43 * dy13 - dy43 * dx13;\n    var ub_t = dx21 * dy13 - dy21 * dx13;\n    var u_b = dy43 * dx21 - dx43 * dy21;\n    if (u_b !== 0) {\n      var ua = ua_t / u_b;\n      var ub = ub_t / u_b;\n      var flptThreshold = 0.001;\n      var _min = 0 - flptThreshold;\n      var _max = 1 + flptThreshold;\n      if (_min <= ua && ua <= _max && _min <= ub && ub <= _max) {\n        return [x1 + ua * dx21, y1 + ua * dy21];\n      } else {\n        if (!infiniteLines) {\n          return [];\n        } else {\n          return [x1 + ua * dx21, y1 + ua * dy21];\n        }\n      }\n    } else {\n      if (ua_t === 0 || ub_t === 0) {\n        // Parallel, coincident lines. Check if overlap\n\n        // Check endpoint of second line\n        if (midOfThree(x1, x2, x4) === x4) {\n          return [x4, y4];\n        }\n\n        // Check start point of second line\n        if (midOfThree(x1, x2, x3) === x3) {\n          return [x3, y3];\n        }\n\n        // Endpoint of first line\n        if (midOfThree(x3, x4, x2) === x2) {\n          return [x2, y2];\n        }\n        return [];\n      } else {\n        // Parallel, non-coincident\n        return [];\n      }\n    }\n  };\n\n  // math.polygonIntersectLine( x, y, basePoints, centerX, centerY, width, height, padding )\n  // intersect a node polygon (pts transformed)\n  //\n  // math.polygonIntersectLine( x, y, basePoints, centerX, centerY )\n  // intersect the points (no transform)\n  var polygonIntersectLine = function polygonIntersectLine(x, y, basePoints, centerX, centerY, width, height, padding) {\n    var intersections = [];\n    var intersection;\n    var transformedPoints = new Array(basePoints.length);\n    var doTransform = true;\n    if (width == null) {\n      doTransform = false;\n    }\n    var points;\n    if (doTransform) {\n      for (var i = 0; i < transformedPoints.length / 2; i++) {\n        transformedPoints[i * 2] = basePoints[i * 2] * width + centerX;\n        transformedPoints[i * 2 + 1] = basePoints[i * 2 + 1] * height + centerY;\n      }\n      if (padding > 0) {\n        var expandedLineSet = expandPolygon(transformedPoints, -padding);\n        points = joinLines(expandedLineSet);\n      } else {\n        points = transformedPoints;\n      }\n    } else {\n      points = basePoints;\n    }\n    var currentX, currentY, nextX, nextY;\n    for (var _i2 = 0; _i2 < points.length / 2; _i2++) {\n      currentX = points[_i2 * 2];\n      currentY = points[_i2 * 2 + 1];\n      if (_i2 < points.length / 2 - 1) {\n        nextX = points[(_i2 + 1) * 2];\n        nextY = points[(_i2 + 1) * 2 + 1];\n      } else {\n        nextX = points[0];\n        nextY = points[1];\n      }\n      intersection = finiteLinesIntersect(x, y, centerX, centerY, currentX, currentY, nextX, nextY);\n      if (intersection.length !== 0) {\n        intersections.push(intersection[0], intersection[1]);\n      }\n    }\n    return intersections;\n  };\n  var roundPolygonIntersectLine = function roundPolygonIntersectLine(x, y, basePoints, centerX, centerY, width, height, padding) {\n    var intersections = [];\n    var intersection;\n    var lines = new Array(basePoints.length);\n    var halfW = width / 2;\n    var halfH = height / 2;\n    var cornerRadius = getRoundPolygonRadius(width, height);\n    for (var i = 0; i < basePoints.length / 4; i++) {\n      var sourceUv = void 0,\n        destUv = void 0;\n      if (i === 0) {\n        sourceUv = basePoints.length - 2;\n      } else {\n        sourceUv = i * 4 - 2;\n      }\n      destUv = i * 4 + 2;\n      var px = centerX + halfW * basePoints[i * 4];\n      var py = centerY + halfH * basePoints[i * 4 + 1];\n      var cosTheta = -basePoints[sourceUv] * basePoints[destUv] - basePoints[sourceUv + 1] * basePoints[destUv + 1];\n      var offset = cornerRadius / Math.tan(Math.acos(cosTheta) / 2);\n      var cp0x = px - offset * basePoints[sourceUv];\n      var cp0y = py - offset * basePoints[sourceUv + 1];\n      var cp1x = px + offset * basePoints[destUv];\n      var cp1y = py + offset * basePoints[destUv + 1];\n      if (i === 0) {\n        lines[basePoints.length - 2] = cp0x;\n        lines[basePoints.length - 1] = cp0y;\n      } else {\n        lines[i * 4 - 2] = cp0x;\n        lines[i * 4 - 1] = cp0y;\n      }\n      lines[i * 4] = cp1x;\n      lines[i * 4 + 1] = cp1y;\n      var orthx = basePoints[sourceUv + 1];\n      var orthy = -basePoints[sourceUv];\n      var cosAlpha = orthx * basePoints[destUv] + orthy * basePoints[destUv + 1];\n      if (cosAlpha < 0) {\n        orthx *= -1;\n        orthy *= -1;\n      }\n      var cx = cp0x + orthx * cornerRadius;\n      var cy = cp0y + orthy * cornerRadius;\n      intersection = intersectLineCircle(x, y, centerX, centerY, cx, cy, cornerRadius);\n      if (intersection.length !== 0) {\n        intersections.push(intersection[0], intersection[1]);\n      }\n    }\n    for (var _i3 = 0; _i3 < lines.length / 4; _i3++) {\n      intersection = finiteLinesIntersect(x, y, centerX, centerY, lines[_i3 * 4], lines[_i3 * 4 + 1], lines[_i3 * 4 + 2], lines[_i3 * 4 + 3], false);\n      if (intersection.length !== 0) {\n        intersections.push(intersection[0], intersection[1]);\n      }\n    }\n    if (intersections.length > 2) {\n      var lowestIntersection = [intersections[0], intersections[1]];\n      var lowestSquaredDistance = Math.pow(lowestIntersection[0] - x, 2) + Math.pow(lowestIntersection[1] - y, 2);\n      for (var _i4 = 1; _i4 < intersections.length / 2; _i4++) {\n        var squaredDistance = Math.pow(intersections[_i4 * 2] - x, 2) + Math.pow(intersections[_i4 * 2 + 1] - y, 2);\n        if (squaredDistance <= lowestSquaredDistance) {\n          lowestIntersection[0] = intersections[_i4 * 2];\n          lowestIntersection[1] = intersections[_i4 * 2 + 1];\n          lowestSquaredDistance = squaredDistance;\n        }\n      }\n      return lowestIntersection;\n    }\n    return intersections;\n  };\n  var shortenIntersection = function shortenIntersection(intersection, offset, amount) {\n    var disp = [intersection[0] - offset[0], intersection[1] - offset[1]];\n    var length = Math.sqrt(disp[0] * disp[0] + disp[1] * disp[1]);\n    var lenRatio = (length - amount) / length;\n    if (lenRatio < 0) {\n      lenRatio = 0.00001;\n    }\n    return [offset[0] + lenRatio * disp[0], offset[1] + lenRatio * disp[1]];\n  };\n  var generateUnitNgonPointsFitToSquare = function generateUnitNgonPointsFitToSquare(sides, rotationRadians) {\n    var points = generateUnitNgonPoints(sides, rotationRadians);\n    points = fitPolygonToSquare(points);\n    return points;\n  };\n  var fitPolygonToSquare = function fitPolygonToSquare(points) {\n    var x, y;\n    var sides = points.length / 2;\n    var minX = Infinity,\n      minY = Infinity,\n      maxX = -Infinity,\n      maxY = -Infinity;\n    for (var i = 0; i < sides; i++) {\n      x = points[2 * i];\n      y = points[2 * i + 1];\n      minX = Math.min(minX, x);\n      maxX = Math.max(maxX, x);\n      minY = Math.min(minY, y);\n      maxY = Math.max(maxY, y);\n    }\n\n    // stretch factors\n    var sx = 2 / (maxX - minX);\n    var sy = 2 / (maxY - minY);\n    for (var _i5 = 0; _i5 < sides; _i5++) {\n      x = points[2 * _i5] = points[2 * _i5] * sx;\n      y = points[2 * _i5 + 1] = points[2 * _i5 + 1] * sy;\n      minX = Math.min(minX, x);\n      maxX = Math.max(maxX, x);\n      minY = Math.min(minY, y);\n      maxY = Math.max(maxY, y);\n    }\n    if (minY < -1) {\n      for (var _i6 = 0; _i6 < sides; _i6++) {\n        y = points[2 * _i6 + 1] = points[2 * _i6 + 1] + (-1 - minY);\n      }\n    }\n    return points;\n  };\n  var generateUnitNgonPoints = function generateUnitNgonPoints(sides, rotationRadians) {\n    var increment = 1.0 / sides * 2 * Math.PI;\n    var startAngle = sides % 2 === 0 ? Math.PI / 2.0 + increment / 2.0 : Math.PI / 2.0;\n    startAngle += rotationRadians;\n    var points = new Array(sides * 2);\n    var currentAngle;\n    for (var i = 0; i < sides; i++) {\n      currentAngle = i * increment + startAngle;\n      points[2 * i] = Math.cos(currentAngle); // x\n      points[2 * i + 1] = Math.sin(-currentAngle); // y\n    }\n\n    return points;\n  };\n\n  // Set the default radius, unless half of width or height is smaller than default\n  var getRoundRectangleRadius = function getRoundRectangleRadius(width, height) {\n    return Math.min(width / 4, height / 4, 8);\n  };\n\n  // Set the default radius\n  var getRoundPolygonRadius = function getRoundPolygonRadius(width, height) {\n    return Math.min(width / 10, height / 10, 8);\n  };\n  var getCutRectangleCornerLength = function getCutRectangleCornerLength() {\n    return 8;\n  };\n  var bezierPtsToQuadCoeff = function bezierPtsToQuadCoeff(p0, p1, p2) {\n    return [p0 - 2 * p1 + p2, 2 * (p1 - p0), p0];\n  };\n\n  // get curve width, height, and control point position offsets as a percentage of node height / width\n  var getBarrelCurveConstants = function getBarrelCurveConstants(width, height) {\n    return {\n      heightOffset: Math.min(15, 0.05 * height),\n      widthOffset: Math.min(100, 0.25 * width),\n      ctrlPtOffsetPct: 0.05\n    };\n  };\n\n  var pageRankDefaults = defaults$g({\n    dampingFactor: 0.8,\n    precision: 0.000001,\n    iterations: 200,\n    weight: function weight(edge) {\n      return 1;\n    }\n  });\n  var elesfn$o = {\n    pageRank: function pageRank(options) {\n      var _pageRankDefaults = pageRankDefaults(options),\n        dampingFactor = _pageRankDefaults.dampingFactor,\n        precision = _pageRankDefaults.precision,\n        iterations = _pageRankDefaults.iterations,\n        weight = _pageRankDefaults.weight;\n      var cy = this._private.cy;\n      var _this$byGroup = this.byGroup(),\n        nodes = _this$byGroup.nodes,\n        edges = _this$byGroup.edges;\n      var numNodes = nodes.length;\n      var numNodesSqd = numNodes * numNodes;\n      var numEdges = edges.length;\n\n      // Construct transposed adjacency matrix\n      // First lets have a zeroed matrix of the right size\n      // We'll also keep track of the sum of each column\n      var matrix = new Array(numNodesSqd);\n      var columnSum = new Array(numNodes);\n      var additionalProb = (1 - dampingFactor) / numNodes;\n\n      // Create null matrix\n      for (var i = 0; i < numNodes; i++) {\n        for (var j = 0; j < numNodes; j++) {\n          var n = i * numNodes + j;\n          matrix[n] = 0;\n        }\n        columnSum[i] = 0;\n      }\n\n      // Now, process edges\n      for (var _i = 0; _i < numEdges; _i++) {\n        var edge = edges[_i];\n        var srcId = edge.data('source');\n        var tgtId = edge.data('target');\n\n        // Don't include loops in the matrix\n        if (srcId === tgtId) {\n          continue;\n        }\n        var s = nodes.indexOfId(srcId);\n        var t = nodes.indexOfId(tgtId);\n        var w = weight(edge);\n        var _n = t * numNodes + s;\n\n        // Update matrix\n        matrix[_n] += w;\n\n        // Update column sum\n        columnSum[s] += w;\n      }\n\n      // Add additional probability based on damping factor\n      // Also, take into account columns that have sum = 0\n      var p = 1.0 / numNodes + additionalProb; // Shorthand\n\n      // Traverse matrix, column by column\n      for (var _j = 0; _j < numNodes; _j++) {\n        if (columnSum[_j] === 0) {\n          // No 'links' out from node jth, assume equal probability for each possible node\n          for (var _i2 = 0; _i2 < numNodes; _i2++) {\n            var _n2 = _i2 * numNodes + _j;\n            matrix[_n2] = p;\n          }\n        } else {\n          // Node jth has outgoing link, compute normalized probabilities\n          for (var _i3 = 0; _i3 < numNodes; _i3++) {\n            var _n3 = _i3 * numNodes + _j;\n            matrix[_n3] = matrix[_n3] / columnSum[_j] + additionalProb;\n          }\n        }\n      }\n\n      // Compute dominant eigenvector using power method\n      var eigenvector = new Array(numNodes);\n      var temp = new Array(numNodes);\n      var previous;\n\n      // Start with a vector of all 1's\n      // Also, initialize a null vector which will be used as shorthand\n      for (var _i4 = 0; _i4 < numNodes; _i4++) {\n        eigenvector[_i4] = 1;\n      }\n      for (var iter = 0; iter < iterations; iter++) {\n        // Temp array with all 0's\n        for (var _i5 = 0; _i5 < numNodes; _i5++) {\n          temp[_i5] = 0;\n        }\n\n        // Multiply matrix with previous result\n        for (var _i6 = 0; _i6 < numNodes; _i6++) {\n          for (var _j2 = 0; _j2 < numNodes; _j2++) {\n            var _n4 = _i6 * numNodes + _j2;\n            temp[_i6] += matrix[_n4] * eigenvector[_j2];\n          }\n        }\n        inPlaceSumNormalize(temp);\n        previous = eigenvector;\n        eigenvector = temp;\n        temp = previous;\n        var diff = 0;\n        // Compute difference (squared module) of both vectors\n        for (var _i7 = 0; _i7 < numNodes; _i7++) {\n          var delta = previous[_i7] - eigenvector[_i7];\n          diff += delta * delta;\n        }\n\n        // If difference is less than the desired threshold, stop iterating\n        if (diff < precision) {\n          break;\n        }\n      }\n\n      // Construct result\n      var res = {\n        rank: function rank(node) {\n          node = cy.collection(node)[0];\n          return eigenvector[nodes.indexOf(node)];\n        }\n      };\n      return res;\n    } // pageRank\n  }; // elesfn\n\n  var defaults$f = defaults$g({\n    root: null,\n    weight: function weight(edge) {\n      return 1;\n    },\n    directed: false,\n    alpha: 0\n  });\n  var elesfn$n = {\n    degreeCentralityNormalized: function degreeCentralityNormalized(options) {\n      options = defaults$f(options);\n      var cy = this.cy();\n      var nodes = this.nodes();\n      var numNodes = nodes.length;\n      if (!options.directed) {\n        var degrees = {};\n        var maxDegree = 0;\n        for (var i = 0; i < numNodes; i++) {\n          var node = nodes[i];\n\n          // add current node to the current options object and call degreeCentrality\n          options.root = node;\n          var currDegree = this.degreeCentrality(options);\n          if (maxDegree < currDegree.degree) {\n            maxDegree = currDegree.degree;\n          }\n          degrees[node.id()] = currDegree.degree;\n        }\n        return {\n          degree: function degree(node) {\n            if (maxDegree === 0) {\n              return 0;\n            }\n            if (string(node)) {\n              // from is a selector string\n              node = cy.filter(node);\n            }\n            return degrees[node.id()] / maxDegree;\n          }\n        };\n      } else {\n        var indegrees = {};\n        var outdegrees = {};\n        var maxIndegree = 0;\n        var maxOutdegree = 0;\n        for (var _i = 0; _i < numNodes; _i++) {\n          var _node = nodes[_i];\n          var id = _node.id();\n\n          // add current node to the current options object and call degreeCentrality\n          options.root = _node;\n          var _currDegree = this.degreeCentrality(options);\n          if (maxIndegree < _currDegree.indegree) maxIndegree = _currDegree.indegree;\n          if (maxOutdegree < _currDegree.outdegree) maxOutdegree = _currDegree.outdegree;\n          indegrees[id] = _currDegree.indegree;\n          outdegrees[id] = _currDegree.outdegree;\n        }\n        return {\n          indegree: function indegree(node) {\n            if (maxIndegree == 0) {\n              return 0;\n            }\n            if (string(node)) {\n              // from is a selector string\n              node = cy.filter(node);\n            }\n            return indegrees[node.id()] / maxIndegree;\n          },\n          outdegree: function outdegree(node) {\n            if (maxOutdegree === 0) {\n              return 0;\n            }\n            if (string(node)) {\n              // from is a selector string\n              node = cy.filter(node);\n            }\n            return outdegrees[node.id()] / maxOutdegree;\n          }\n        };\n      }\n    },\n    // degreeCentralityNormalized\n\n    // Implemented from the algorithm in Opsahl's paper\n    // \"Node centrality in weighted networks: Generalizing degree and shortest paths\"\n    // check the heading 2 \"Degree\"\n    degreeCentrality: function degreeCentrality(options) {\n      options = defaults$f(options);\n      var cy = this.cy();\n      var callingEles = this;\n      var _options = options,\n        root = _options.root,\n        weight = _options.weight,\n        directed = _options.directed,\n        alpha = _options.alpha;\n      root = cy.collection(root)[0];\n      if (!directed) {\n        var connEdges = root.connectedEdges().intersection(callingEles);\n        var k = connEdges.length;\n        var s = 0;\n\n        // Now, sum edge weights\n        for (var i = 0; i < connEdges.length; i++) {\n          s += weight(connEdges[i]);\n        }\n        return {\n          degree: Math.pow(k, 1 - alpha) * Math.pow(s, alpha)\n        };\n      } else {\n        var edges = root.connectedEdges();\n        var incoming = edges.filter(function (edge) {\n          return edge.target().same(root) && callingEles.has(edge);\n        });\n        var outgoing = edges.filter(function (edge) {\n          return edge.source().same(root) && callingEles.has(edge);\n        });\n        var k_in = incoming.length;\n        var k_out = outgoing.length;\n        var s_in = 0;\n        var s_out = 0;\n\n        // Now, sum incoming edge weights\n        for (var _i2 = 0; _i2 < incoming.length; _i2++) {\n          s_in += weight(incoming[_i2]);\n        }\n\n        // Now, sum outgoing edge weights\n        for (var _i3 = 0; _i3 < outgoing.length; _i3++) {\n          s_out += weight(outgoing[_i3]);\n        }\n        return {\n          indegree: Math.pow(k_in, 1 - alpha) * Math.pow(s_in, alpha),\n          outdegree: Math.pow(k_out, 1 - alpha) * Math.pow(s_out, alpha)\n        };\n      }\n    } // degreeCentrality\n  }; // elesfn\n\n  // nice, short mathematical alias\n  elesfn$n.dc = elesfn$n.degreeCentrality;\n  elesfn$n.dcn = elesfn$n.degreeCentralityNormalised = elesfn$n.degreeCentralityNormalized;\n\n  var defaults$e = defaults$g({\n    harmonic: true,\n    weight: function weight() {\n      return 1;\n    },\n    directed: false,\n    root: null\n  });\n  var elesfn$m = {\n    closenessCentralityNormalized: function closenessCentralityNormalized(options) {\n      var _defaults = defaults$e(options),\n        harmonic = _defaults.harmonic,\n        weight = _defaults.weight,\n        directed = _defaults.directed;\n      var cy = this.cy();\n      var closenesses = {};\n      var maxCloseness = 0;\n      var nodes = this.nodes();\n      var fw = this.floydWarshall({\n        weight: weight,\n        directed: directed\n      });\n\n      // Compute closeness for every node and find the maximum closeness\n      for (var i = 0; i < nodes.length; i++) {\n        var currCloseness = 0;\n        var node_i = nodes[i];\n        for (var j = 0; j < nodes.length; j++) {\n          if (i !== j) {\n            var d = fw.distance(node_i, nodes[j]);\n            if (harmonic) {\n              currCloseness += 1 / d;\n            } else {\n              currCloseness += d;\n            }\n          }\n        }\n        if (!harmonic) {\n          currCloseness = 1 / currCloseness;\n        }\n        if (maxCloseness < currCloseness) {\n          maxCloseness = currCloseness;\n        }\n        closenesses[node_i.id()] = currCloseness;\n      }\n      return {\n        closeness: function closeness(node) {\n          if (maxCloseness == 0) {\n            return 0;\n          }\n          if (string(node)) {\n            // from is a selector string\n            node = cy.filter(node)[0].id();\n          } else {\n            // from is a node\n            node = node.id();\n          }\n          return closenesses[node] / maxCloseness;\n        }\n      };\n    },\n    // Implemented from pseudocode from wikipedia\n    closenessCentrality: function closenessCentrality(options) {\n      var _defaults2 = defaults$e(options),\n        root = _defaults2.root,\n        weight = _defaults2.weight,\n        directed = _defaults2.directed,\n        harmonic = _defaults2.harmonic;\n      root = this.filter(root)[0];\n\n      // we need distance from this node to every other node\n      var dijkstra = this.dijkstra({\n        root: root,\n        weight: weight,\n        directed: directed\n      });\n      var totalDistance = 0;\n      var nodes = this.nodes();\n      for (var i = 0; i < nodes.length; i++) {\n        var n = nodes[i];\n        if (!n.same(root)) {\n          var d = dijkstra.distanceTo(n);\n          if (harmonic) {\n            totalDistance += 1 / d;\n          } else {\n            totalDistance += d;\n          }\n        }\n      }\n      return harmonic ? totalDistance : 1 / totalDistance;\n    } // closenessCentrality\n  }; // elesfn\n\n  // nice, short mathematical alias\n  elesfn$m.cc = elesfn$m.closenessCentrality;\n  elesfn$m.ccn = elesfn$m.closenessCentralityNormalised = elesfn$m.closenessCentralityNormalized;\n\n  var defaults$d = defaults$g({\n    weight: null,\n    directed: false\n  });\n  var elesfn$l = {\n    // Implemented from the algorithm in the paper \"On Variants of Shortest-Path Betweenness Centrality and their Generic Computation\" by Ulrik Brandes\n    betweennessCentrality: function betweennessCentrality(options) {\n      var _defaults = defaults$d(options),\n        directed = _defaults.directed,\n        weight = _defaults.weight;\n      var weighted = weight != null;\n      var cy = this.cy();\n\n      // starting\n      var V = this.nodes();\n      var A = {};\n      var _C = {};\n      var max = 0;\n      var C = {\n        set: function set(key, val) {\n          _C[key] = val;\n          if (val > max) {\n            max = val;\n          }\n        },\n        get: function get(key) {\n          return _C[key];\n        }\n      };\n\n      // A contains the neighborhoods of every node\n      for (var i = 0; i < V.length; i++) {\n        var v = V[i];\n        var vid = v.id();\n        if (directed) {\n          A[vid] = v.outgoers().nodes(); // get outgoers of every node\n        } else {\n          A[vid] = v.openNeighborhood().nodes(); // get neighbors of every node\n        }\n\n        C.set(vid, 0);\n      }\n      var _loop = function _loop(s) {\n        var sid = V[s].id();\n        var S = []; // stack\n        var P = {};\n        var g = {};\n        var d = {};\n        var Q = new heap(function (a, b) {\n          return d[a] - d[b];\n        }); // queue\n\n        // init dictionaries\n        for (var _i = 0; _i < V.length; _i++) {\n          var _vid = V[_i].id();\n          P[_vid] = [];\n          g[_vid] = 0;\n          d[_vid] = Infinity;\n        }\n        g[sid] = 1; // sigma\n        d[sid] = 0; // distance to s\n\n        Q.push(sid);\n        while (!Q.empty()) {\n          var _v = Q.pop();\n          S.push(_v);\n          if (weighted) {\n            for (var j = 0; j < A[_v].length; j++) {\n              var w = A[_v][j];\n              var vEle = cy.getElementById(_v);\n              var edge = void 0;\n              if (vEle.edgesTo(w).length > 0) {\n                edge = vEle.edgesTo(w)[0];\n              } else {\n                edge = w.edgesTo(vEle)[0];\n              }\n              var edgeWeight = weight(edge);\n              w = w.id();\n              if (d[w] > d[_v] + edgeWeight) {\n                d[w] = d[_v] + edgeWeight;\n                if (Q.nodes.indexOf(w) < 0) {\n                  //if w is not in Q\n                  Q.push(w);\n                } else {\n                  // update position if w is in Q\n                  Q.updateItem(w);\n                }\n                g[w] = 0;\n                P[w] = [];\n              }\n              if (d[w] == d[_v] + edgeWeight) {\n                g[w] = g[w] + g[_v];\n                P[w].push(_v);\n              }\n            }\n          } else {\n            for (var _j = 0; _j < A[_v].length; _j++) {\n              var _w = A[_v][_j].id();\n              if (d[_w] == Infinity) {\n                Q.push(_w);\n                d[_w] = d[_v] + 1;\n              }\n              if (d[_w] == d[_v] + 1) {\n                g[_w] = g[_w] + g[_v];\n                P[_w].push(_v);\n              }\n            }\n          }\n        }\n        var e = {};\n        for (var _i2 = 0; _i2 < V.length; _i2++) {\n          e[V[_i2].id()] = 0;\n        }\n        while (S.length > 0) {\n          var _w2 = S.pop();\n          for (var _j2 = 0; _j2 < P[_w2].length; _j2++) {\n            var _v2 = P[_w2][_j2];\n            e[_v2] = e[_v2] + g[_v2] / g[_w2] * (1 + e[_w2]);\n          }\n          if (_w2 != V[s].id()) {\n            C.set(_w2, C.get(_w2) + e[_w2]);\n          }\n        }\n      };\n      for (var s = 0; s < V.length; s++) {\n        _loop(s);\n      }\n      var ret = {\n        betweenness: function betweenness(node) {\n          var id = cy.collection(node).id();\n          return C.get(id);\n        },\n        betweennessNormalized: function betweennessNormalized(node) {\n          if (max == 0) {\n            return 0;\n          }\n          var id = cy.collection(node).id();\n          return C.get(id) / max;\n        }\n      };\n\n      // alias\n      ret.betweennessNormalised = ret.betweennessNormalized;\n      return ret;\n    } // betweennessCentrality\n  }; // elesfn\n\n  // nice, short mathematical alias\n  elesfn$l.bc = elesfn$l.betweennessCentrality;\n\n  // Implemented by Zoe Xi @zoexi for GSOC 2016\n\n  /* eslint-disable no-unused-vars */\n  var defaults$c = defaults$g({\n    expandFactor: 2,\n    // affects time of computation and cluster granularity to some extent: M * M\n    inflateFactor: 2,\n    // affects cluster granularity (the greater the value, the more clusters): M(i,j) / E(j)\n    multFactor: 1,\n    // optional self loops for each node. Use a neutral value to improve cluster computations.\n    maxIterations: 20,\n    // maximum number of iterations of the MCL algorithm in a single run\n    attributes: [\n    // attributes/features used to group nodes, ie. similarity values between nodes\n    function (edge) {\n      return 1;\n    }]\n  });\n  /* eslint-enable */\n\n  var setOptions$3 = function setOptions(options) {\n    return defaults$c(options);\n  };\n  /* eslint-enable */\n\n  var getSimilarity$1 = function getSimilarity(edge, attributes) {\n    var total = 0;\n    for (var i = 0; i < attributes.length; i++) {\n      total += attributes[i](edge);\n    }\n    return total;\n  };\n  var addLoops = function addLoops(M, n, val) {\n    for (var i = 0; i < n; i++) {\n      M[i * n + i] = val;\n    }\n  };\n  var normalize = function normalize(M, n) {\n    var sum;\n    for (var col = 0; col < n; col++) {\n      sum = 0;\n      for (var row = 0; row < n; row++) {\n        sum += M[row * n + col];\n      }\n      for (var _row = 0; _row < n; _row++) {\n        M[_row * n + col] = M[_row * n + col] / sum;\n      }\n    }\n  };\n\n  // TODO: blocked matrix multiplication?\n  var mmult = function mmult(A, B, n) {\n    var C = new Array(n * n);\n    for (var i = 0; i < n; i++) {\n      for (var j = 0; j < n; j++) {\n        C[i * n + j] = 0;\n      }\n      for (var k = 0; k < n; k++) {\n        for (var _j = 0; _j < n; _j++) {\n          C[i * n + _j] += A[i * n + k] * B[k * n + _j];\n        }\n      }\n    }\n    return C;\n  };\n  var expand = function expand(M, n, expandFactor /** power **/) {\n    var _M = M.slice(0);\n    for (var p = 1; p < expandFactor; p++) {\n      M = mmult(M, _M, n);\n    }\n    return M;\n  };\n  var inflate = function inflate(M, n, inflateFactor /** r **/) {\n    var _M = new Array(n * n);\n\n    // M(i,j) ^ inflatePower\n    for (var i = 0; i < n * n; i++) {\n      _M[i] = Math.pow(M[i], inflateFactor);\n    }\n    normalize(_M, n);\n    return _M;\n  };\n  var hasConverged = function hasConverged(M, _M, n2, roundFactor) {\n    // Check that both matrices have the same elements (i,j)\n    for (var i = 0; i < n2; i++) {\n      var v1 = Math.round(M[i] * Math.pow(10, roundFactor)) / Math.pow(10, roundFactor); // truncate to 'roundFactor' decimal places\n      var v2 = Math.round(_M[i] * Math.pow(10, roundFactor)) / Math.pow(10, roundFactor);\n      if (v1 !== v2) {\n        return false;\n      }\n    }\n    return true;\n  };\n  var assign$2 = function assign(M, n, nodes, cy) {\n    var clusters = [];\n    for (var i = 0; i < n; i++) {\n      var cluster = [];\n      for (var j = 0; j < n; j++) {\n        // Row-wise attractors and elements that they attract belong in same cluster\n        if (Math.round(M[i * n + j] * 1000) / 1000 > 0) {\n          cluster.push(nodes[j]);\n        }\n      }\n      if (cluster.length !== 0) {\n        clusters.push(cy.collection(cluster));\n      }\n    }\n    return clusters;\n  };\n  var isDuplicate = function isDuplicate(c1, c2) {\n    for (var i = 0; i < c1.length; i++) {\n      if (!c2[i] || c1[i].id() !== c2[i].id()) {\n        return false;\n      }\n    }\n    return true;\n  };\n  var removeDuplicates = function removeDuplicates(clusters) {\n    for (var i = 0; i < clusters.length; i++) {\n      for (var j = 0; j < clusters.length; j++) {\n        if (i != j && isDuplicate(clusters[i], clusters[j])) {\n          clusters.splice(j, 1);\n        }\n      }\n    }\n    return clusters;\n  };\n  var markovClustering = function markovClustering(options) {\n    var nodes = this.nodes();\n    var edges = this.edges();\n    var cy = this.cy();\n\n    // Set parameters of algorithm:\n    var opts = setOptions$3(options);\n\n    // Map each node to its position in node array\n    var id2position = {};\n    for (var i = 0; i < nodes.length; i++) {\n      id2position[nodes[i].id()] = i;\n    }\n\n    // Generate stochastic matrix M from input graph G (should be symmetric/undirected)\n    var n = nodes.length,\n      n2 = n * n;\n    var M = new Array(n2),\n      _M;\n    for (var _i = 0; _i < n2; _i++) {\n      M[_i] = 0;\n    }\n    for (var e = 0; e < edges.length; e++) {\n      var edge = edges[e];\n      var _i2 = id2position[edge.source().id()];\n      var j = id2position[edge.target().id()];\n      var sim = getSimilarity$1(edge, opts.attributes);\n      M[_i2 * n + j] += sim; // G should be symmetric and undirected\n      M[j * n + _i2] += sim;\n    }\n\n    // Begin Markov cluster algorithm\n\n    // Step 1: Add self loops to each node, ie. add multFactor to matrix diagonal\n    addLoops(M, n, opts.multFactor);\n\n    // Step 2: M = normalize( M );\n    normalize(M, n);\n    var isStillMoving = true;\n    var iterations = 0;\n    while (isStillMoving && iterations < opts.maxIterations) {\n      isStillMoving = false;\n\n      // Step 3:\n      _M = expand(M, n, opts.expandFactor);\n\n      // Step 4:\n      M = inflate(_M, n, opts.inflateFactor);\n\n      // Step 5: check to see if ~steady state has been reached\n      if (!hasConverged(M, _M, n2, 4)) {\n        isStillMoving = true;\n      }\n      iterations++;\n    }\n\n    // Build clusters from matrix\n    var clusters = assign$2(M, n, nodes, cy);\n\n    // Remove duplicate clusters due to symmetry of graph and M matrix\n    clusters = removeDuplicates(clusters);\n    return clusters;\n  };\n  var markovClustering$1 = {\n    markovClustering: markovClustering,\n    mcl: markovClustering\n  };\n\n  // Common distance metrics for clustering algorithms\n  var identity = function identity(x) {\n    return x;\n  };\n  var absDiff = function absDiff(p, q) {\n    return Math.abs(q - p);\n  };\n  var addAbsDiff = function addAbsDiff(total, p, q) {\n    return total + absDiff(p, q);\n  };\n  var addSquaredDiff = function addSquaredDiff(total, p, q) {\n    return total + Math.pow(q - p, 2);\n  };\n  var sqrt = function sqrt(x) {\n    return Math.sqrt(x);\n  };\n  var maxAbsDiff = function maxAbsDiff(currentMax, p, q) {\n    return Math.max(currentMax, absDiff(p, q));\n  };\n  var getDistance = function getDistance(length, getP, getQ, init, visit) {\n    var post = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : identity;\n    var ret = init;\n    var p, q;\n    for (var dim = 0; dim < length; dim++) {\n      p = getP(dim);\n      q = getQ(dim);\n      ret = visit(ret, p, q);\n    }\n    return post(ret);\n  };\n  var distances = {\n    euclidean: function euclidean(length, getP, getQ) {\n      if (length >= 2) {\n        return getDistance(length, getP, getQ, 0, addSquaredDiff, sqrt);\n      } else {\n        // for single attr case, more efficient to avoid sqrt\n        return getDistance(length, getP, getQ, 0, addAbsDiff);\n      }\n    },\n    squaredEuclidean: function squaredEuclidean(length, getP, getQ) {\n      return getDistance(length, getP, getQ, 0, addSquaredDiff);\n    },\n    manhattan: function manhattan(length, getP, getQ) {\n      return getDistance(length, getP, getQ, 0, addAbsDiff);\n    },\n    max: function max(length, getP, getQ) {\n      return getDistance(length, getP, getQ, -Infinity, maxAbsDiff);\n    }\n  };\n\n  // in case the user accidentally doesn't use camel case\n  distances['squared-euclidean'] = distances['squaredEuclidean'];\n  distances['squaredeuclidean'] = distances['squaredEuclidean'];\n  function clusteringDistance (method, length, getP, getQ, nodeP, nodeQ) {\n    var impl;\n    if (fn$6(method)) {\n      impl = method;\n    } else {\n      impl = distances[method] || distances.euclidean;\n    }\n    if (length === 0 && fn$6(method)) {\n      return impl(nodeP, nodeQ);\n    } else {\n      return impl(length, getP, getQ, nodeP, nodeQ);\n    }\n  }\n\n  var defaults$b = defaults$g({\n    k: 2,\n    m: 2,\n    sensitivityThreshold: 0.0001,\n    distance: 'euclidean',\n    maxIterations: 10,\n    attributes: [],\n    testMode: false,\n    testCentroids: null\n  });\n  var setOptions$2 = function setOptions(options) {\n    return defaults$b(options);\n  };\n\n  var getDist = function getDist(type, node, centroid, attributes, mode) {\n    var noNodeP = mode !== 'kMedoids';\n    var getP = noNodeP ? function (i) {\n      return centroid[i];\n    } : function (i) {\n      return attributes[i](centroid);\n    };\n    var getQ = function getQ(i) {\n      return attributes[i](node);\n    };\n    var nodeP = centroid;\n    var nodeQ = node;\n    return clusteringDistance(type, attributes.length, getP, getQ, nodeP, nodeQ);\n  };\n  var randomCentroids = function randomCentroids(nodes, k, attributes) {\n    var ndim = attributes.length;\n    var min = new Array(ndim);\n    var max = new Array(ndim);\n    var centroids = new Array(k);\n    var centroid = null;\n\n    // Find min, max values for each attribute dimension\n    for (var i = 0; i < ndim; i++) {\n      min[i] = nodes.min(attributes[i]).value;\n      max[i] = nodes.max(attributes[i]).value;\n    }\n\n    // Build k centroids, each represented as an n-dim feature vector\n    for (var c = 0; c < k; c++) {\n      centroid = [];\n      for (var _i = 0; _i < ndim; _i++) {\n        centroid[_i] = Math.random() * (max[_i] - min[_i]) + min[_i]; // random initial value\n      }\n\n      centroids[c] = centroid;\n    }\n    return centroids;\n  };\n  var classify = function classify(node, centroids, distance, attributes, type) {\n    var min = Infinity;\n    var index = 0;\n    for (var i = 0; i < centroids.length; i++) {\n      var dist = getDist(distance, node, centroids[i], attributes, type);\n      if (dist < min) {\n        min = dist;\n        index = i;\n      }\n    }\n    return index;\n  };\n  var buildCluster = function buildCluster(centroid, nodes, assignment) {\n    var cluster = [];\n    var node = null;\n    for (var n = 0; n < nodes.length; n++) {\n      node = nodes[n];\n      if (assignment[node.id()] === centroid) {\n        //console.log(\"Node \" + node.id() + \" is associated with medoid #: \" + m);\n        cluster.push(node);\n      }\n    }\n    return cluster;\n  };\n  var haveValuesConverged = function haveValuesConverged(v1, v2, sensitivityThreshold) {\n    return Math.abs(v2 - v1) <= sensitivityThreshold;\n  };\n  var haveMatricesConverged = function haveMatricesConverged(v1, v2, sensitivityThreshold) {\n    for (var i = 0; i < v1.length; i++) {\n      for (var j = 0; j < v1[i].length; j++) {\n        var diff = Math.abs(v1[i][j] - v2[i][j]);\n        if (diff > sensitivityThreshold) {\n          return false;\n        }\n      }\n    }\n    return true;\n  };\n  var seenBefore = function seenBefore(node, medoids, n) {\n    for (var i = 0; i < n; i++) {\n      if (node === medoids[i]) return true;\n    }\n    return false;\n  };\n  var randomMedoids = function randomMedoids(nodes, k) {\n    var medoids = new Array(k);\n\n    // For small data sets, the probability of medoid conflict is greater,\n    // so we need to check to see if we've already seen or chose this node before.\n    if (nodes.length < 50) {\n      // Randomly select k medoids from the n nodes\n      for (var i = 0; i < k; i++) {\n        var node = nodes[Math.floor(Math.random() * nodes.length)];\n\n        // If we've already chosen this node to be a medoid, don't choose it again (for small data sets).\n        // Instead choose a different random node.\n        while (seenBefore(node, medoids, i)) {\n          node = nodes[Math.floor(Math.random() * nodes.length)];\n        }\n        medoids[i] = node;\n      }\n    } else {\n      // Relatively large data set, so pretty safe to not check and just select random nodes\n      for (var _i2 = 0; _i2 < k; _i2++) {\n        medoids[_i2] = nodes[Math.floor(Math.random() * nodes.length)];\n      }\n    }\n    return medoids;\n  };\n  var findCost = function findCost(potentialNewMedoid, cluster, attributes) {\n    var cost = 0;\n    for (var n = 0; n < cluster.length; n++) {\n      cost += getDist('manhattan', cluster[n], potentialNewMedoid, attributes, 'kMedoids');\n    }\n    return cost;\n  };\n  var kMeans = function kMeans(options) {\n    var cy = this.cy();\n    var nodes = this.nodes();\n    var node = null;\n\n    // Set parameters of algorithm: # of clusters, distance metric, etc.\n    var opts = setOptions$2(options);\n\n    // Begin k-means algorithm\n    var clusters = new Array(opts.k);\n    var assignment = {};\n    var centroids;\n\n    // Step 1: Initialize centroid positions\n    if (opts.testMode) {\n      if (typeof opts.testCentroids === 'number') {\n        // TODO: implement a seeded random number generator.\n        opts.testCentroids;\n        centroids = randomCentroids(nodes, opts.k, opts.attributes);\n      } else if (_typeof(opts.testCentroids) === 'object') {\n        centroids = opts.testCentroids;\n      } else {\n        centroids = randomCentroids(nodes, opts.k, opts.attributes);\n      }\n    } else {\n      centroids = randomCentroids(nodes, opts.k, opts.attributes);\n    }\n    var isStillMoving = true;\n    var iterations = 0;\n    while (isStillMoving && iterations < opts.maxIterations) {\n      // Step 2: Assign nodes to the nearest centroid\n      for (var n = 0; n < nodes.length; n++) {\n        node = nodes[n];\n        // Determine which cluster this node belongs to: node id => cluster #\n        assignment[node.id()] = classify(node, centroids, opts.distance, opts.attributes, 'kMeans');\n      }\n\n      // Step 3: For each of the k clusters, update its centroid\n      isStillMoving = false;\n      for (var c = 0; c < opts.k; c++) {\n        // Get all nodes that belong to this cluster\n        var cluster = buildCluster(c, nodes, assignment);\n        if (cluster.length === 0) {\n          // If cluster is empty, break out early & move to next cluster\n          continue;\n        }\n\n        // Update centroids by calculating avg of all nodes within the cluster.\n        var ndim = opts.attributes.length;\n        var centroid = centroids[c]; // [ dim_1, dim_2, dim_3, ... , dim_n ]\n        var newCentroid = new Array(ndim);\n        var sum = new Array(ndim);\n        for (var d = 0; d < ndim; d++) {\n          sum[d] = 0.0;\n          for (var i = 0; i < cluster.length; i++) {\n            node = cluster[i];\n            sum[d] += opts.attributes[d](node);\n          }\n          newCentroid[d] = sum[d] / cluster.length;\n\n          // Check to see if algorithm has converged, i.e. when centroids no longer change\n          if (!haveValuesConverged(newCentroid[d], centroid[d], opts.sensitivityThreshold)) {\n            isStillMoving = true;\n          }\n        }\n        centroids[c] = newCentroid;\n        clusters[c] = cy.collection(cluster);\n      }\n      iterations++;\n    }\n    return clusters;\n  };\n  var kMedoids = function kMedoids(options) {\n    var cy = this.cy();\n    var nodes = this.nodes();\n    var node = null;\n    var opts = setOptions$2(options);\n\n    // Begin k-medoids algorithm\n    var clusters = new Array(opts.k);\n    var medoids;\n    var assignment = {};\n    var curCost;\n    var minCosts = new Array(opts.k); // minimum cost configuration for each cluster\n\n    // Step 1: Initialize k medoids\n    if (opts.testMode) {\n      if (typeof opts.testCentroids === 'number') ; else if (_typeof(opts.testCentroids) === 'object') {\n        medoids = opts.testCentroids;\n      } else {\n        medoids = randomMedoids(nodes, opts.k);\n      }\n    } else {\n      medoids = randomMedoids(nodes, opts.k);\n    }\n    var isStillMoving = true;\n    var iterations = 0;\n    while (isStillMoving && iterations < opts.maxIterations) {\n      // Step 2: Assign nodes to the nearest medoid\n      for (var n = 0; n < nodes.length; n++) {\n        node = nodes[n];\n        // Determine which cluster this node belongs to: node id => cluster #\n        assignment[node.id()] = classify(node, medoids, opts.distance, opts.attributes, 'kMedoids');\n      }\n      isStillMoving = false;\n      // Step 3: For each medoid m, and for each node associated with mediod m,\n      // select the node with the lowest configuration cost as new medoid.\n      for (var m = 0; m < medoids.length; m++) {\n        // Get all nodes that belong to this medoid\n        var cluster = buildCluster(m, nodes, assignment);\n        if (cluster.length === 0) {\n          // If cluster is empty, break out early & move to next cluster\n          continue;\n        }\n        minCosts[m] = findCost(medoids[m], cluster, opts.attributes); // original cost\n\n        // Select different medoid if its configuration has the lowest cost\n        for (var _n = 0; _n < cluster.length; _n++) {\n          curCost = findCost(cluster[_n], cluster, opts.attributes);\n          if (curCost < minCosts[m]) {\n            minCosts[m] = curCost;\n            medoids[m] = cluster[_n];\n            isStillMoving = true;\n          }\n        }\n        clusters[m] = cy.collection(cluster);\n      }\n      iterations++;\n    }\n    return clusters;\n  };\n  var updateCentroids = function updateCentroids(centroids, nodes, U, weight, opts) {\n    var numerator, denominator;\n    for (var n = 0; n < nodes.length; n++) {\n      for (var c = 0; c < centroids.length; c++) {\n        weight[n][c] = Math.pow(U[n][c], opts.m);\n      }\n    }\n    for (var _c = 0; _c < centroids.length; _c++) {\n      for (var dim = 0; dim < opts.attributes.length; dim++) {\n        numerator = 0;\n        denominator = 0;\n        for (var _n2 = 0; _n2 < nodes.length; _n2++) {\n          numerator += weight[_n2][_c] * opts.attributes[dim](nodes[_n2]);\n          denominator += weight[_n2][_c];\n        }\n        centroids[_c][dim] = numerator / denominator;\n      }\n    }\n  };\n  var updateMembership = function updateMembership(U, _U, centroids, nodes, opts) {\n    // Save previous step\n    for (var i = 0; i < U.length; i++) {\n      _U[i] = U[i].slice();\n    }\n    var sum, numerator, denominator;\n    var pow = 2 / (opts.m - 1);\n    for (var c = 0; c < centroids.length; c++) {\n      for (var n = 0; n < nodes.length; n++) {\n        sum = 0;\n        for (var k = 0; k < centroids.length; k++) {\n          // against all other centroids\n          numerator = getDist(opts.distance, nodes[n], centroids[c], opts.attributes, 'cmeans');\n          denominator = getDist(opts.distance, nodes[n], centroids[k], opts.attributes, 'cmeans');\n          sum += Math.pow(numerator / denominator, pow);\n        }\n        U[n][c] = 1 / sum;\n      }\n    }\n  };\n  var assign$1 = function assign(nodes, U, opts, cy) {\n    var clusters = new Array(opts.k);\n    for (var c = 0; c < clusters.length; c++) {\n      clusters[c] = [];\n    }\n    var max;\n    var index;\n    for (var n = 0; n < U.length; n++) {\n      // for each node (U is N x C matrix)\n      max = -Infinity;\n      index = -1;\n      // Determine which cluster the node is most likely to belong in\n      for (var _c2 = 0; _c2 < U[0].length; _c2++) {\n        if (U[n][_c2] > max) {\n          max = U[n][_c2];\n          index = _c2;\n        }\n      }\n      clusters[index].push(nodes[n]);\n    }\n\n    // Turn every array into a collection of nodes\n    for (var _c3 = 0; _c3 < clusters.length; _c3++) {\n      clusters[_c3] = cy.collection(clusters[_c3]);\n    }\n    return clusters;\n  };\n  var fuzzyCMeans = function fuzzyCMeans(options) {\n    var cy = this.cy();\n    var nodes = this.nodes();\n    var opts = setOptions$2(options);\n\n    // Begin fuzzy c-means algorithm\n    var clusters;\n    var centroids;\n    var U;\n    var _U;\n    var weight;\n\n    // Step 1: Initialize letiables.\n    _U = new Array(nodes.length);\n    for (var i = 0; i < nodes.length; i++) {\n      // N x C matrix\n      _U[i] = new Array(opts.k);\n    }\n    U = new Array(nodes.length);\n    for (var _i3 = 0; _i3 < nodes.length; _i3++) {\n      // N x C matrix\n      U[_i3] = new Array(opts.k);\n    }\n    for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n      var total = 0;\n      for (var j = 0; j < opts.k; j++) {\n        U[_i4][j] = Math.random();\n        total += U[_i4][j];\n      }\n      for (var _j = 0; _j < opts.k; _j++) {\n        U[_i4][_j] = U[_i4][_j] / total;\n      }\n    }\n    centroids = new Array(opts.k);\n    for (var _i5 = 0; _i5 < opts.k; _i5++) {\n      centroids[_i5] = new Array(opts.attributes.length);\n    }\n    weight = new Array(nodes.length);\n    for (var _i6 = 0; _i6 < nodes.length; _i6++) {\n      // N x C matrix\n      weight[_i6] = new Array(opts.k);\n    }\n    // end init FCM\n\n    var isStillMoving = true;\n    var iterations = 0;\n    while (isStillMoving && iterations < opts.maxIterations) {\n      isStillMoving = false;\n\n      // Step 2: Calculate the centroids for each step.\n      updateCentroids(centroids, nodes, U, weight, opts);\n\n      // Step 3: Update the partition matrix U.\n      updateMembership(U, _U, centroids, nodes, opts);\n\n      // Step 4: Check for convergence.\n      if (!haveMatricesConverged(U, _U, opts.sensitivityThreshold)) {\n        isStillMoving = true;\n      }\n      iterations++;\n    }\n\n    // Assign nodes to clusters with highest probability.\n    clusters = assign$1(nodes, U, opts, cy);\n    return {\n      clusters: clusters,\n      degreeOfMembership: U\n    };\n  };\n  var kClustering = {\n    kMeans: kMeans,\n    kMedoids: kMedoids,\n    fuzzyCMeans: fuzzyCMeans,\n    fcm: fuzzyCMeans\n  };\n\n  // Implemented by Zoe Xi @zoexi for GSOC 2016\n  var defaults$a = defaults$g({\n    distance: 'euclidean',\n    // distance metric to compare nodes\n    linkage: 'min',\n    // linkage criterion : how to determine the distance between clusters of nodes\n    mode: 'threshold',\n    // mode:'threshold' => clusters must be threshold distance apart\n    threshold: Infinity,\n    // the distance threshold\n    // mode:'dendrogram' => the nodes are organised as leaves in a tree (siblings are close), merging makes clusters\n    addDendrogram: false,\n    // whether to add the dendrogram to the graph for viz\n    dendrogramDepth: 0,\n    // depth at which dendrogram branches are merged into the returned clusters\n    attributes: [] // array of attr functions\n  });\n\n  var linkageAliases = {\n    'single': 'min',\n    'complete': 'max'\n  };\n  var setOptions$1 = function setOptions(options) {\n    var opts = defaults$a(options);\n    var preferredAlias = linkageAliases[opts.linkage];\n    if (preferredAlias != null) {\n      opts.linkage = preferredAlias;\n    }\n    return opts;\n  };\n  var mergeClosest = function mergeClosest(clusters, index, dists, mins, opts) {\n    // Find two closest clusters from cached mins\n    var minKey = 0;\n    var min = Infinity;\n    var dist;\n    var attrs = opts.attributes;\n    var getDist = function getDist(n1, n2) {\n      return clusteringDistance(opts.distance, attrs.length, function (i) {\n        return attrs[i](n1);\n      }, function (i) {\n        return attrs[i](n2);\n      }, n1, n2);\n    };\n    for (var i = 0; i < clusters.length; i++) {\n      var key = clusters[i].key;\n      var _dist = dists[key][mins[key]];\n      if (_dist < min) {\n        minKey = key;\n        min = _dist;\n      }\n    }\n    if (opts.mode === 'threshold' && min >= opts.threshold || opts.mode === 'dendrogram' && clusters.length === 1) {\n      return false;\n    }\n    var c1 = index[minKey];\n    var c2 = index[mins[minKey]];\n    var merged;\n\n    // Merge two closest clusters\n    if (opts.mode === 'dendrogram') {\n      merged = {\n        left: c1,\n        right: c2,\n        key: c1.key\n      };\n    } else {\n      merged = {\n        value: c1.value.concat(c2.value),\n        key: c1.key\n      };\n    }\n    clusters[c1.index] = merged;\n    clusters.splice(c2.index, 1);\n    index[c1.key] = merged;\n\n    // Update distances with new merged cluster\n    for (var _i = 0; _i < clusters.length; _i++) {\n      var cur = clusters[_i];\n      if (c1.key === cur.key) {\n        dist = Infinity;\n      } else if (opts.linkage === 'min') {\n        dist = dists[c1.key][cur.key];\n        if (dists[c1.key][cur.key] > dists[c2.key][cur.key]) {\n          dist = dists[c2.key][cur.key];\n        }\n      } else if (opts.linkage === 'max') {\n        dist = dists[c1.key][cur.key];\n        if (dists[c1.key][cur.key] < dists[c2.key][cur.key]) {\n          dist = dists[c2.key][cur.key];\n        }\n      } else if (opts.linkage === 'mean') {\n        dist = (dists[c1.key][cur.key] * c1.size + dists[c2.key][cur.key] * c2.size) / (c1.size + c2.size);\n      } else {\n        if (opts.mode === 'dendrogram') dist = getDist(cur.value, c1.value);else dist = getDist(cur.value[0], c1.value[0]);\n      }\n      dists[c1.key][cur.key] = dists[cur.key][c1.key] = dist; // distance matrix is symmetric\n    }\n\n    // Update cached mins\n    for (var _i2 = 0; _i2 < clusters.length; _i2++) {\n      var key1 = clusters[_i2].key;\n      if (mins[key1] === c1.key || mins[key1] === c2.key) {\n        var _min = key1;\n        for (var j = 0; j < clusters.length; j++) {\n          var key2 = clusters[j].key;\n          if (dists[key1][key2] < dists[key1][_min]) {\n            _min = key2;\n          }\n        }\n        mins[key1] = _min;\n      }\n      clusters[_i2].index = _i2;\n    }\n\n    // Clean up meta data used for clustering\n    c1.key = c2.key = c1.index = c2.index = null;\n    return true;\n  };\n  var getAllChildren = function getAllChildren(root, arr, cy) {\n    if (!root) return;\n    if (root.value) {\n      arr.push(root.value);\n    } else {\n      if (root.left) getAllChildren(root.left, arr);\n      if (root.right) getAllChildren(root.right, arr);\n    }\n  };\n  var buildDendrogram = function buildDendrogram(root, cy) {\n    if (!root) return '';\n    if (root.left && root.right) {\n      var leftStr = buildDendrogram(root.left, cy);\n      var rightStr = buildDendrogram(root.right, cy);\n      var node = cy.add({\n        group: 'nodes',\n        data: {\n          id: leftStr + ',' + rightStr\n        }\n      });\n      cy.add({\n        group: 'edges',\n        data: {\n          source: leftStr,\n          target: node.id()\n        }\n      });\n      cy.add({\n        group: 'edges',\n        data: {\n          source: rightStr,\n          target: node.id()\n        }\n      });\n      return node.id();\n    } else if (root.value) {\n      return root.value.id();\n    }\n  };\n  var buildClustersFromTree = function buildClustersFromTree(root, k, cy) {\n    if (!root) return [];\n    var left = [],\n      right = [],\n      leaves = [];\n    if (k === 0) {\n      // don't cut tree, simply return all nodes as 1 single cluster\n      if (root.left) getAllChildren(root.left, left);\n      if (root.right) getAllChildren(root.right, right);\n      leaves = left.concat(right);\n      return [cy.collection(leaves)];\n    } else if (k === 1) {\n      // cut at root\n\n      if (root.value) {\n        // leaf node\n        return [cy.collection(root.value)];\n      } else {\n        if (root.left) getAllChildren(root.left, left);\n        if (root.right) getAllChildren(root.right, right);\n        return [cy.collection(left), cy.collection(right)];\n      }\n    } else {\n      if (root.value) {\n        return [cy.collection(root.value)];\n      } else {\n        if (root.left) left = buildClustersFromTree(root.left, k - 1, cy);\n        if (root.right) right = buildClustersFromTree(root.right, k - 1, cy);\n        return left.concat(right);\n      }\n    }\n  };\n\n  var hierarchicalClustering = function hierarchicalClustering(options) {\n    var cy = this.cy();\n    var nodes = this.nodes();\n\n    // Set parameters of algorithm: linkage type, distance metric, etc.\n    var opts = setOptions$1(options);\n    var attrs = opts.attributes;\n    var getDist = function getDist(n1, n2) {\n      return clusteringDistance(opts.distance, attrs.length, function (i) {\n        return attrs[i](n1);\n      }, function (i) {\n        return attrs[i](n2);\n      }, n1, n2);\n    };\n\n    // Begin hierarchical algorithm\n    var clusters = [];\n    var dists = []; // distances between each pair of clusters\n    var mins = []; // closest cluster for each cluster\n    var index = []; // hash of all clusters by key\n\n    // In agglomerative (bottom-up) clustering, each node starts as its own cluster\n    for (var n = 0; n < nodes.length; n++) {\n      var cluster = {\n        value: opts.mode === 'dendrogram' ? nodes[n] : [nodes[n]],\n        key: n,\n        index: n\n      };\n      clusters[n] = cluster;\n      index[n] = cluster;\n      dists[n] = [];\n      mins[n] = 0;\n    }\n\n    // Calculate the distance between each pair of clusters\n    for (var i = 0; i < clusters.length; i++) {\n      for (var j = 0; j <= i; j++) {\n        var dist = void 0;\n        if (opts.mode === 'dendrogram') {\n          // modes store cluster values differently\n          dist = i === j ? Infinity : getDist(clusters[i].value, clusters[j].value);\n        } else {\n          dist = i === j ? Infinity : getDist(clusters[i].value[0], clusters[j].value[0]);\n        }\n        dists[i][j] = dist;\n        dists[j][i] = dist;\n        if (dist < dists[i][mins[i]]) {\n          mins[i] = j; // Cache mins: closest cluster to cluster i is cluster j\n        }\n      }\n    }\n\n    // Find the closest pair of clusters and merge them into a single cluster.\n    // Update distances between new cluster and each of the old clusters, and loop until threshold reached.\n    var merged = mergeClosest(clusters, index, dists, mins, opts);\n    while (merged) {\n      merged = mergeClosest(clusters, index, dists, mins, opts);\n    }\n    var retClusters;\n\n    // Dendrogram mode builds the hierarchy and adds intermediary nodes + edges\n    // in addition to returning the clusters.\n    if (opts.mode === 'dendrogram') {\n      retClusters = buildClustersFromTree(clusters[0], opts.dendrogramDepth, cy);\n      if (opts.addDendrogram) buildDendrogram(clusters[0], cy);\n    } else {\n      // Regular mode simply returns the clusters\n\n      retClusters = new Array(clusters.length);\n      clusters.forEach(function (cluster, i) {\n        // Clean up meta data used for clustering\n        cluster.key = cluster.index = null;\n        retClusters[i] = cy.collection(cluster.value);\n      });\n    }\n    return retClusters;\n  };\n  var hierarchicalClustering$1 = {\n    hierarchicalClustering: hierarchicalClustering,\n    hca: hierarchicalClustering\n  };\n\n  // Implemented by Zoe Xi @zoexi for GSOC 2016\n  var defaults$9 = defaults$g({\n    distance: 'euclidean',\n    // distance metric to compare attributes between two nodes\n    preference: 'median',\n    // suitability of a data point to serve as an exemplar\n    damping: 0.8,\n    // damping factor between [0.5, 1)\n    maxIterations: 1000,\n    // max number of iterations to run\n    minIterations: 100,\n    // min number of iterations to run in order for clustering to stop\n    attributes: [// functions to quantify the similarity between any two points\n      // e.g. node => node.data('weight')\n    ]\n  });\n  var setOptions = function setOptions(options) {\n    var dmp = options.damping;\n    var pref = options.preference;\n    if (!(0.5 <= dmp && dmp < 1)) {\n      error(\"Damping must range on [0.5, 1).  Got: \".concat(dmp));\n    }\n    var validPrefs = ['median', 'mean', 'min', 'max'];\n    if (!(validPrefs.some(function (v) {\n      return v === pref;\n    }) || number$1(pref))) {\n      error(\"Preference must be one of [\".concat(validPrefs.map(function (p) {\n        return \"'\".concat(p, \"'\");\n      }).join(', '), \"] or a number.  Got: \").concat(pref));\n    }\n    return defaults$9(options);\n  };\n\n  var getSimilarity = function getSimilarity(type, n1, n2, attributes) {\n    var attr = function attr(n, i) {\n      return attributes[i](n);\n    };\n\n    // nb negative because similarity should have an inverse relationship to distance\n    return -clusteringDistance(type, attributes.length, function (i) {\n      return attr(n1, i);\n    }, function (i) {\n      return attr(n2, i);\n    }, n1, n2);\n  };\n  var getPreference = function getPreference(S, preference) {\n    // larger preference = greater # of clusters\n    var p = null;\n    if (preference === 'median') {\n      p = median(S);\n    } else if (preference === 'mean') {\n      p = mean(S);\n    } else if (preference === 'min') {\n      p = min(S);\n    } else if (preference === 'max') {\n      p = max(S);\n    } else {\n      // Custom preference number, as set by user\n      p = preference;\n    }\n    return p;\n  };\n  var findExemplars = function findExemplars(n, R, A) {\n    var indices = [];\n    for (var i = 0; i < n; i++) {\n      if (R[i * n + i] + A[i * n + i] > 0) {\n        indices.push(i);\n      }\n    }\n    return indices;\n  };\n  var assignClusters = function assignClusters(n, S, exemplars) {\n    var clusters = [];\n    for (var i = 0; i < n; i++) {\n      var index = -1;\n      var max = -Infinity;\n      for (var ei = 0; ei < exemplars.length; ei++) {\n        var e = exemplars[ei];\n        if (S[i * n + e] > max) {\n          index = e;\n          max = S[i * n + e];\n        }\n      }\n      if (index > 0) {\n        clusters.push(index);\n      }\n    }\n    for (var _ei = 0; _ei < exemplars.length; _ei++) {\n      clusters[exemplars[_ei]] = exemplars[_ei];\n    }\n    return clusters;\n  };\n  var assign = function assign(n, S, exemplars) {\n    var clusters = assignClusters(n, S, exemplars);\n    for (var ei = 0; ei < exemplars.length; ei++) {\n      var ii = [];\n      for (var c = 0; c < clusters.length; c++) {\n        if (clusters[c] === exemplars[ei]) {\n          ii.push(c);\n        }\n      }\n      var maxI = -1;\n      var maxSum = -Infinity;\n      for (var i = 0; i < ii.length; i++) {\n        var sum = 0;\n        for (var j = 0; j < ii.length; j++) {\n          sum += S[ii[j] * n + ii[i]];\n        }\n        if (sum > maxSum) {\n          maxI = i;\n          maxSum = sum;\n        }\n      }\n      exemplars[ei] = ii[maxI];\n    }\n    clusters = assignClusters(n, S, exemplars);\n    return clusters;\n  };\n  var affinityPropagation = function affinityPropagation(options) {\n    var cy = this.cy();\n    var nodes = this.nodes();\n    var opts = setOptions(options);\n\n    // Map each node to its position in node array\n    var id2position = {};\n    for (var i = 0; i < nodes.length; i++) {\n      id2position[nodes[i].id()] = i;\n    }\n\n    // Begin affinity propagation algorithm\n\n    var n; // number of data points\n    var n2; // size of matrices\n    var S; // similarity matrix (1D array)\n    var p; // preference/suitability of a data point to serve as an exemplar\n    var R; // responsibility matrix (1D array)\n    var A; // availability matrix (1D array)\n\n    n = nodes.length;\n    n2 = n * n;\n\n    // Initialize and build S similarity matrix\n    S = new Array(n2);\n    for (var _i = 0; _i < n2; _i++) {\n      S[_i] = -Infinity; // for cases where two data points shouldn't be linked together\n    }\n\n    for (var _i2 = 0; _i2 < n; _i2++) {\n      for (var j = 0; j < n; j++) {\n        if (_i2 !== j) {\n          S[_i2 * n + j] = getSimilarity(opts.distance, nodes[_i2], nodes[j], opts.attributes);\n        }\n      }\n    }\n\n    // Place preferences on the diagonal of S\n    p = getPreference(S, opts.preference);\n    for (var _i3 = 0; _i3 < n; _i3++) {\n      S[_i3 * n + _i3] = p;\n    }\n\n    // Initialize R responsibility matrix\n    R = new Array(n2);\n    for (var _i4 = 0; _i4 < n2; _i4++) {\n      R[_i4] = 0.0;\n    }\n\n    // Initialize A availability matrix\n    A = new Array(n2);\n    for (var _i5 = 0; _i5 < n2; _i5++) {\n      A[_i5] = 0.0;\n    }\n    var old = new Array(n);\n    var Rp = new Array(n);\n    var se = new Array(n);\n    for (var _i6 = 0; _i6 < n; _i6++) {\n      old[_i6] = 0.0;\n      Rp[_i6] = 0.0;\n      se[_i6] = 0;\n    }\n    var e = new Array(n * opts.minIterations);\n    for (var _i7 = 0; _i7 < e.length; _i7++) {\n      e[_i7] = 0;\n    }\n    var iter;\n    for (iter = 0; iter < opts.maxIterations; iter++) {\n      // main algorithmic loop\n\n      // Update R responsibility matrix\n      for (var _i8 = 0; _i8 < n; _i8++) {\n        var max = -Infinity,\n          max2 = -Infinity,\n          maxI = -1,\n          AS = 0.0;\n        for (var _j = 0; _j < n; _j++) {\n          old[_j] = R[_i8 * n + _j];\n          AS = A[_i8 * n + _j] + S[_i8 * n + _j];\n          if (AS >= max) {\n            max2 = max;\n            max = AS;\n            maxI = _j;\n          } else if (AS > max2) {\n            max2 = AS;\n          }\n        }\n        for (var _j2 = 0; _j2 < n; _j2++) {\n          R[_i8 * n + _j2] = (1 - opts.damping) * (S[_i8 * n + _j2] - max) + opts.damping * old[_j2];\n        }\n        R[_i8 * n + maxI] = (1 - opts.damping) * (S[_i8 * n + maxI] - max2) + opts.damping * old[maxI];\n      }\n\n      // Update A availability matrix\n      for (var _i9 = 0; _i9 < n; _i9++) {\n        var sum = 0;\n        for (var _j3 = 0; _j3 < n; _j3++) {\n          old[_j3] = A[_j3 * n + _i9];\n          Rp[_j3] = Math.max(0, R[_j3 * n + _i9]);\n          sum += Rp[_j3];\n        }\n        sum -= Rp[_i9];\n        Rp[_i9] = R[_i9 * n + _i9];\n        sum += Rp[_i9];\n        for (var _j4 = 0; _j4 < n; _j4++) {\n          A[_j4 * n + _i9] = (1 - opts.damping) * Math.min(0, sum - Rp[_j4]) + opts.damping * old[_j4];\n        }\n        A[_i9 * n + _i9] = (1 - opts.damping) * (sum - Rp[_i9]) + opts.damping * old[_i9];\n      }\n\n      // Check for convergence\n      var K = 0;\n      for (var _i10 = 0; _i10 < n; _i10++) {\n        var E = A[_i10 * n + _i10] + R[_i10 * n + _i10] > 0 ? 1 : 0;\n        e[iter % opts.minIterations * n + _i10] = E;\n        K += E;\n      }\n      if (K > 0 && (iter >= opts.minIterations - 1 || iter == opts.maxIterations - 1)) {\n        var _sum = 0;\n        for (var _i11 = 0; _i11 < n; _i11++) {\n          se[_i11] = 0;\n          for (var _j5 = 0; _j5 < opts.minIterations; _j5++) {\n            se[_i11] += e[_j5 * n + _i11];\n          }\n          if (se[_i11] === 0 || se[_i11] === opts.minIterations) {\n            _sum++;\n          }\n        }\n        if (_sum === n) {\n          // then we have convergence\n          break;\n        }\n      }\n    }\n\n    // Identify exemplars (cluster centers)\n    var exemplarsIndices = findExemplars(n, R, A);\n\n    // Assign nodes to clusters\n    var clusterIndices = assign(n, S, exemplarsIndices);\n    var clusters = {};\n    for (var c = 0; c < exemplarsIndices.length; c++) {\n      clusters[exemplarsIndices[c]] = [];\n    }\n    for (var _i12 = 0; _i12 < nodes.length; _i12++) {\n      var pos = id2position[nodes[_i12].id()];\n      var clusterIndex = clusterIndices[pos];\n      if (clusterIndex != null) {\n        // the node may have not been assigned a cluster if no valid attributes were specified\n        clusters[clusterIndex].push(nodes[_i12]);\n      }\n    }\n    var retClusters = new Array(exemplarsIndices.length);\n    for (var _c = 0; _c < exemplarsIndices.length; _c++) {\n      retClusters[_c] = cy.collection(clusters[exemplarsIndices[_c]]);\n    }\n    return retClusters;\n  };\n  var affinityPropagation$1 = {\n    affinityPropagation: affinityPropagation,\n    ap: affinityPropagation\n  };\n\n  var hierholzerDefaults = defaults$g({\n    root: undefined,\n    directed: false\n  });\n  var elesfn$k = {\n    hierholzer: function hierholzer(options) {\n      if (!plainObject(options)) {\n        var args = arguments;\n        options = {\n          root: args[0],\n          directed: args[1]\n        };\n      }\n      var _hierholzerDefaults = hierholzerDefaults(options),\n        root = _hierholzerDefaults.root,\n        directed = _hierholzerDefaults.directed;\n      var eles = this;\n      var dflag = false;\n      var oddIn;\n      var oddOut;\n      var startVertex;\n      if (root) startVertex = string(root) ? this.filter(root)[0].id() : root[0].id();\n      var nodes = {};\n      var edges = {};\n      if (directed) {\n        eles.forEach(function (ele) {\n          var id = ele.id();\n          if (ele.isNode()) {\n            var ind = ele.indegree(true);\n            var outd = ele.outdegree(true);\n            var d1 = ind - outd;\n            var d2 = outd - ind;\n            if (d1 == 1) {\n              if (oddIn) dflag = true;else oddIn = id;\n            } else if (d2 == 1) {\n              if (oddOut) dflag = true;else oddOut = id;\n            } else if (d2 > 1 || d1 > 1) {\n              dflag = true;\n            }\n            nodes[id] = [];\n            ele.outgoers().forEach(function (e) {\n              if (e.isEdge()) nodes[id].push(e.id());\n            });\n          } else {\n            edges[id] = [undefined, ele.target().id()];\n          }\n        });\n      } else {\n        eles.forEach(function (ele) {\n          var id = ele.id();\n          if (ele.isNode()) {\n            var d = ele.degree(true);\n            if (d % 2) {\n              if (!oddIn) oddIn = id;else if (!oddOut) oddOut = id;else dflag = true;\n            }\n            nodes[id] = [];\n            ele.connectedEdges().forEach(function (e) {\n              return nodes[id].push(e.id());\n            });\n          } else {\n            edges[id] = [ele.source().id(), ele.target().id()];\n          }\n        });\n      }\n      var result = {\n        found: false,\n        trail: undefined\n      };\n      if (dflag) return result;else if (oddOut && oddIn) {\n        if (directed) {\n          if (startVertex && oddOut != startVertex) {\n            return result;\n          }\n          startVertex = oddOut;\n        } else {\n          if (startVertex && oddOut != startVertex && oddIn != startVertex) {\n            return result;\n          } else if (!startVertex) {\n            startVertex = oddOut;\n          }\n        }\n      } else {\n        if (!startVertex) startVertex = eles[0].id();\n      }\n      var walk = function walk(v) {\n        var currentNode = v;\n        var subtour = [v];\n        var adj, adjTail, adjHead;\n        while (nodes[currentNode].length) {\n          adj = nodes[currentNode].shift();\n          adjTail = edges[adj][0];\n          adjHead = edges[adj][1];\n          if (currentNode != adjHead) {\n            nodes[adjHead] = nodes[adjHead].filter(function (e) {\n              return e != adj;\n            });\n            currentNode = adjHead;\n          } else if (!directed && currentNode != adjTail) {\n            nodes[adjTail] = nodes[adjTail].filter(function (e) {\n              return e != adj;\n            });\n            currentNode = adjTail;\n          }\n          subtour.unshift(adj);\n          subtour.unshift(currentNode);\n        }\n        return subtour;\n      };\n      var trail = [];\n      var subtour = [];\n      subtour = walk(startVertex);\n      while (subtour.length != 1) {\n        if (nodes[subtour[0]].length == 0) {\n          trail.unshift(eles.getElementById(subtour.shift()));\n          trail.unshift(eles.getElementById(subtour.shift()));\n        } else {\n          subtour = walk(subtour.shift()).concat(subtour);\n        }\n      }\n      trail.unshift(eles.getElementById(subtour.shift())); // final node\n\n      for (var d in nodes) {\n        if (nodes[d].length) {\n          return result;\n        }\n      }\n      result.found = true;\n      result.trail = this.spawn(trail, true);\n      return result;\n    }\n  };\n\n  var hopcroftTarjanBiconnected = function hopcroftTarjanBiconnected() {\n    var eles = this;\n    var nodes = {};\n    var id = 0;\n    var edgeCount = 0;\n    var components = [];\n    var stack = [];\n    var visitedEdges = {};\n    var buildComponent = function buildComponent(x, y) {\n      var i = stack.length - 1;\n      var cutset = [];\n      var component = eles.spawn();\n      while (stack[i].x != x || stack[i].y != y) {\n        cutset.push(stack.pop().edge);\n        i--;\n      }\n      cutset.push(stack.pop().edge);\n      cutset.forEach(function (edge) {\n        var connectedNodes = edge.connectedNodes().intersection(eles);\n        component.merge(edge);\n        connectedNodes.forEach(function (node) {\n          var nodeId = node.id();\n          var connectedEdges = node.connectedEdges().intersection(eles);\n          component.merge(node);\n          if (!nodes[nodeId].cutVertex) {\n            component.merge(connectedEdges);\n          } else {\n            component.merge(connectedEdges.filter(function (edge) {\n              return edge.isLoop();\n            }));\n          }\n        });\n      });\n      components.push(component);\n    };\n    var biconnectedSearch = function biconnectedSearch(root, currentNode, parent) {\n      if (root === parent) edgeCount += 1;\n      nodes[currentNode] = {\n        id: id,\n        low: id++,\n        cutVertex: false\n      };\n      var edges = eles.getElementById(currentNode).connectedEdges().intersection(eles);\n      if (edges.size() === 0) {\n        components.push(eles.spawn(eles.getElementById(currentNode)));\n      } else {\n        var sourceId, targetId, otherNodeId, edgeId;\n        edges.forEach(function (edge) {\n          sourceId = edge.source().id();\n          targetId = edge.target().id();\n          otherNodeId = sourceId === currentNode ? targetId : sourceId;\n          if (otherNodeId !== parent) {\n            edgeId = edge.id();\n            if (!visitedEdges[edgeId]) {\n              visitedEdges[edgeId] = true;\n              stack.push({\n                x: currentNode,\n                y: otherNodeId,\n                edge: edge\n              });\n            }\n            if (!(otherNodeId in nodes)) {\n              biconnectedSearch(root, otherNodeId, currentNode);\n              nodes[currentNode].low = Math.min(nodes[currentNode].low, nodes[otherNodeId].low);\n              if (nodes[currentNode].id <= nodes[otherNodeId].low) {\n                nodes[currentNode].cutVertex = true;\n                buildComponent(currentNode, otherNodeId);\n              }\n            } else {\n              nodes[currentNode].low = Math.min(nodes[currentNode].low, nodes[otherNodeId].id);\n            }\n          }\n        });\n      }\n    };\n    eles.forEach(function (ele) {\n      if (ele.isNode()) {\n        var nodeId = ele.id();\n        if (!(nodeId in nodes)) {\n          edgeCount = 0;\n          biconnectedSearch(nodeId, nodeId);\n          nodes[nodeId].cutVertex = edgeCount > 1;\n        }\n      }\n    });\n    var cutVertices = Object.keys(nodes).filter(function (id) {\n      return nodes[id].cutVertex;\n    }).map(function (id) {\n      return eles.getElementById(id);\n    });\n    return {\n      cut: eles.spawn(cutVertices),\n      components: components\n    };\n  };\n  var hopcroftTarjanBiconnected$1 = {\n    hopcroftTarjanBiconnected: hopcroftTarjanBiconnected,\n    htbc: hopcroftTarjanBiconnected,\n    htb: hopcroftTarjanBiconnected,\n    hopcroftTarjanBiconnectedComponents: hopcroftTarjanBiconnected\n  };\n\n  var tarjanStronglyConnected = function tarjanStronglyConnected() {\n    var eles = this;\n    var nodes = {};\n    var index = 0;\n    var components = [];\n    var stack = [];\n    var cut = eles.spawn(eles);\n    var stronglyConnectedSearch = function stronglyConnectedSearch(sourceNodeId) {\n      stack.push(sourceNodeId);\n      nodes[sourceNodeId] = {\n        index: index,\n        low: index++,\n        explored: false\n      };\n      var connectedEdges = eles.getElementById(sourceNodeId).connectedEdges().intersection(eles);\n      connectedEdges.forEach(function (edge) {\n        var targetNodeId = edge.target().id();\n        if (targetNodeId !== sourceNodeId) {\n          if (!(targetNodeId in nodes)) {\n            stronglyConnectedSearch(targetNodeId);\n          }\n          if (!nodes[targetNodeId].explored) {\n            nodes[sourceNodeId].low = Math.min(nodes[sourceNodeId].low, nodes[targetNodeId].low);\n          }\n        }\n      });\n      if (nodes[sourceNodeId].index === nodes[sourceNodeId].low) {\n        var componentNodes = eles.spawn();\n        for (;;) {\n          var nodeId = stack.pop();\n          componentNodes.merge(eles.getElementById(nodeId));\n          nodes[nodeId].low = nodes[sourceNodeId].index;\n          nodes[nodeId].explored = true;\n          if (nodeId === sourceNodeId) {\n            break;\n          }\n        }\n        var componentEdges = componentNodes.edgesWith(componentNodes);\n        var component = componentNodes.merge(componentEdges);\n        components.push(component);\n        cut = cut.difference(component);\n      }\n    };\n    eles.forEach(function (ele) {\n      if (ele.isNode()) {\n        var nodeId = ele.id();\n        if (!(nodeId in nodes)) {\n          stronglyConnectedSearch(nodeId);\n        }\n      }\n    });\n    return {\n      cut: cut,\n      components: components\n    };\n  };\n  var tarjanStronglyConnected$1 = {\n    tarjanStronglyConnected: tarjanStronglyConnected,\n    tsc: tarjanStronglyConnected,\n    tscc: tarjanStronglyConnected,\n    tarjanStronglyConnectedComponents: tarjanStronglyConnected\n  };\n\n  var elesfn$j = {};\n  [elesfn$v, elesfn$u, elesfn$t, elesfn$s, elesfn$r, elesfn$q, elesfn$p, elesfn$o, elesfn$n, elesfn$m, elesfn$l, markovClustering$1, kClustering, hierarchicalClustering$1, affinityPropagation$1, elesfn$k, hopcroftTarjanBiconnected$1, tarjanStronglyConnected$1].forEach(function (props) {\n    extend(elesfn$j, props);\n  });\n\n  /*!\n  Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable\n  Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)\n  Licensed under The MIT License (http://opensource.org/licenses/MIT)\n  */\n\n  /*  promise states [Promises/A+ 2.1]  */\n  var STATE_PENDING = 0; /*  [Promises/A+ 2.1.1]  */\n  var STATE_FULFILLED = 1; /*  [Promises/A+ 2.1.2]  */\n  var STATE_REJECTED = 2; /*  [Promises/A+ 2.1.3]  */\n\n  /*  promise object constructor  */\n  var api = function api(executor) {\n    /*  optionally support non-constructor/plain-function call  */\n    if (!(this instanceof api)) return new api(executor);\n\n    /*  initialize object  */\n    this.id = 'Thenable/1.0.7';\n    this.state = STATE_PENDING; /*  initial state  */\n    this.fulfillValue = undefined; /*  initial value  */ /*  [Promises/A+ 1.3, 2.1.2.2]  */\n    this.rejectReason = undefined; /*  initial reason */ /*  [Promises/A+ 1.5, 2.1.3.2]  */\n    this.onFulfilled = []; /*  initial handlers  */\n    this.onRejected = []; /*  initial handlers  */\n\n    /*  provide optional information-hiding proxy  */\n    this.proxy = {\n      then: this.then.bind(this)\n    };\n\n    /*  support optional executor function  */\n    if (typeof executor === 'function') executor.call(this, this.fulfill.bind(this), this.reject.bind(this));\n  };\n\n  /*  promise API methods  */\n  api.prototype = {\n    /*  promise resolving methods  */\n    fulfill: function fulfill(value) {\n      return deliver(this, STATE_FULFILLED, 'fulfillValue', value);\n    },\n    reject: function reject(value) {\n      return deliver(this, STATE_REJECTED, 'rejectReason', value);\n    },\n    /*  \"The then Method\" [Promises/A+ 1.1, 1.2, 2.2]  */\n    then: function then(onFulfilled, onRejected) {\n      var curr = this;\n      var next = new api(); /*  [Promises/A+ 2.2.7]  */\n      curr.onFulfilled.push(resolver(onFulfilled, next, 'fulfill')); /*  [Promises/A+ 2.2.2/2.2.6]  */\n      curr.onRejected.push(resolver(onRejected, next, 'reject')); /*  [Promises/A+ 2.2.3/2.2.6]  */\n      execute(curr);\n      return next.proxy; /*  [Promises/A+ 2.2.7, 3.3]  */\n    }\n  };\n\n  /*  deliver an action  */\n  var deliver = function deliver(curr, state, name, value) {\n    if (curr.state === STATE_PENDING) {\n      curr.state = state; /*  [Promises/A+ 2.1.2.1, 2.1.3.1]  */\n      curr[name] = value; /*  [Promises/A+ 2.1.2.2, 2.1.3.2]  */\n      execute(curr);\n    }\n    return curr;\n  };\n\n  /*  execute all handlers  */\n  var execute = function execute(curr) {\n    if (curr.state === STATE_FULFILLED) execute_handlers(curr, 'onFulfilled', curr.fulfillValue);else if (curr.state === STATE_REJECTED) execute_handlers(curr, 'onRejected', curr.rejectReason);\n  };\n\n  /*  execute particular set of handlers  */\n  var execute_handlers = function execute_handlers(curr, name, value) {\n    /* global setImmediate: true */\n    /* global setTimeout: true */\n\n    /*  short-circuit processing  */\n    if (curr[name].length === 0) return;\n\n    /*  iterate over all handlers, exactly once  */\n    var handlers = curr[name];\n    curr[name] = []; /*  [Promises/A+ 2.2.2.3, 2.2.3.3]  */\n    var func = function func() {\n      for (var i = 0; i < handlers.length; i++) {\n        handlers[i](value);\n      } /*  [Promises/A+ 2.2.5]  */\n    };\n\n    /*  execute procedure asynchronously  */ /*  [Promises/A+ 2.2.4, 3.1]  */\n    if (typeof setImmediate === 'function') setImmediate(func);else setTimeout(func, 0);\n  };\n\n  /*  generate a resolver function  */\n  var resolver = function resolver(cb, next, method) {\n    return function (value) {\n      if (typeof cb !== 'function') /*  [Promises/A+ 2.2.1, 2.2.7.3, 2.2.7.4]  */\n        next[method].call(next, value); /*  [Promises/A+ 2.2.7.3, 2.2.7.4]  */else {\n        var result;\n        try {\n          result = cb(value);\n        } /*  [Promises/A+ 2.2.2.1, 2.2.3.1, 2.2.5, 3.2]  */ catch (e) {\n          next.reject(e); /*  [Promises/A+ 2.2.7.2]  */\n          return;\n        }\n        resolve(next, result); /*  [Promises/A+ 2.2.7.1]  */\n      }\n    };\n  };\n\n  /*  \"Promise Resolution Procedure\"  */ /*  [Promises/A+ 2.3]  */\n  var resolve = function resolve(promise, x) {\n    /*  sanity check arguments  */ /*  [Promises/A+ 2.3.1]  */\n    if (promise === x || promise.proxy === x) {\n      promise.reject(new TypeError('cannot resolve promise with itself'));\n      return;\n    }\n\n    /*  surgically check for a \"then\" method\n      (mainly to just call the \"getter\" of \"then\" only once)  */\n    var then;\n    if (_typeof(x) === 'object' && x !== null || typeof x === 'function') {\n      try {\n        then = x.then;\n      } /*  [Promises/A+ 2.3.3.1, 3.5]  */ catch (e) {\n        promise.reject(e); /*  [Promises/A+ 2.3.3.2]  */\n        return;\n      }\n    }\n\n    /*  handle own Thenables    [Promises/A+ 2.3.2]\n      and similar \"thenables\" [Promises/A+ 2.3.3]  */\n    if (typeof then === 'function') {\n      var resolved = false;\n      try {\n        /*  call retrieved \"then\" method */ /*  [Promises/A+ 2.3.3.3]  */\n        then.call(x, /*  resolvePromise  */ /*  [Promises/A+ 2.3.3.3.1]  */\n        function (y) {\n          if (resolved) return;\n          resolved = true; /*  [Promises/A+ 2.3.3.3.3]  */\n          if (y === x) /*  [Promises/A+ 3.6]  */\n            promise.reject(new TypeError('circular thenable chain'));else resolve(promise, y);\n        }, /*  rejectPromise  */ /*  [Promises/A+ 2.3.3.3.2]  */\n        function (r) {\n          if (resolved) return;\n          resolved = true; /*  [Promises/A+ 2.3.3.3.3]  */\n          promise.reject(r);\n        });\n      } catch (e) {\n        if (!resolved) /*  [Promises/A+ 2.3.3.3.3]  */\n          promise.reject(e); /*  [Promises/A+ 2.3.3.3.4]  */\n      }\n\n      return;\n    }\n\n    /*  handle other values  */\n    promise.fulfill(x); /*  [Promises/A+ 2.3.4, 2.3.3.4]  */\n  };\n\n  // so we always have Promise.all()\n  api.all = function (ps) {\n    return new api(function (resolveAll, rejectAll) {\n      var vals = new Array(ps.length);\n      var doneCount = 0;\n      var fulfill = function fulfill(i, val) {\n        vals[i] = val;\n        doneCount++;\n        if (doneCount === ps.length) {\n          resolveAll(vals);\n        }\n      };\n      for (var i = 0; i < ps.length; i++) {\n        (function (i) {\n          var p = ps[i];\n          var isPromise = p != null && p.then != null;\n          if (isPromise) {\n            p.then(function (val) {\n              fulfill(i, val);\n            }, function (err) {\n              rejectAll(err);\n            });\n          } else {\n            var val = p;\n            fulfill(i, val);\n          }\n        })(i);\n      }\n    });\n  };\n  api.resolve = function (val) {\n    return new api(function (resolve, reject) {\n      resolve(val);\n    });\n  };\n  api.reject = function (val) {\n    return new api(function (resolve, reject) {\n      reject(val);\n    });\n  };\n  var Promise$1 = typeof Promise !== 'undefined' ? Promise : api; // eslint-disable-line no-undef\n\n  var Animation = function Animation(target, opts, opts2) {\n    var isCore = core(target);\n    var isEle = !isCore;\n    var _p = this._private = extend({\n      duration: 1000\n    }, opts, opts2);\n    _p.target = target;\n    _p.style = _p.style || _p.css;\n    _p.started = false;\n    _p.playing = false;\n    _p.hooked = false;\n    _p.applying = false;\n    _p.progress = 0;\n    _p.completes = [];\n    _p.frames = [];\n    if (_p.complete && fn$6(_p.complete)) {\n      _p.completes.push(_p.complete);\n    }\n    if (isEle) {\n      var pos = target.position();\n      _p.startPosition = _p.startPosition || {\n        x: pos.x,\n        y: pos.y\n      };\n      _p.startStyle = _p.startStyle || target.cy().style().getAnimationStartStyle(target, _p.style);\n    }\n    if (isCore) {\n      var pan = target.pan();\n      _p.startPan = {\n        x: pan.x,\n        y: pan.y\n      };\n      _p.startZoom = target.zoom();\n    }\n\n    // for future timeline/animations impl\n    this.length = 1;\n    this[0] = this;\n  };\n  var anifn = Animation.prototype;\n  extend(anifn, {\n    instanceString: function instanceString() {\n      return 'animation';\n    },\n    hook: function hook() {\n      var _p = this._private;\n      if (!_p.hooked) {\n        // add to target's animation queue\n        var q;\n        var tAni = _p.target._private.animation;\n        if (_p.queue) {\n          q = tAni.queue;\n        } else {\n          q = tAni.current;\n        }\n        q.push(this);\n\n        // add to the animation loop pool\n        if (elementOrCollection(_p.target)) {\n          _p.target.cy().addToAnimationPool(_p.target);\n        }\n        _p.hooked = true;\n      }\n      return this;\n    },\n    play: function play() {\n      var _p = this._private;\n\n      // autorewind\n      if (_p.progress === 1) {\n        _p.progress = 0;\n      }\n      _p.playing = true;\n      _p.started = false; // needs to be started by animation loop\n      _p.stopped = false;\n      this.hook();\n\n      // the animation loop will start the animation...\n\n      return this;\n    },\n    playing: function playing() {\n      return this._private.playing;\n    },\n    apply: function apply() {\n      var _p = this._private;\n      _p.applying = true;\n      _p.started = false; // needs to be started by animation loop\n      _p.stopped = false;\n      this.hook();\n\n      // the animation loop will apply the animation at this progress\n\n      return this;\n    },\n    applying: function applying() {\n      return this._private.applying;\n    },\n    pause: function pause() {\n      var _p = this._private;\n      _p.playing = false;\n      _p.started = false;\n      return this;\n    },\n    stop: function stop() {\n      var _p = this._private;\n      _p.playing = false;\n      _p.started = false;\n      _p.stopped = true; // to be removed from animation queues\n\n      return this;\n    },\n    rewind: function rewind() {\n      return this.progress(0);\n    },\n    fastforward: function fastforward() {\n      return this.progress(1);\n    },\n    time: function time(t) {\n      var _p = this._private;\n      if (t === undefined) {\n        return _p.progress * _p.duration;\n      } else {\n        return this.progress(t / _p.duration);\n      }\n    },\n    progress: function progress(p) {\n      var _p = this._private;\n      var wasPlaying = _p.playing;\n      if (p === undefined) {\n        return _p.progress;\n      } else {\n        if (wasPlaying) {\n          this.pause();\n        }\n        _p.progress = p;\n        _p.started = false;\n        if (wasPlaying) {\n          this.play();\n        }\n      }\n      return this;\n    },\n    completed: function completed() {\n      return this._private.progress === 1;\n    },\n    reverse: function reverse() {\n      var _p = this._private;\n      var wasPlaying = _p.playing;\n      if (wasPlaying) {\n        this.pause();\n      }\n      _p.progress = 1 - _p.progress;\n      _p.started = false;\n      var swap = function swap(a, b) {\n        var _pa = _p[a];\n        if (_pa == null) {\n          return;\n        }\n        _p[a] = _p[b];\n        _p[b] = _pa;\n      };\n      swap('zoom', 'startZoom');\n      swap('pan', 'startPan');\n      swap('position', 'startPosition');\n\n      // swap styles\n      if (_p.style) {\n        for (var i = 0; i < _p.style.length; i++) {\n          var prop = _p.style[i];\n          var name = prop.name;\n          var startStyleProp = _p.startStyle[name];\n          _p.startStyle[name] = prop;\n          _p.style[i] = startStyleProp;\n        }\n      }\n      if (wasPlaying) {\n        this.play();\n      }\n      return this;\n    },\n    promise: function promise(type) {\n      var _p = this._private;\n      var arr;\n      switch (type) {\n        case 'frame':\n          arr = _p.frames;\n          break;\n        default:\n        case 'complete':\n        case 'completed':\n          arr = _p.completes;\n      }\n      return new Promise$1(function (resolve, reject) {\n        arr.push(function () {\n          resolve();\n        });\n      });\n    }\n  });\n  anifn.complete = anifn.completed;\n  anifn.run = anifn.play;\n  anifn.running = anifn.playing;\n\n  var define$3 = {\n    animated: function animated() {\n      return function animatedImpl() {\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n        var cy = this._private.cy || this;\n        if (!cy.styleEnabled()) {\n          return false;\n        }\n        var ele = all[0];\n        if (ele) {\n          return ele._private.animation.current.length > 0;\n        }\n      };\n    },\n    // animated\n\n    clearQueue: function clearQueue() {\n      return function clearQueueImpl() {\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n        var cy = this._private.cy || this;\n        if (!cy.styleEnabled()) {\n          return this;\n        }\n        for (var i = 0; i < all.length; i++) {\n          var ele = all[i];\n          ele._private.animation.queue = [];\n        }\n        return this;\n      };\n    },\n    // clearQueue\n\n    delay: function delay() {\n      return function delayImpl(time, complete) {\n        var cy = this._private.cy || this;\n        if (!cy.styleEnabled()) {\n          return this;\n        }\n        return this.animate({\n          delay: time,\n          duration: time,\n          complete: complete\n        });\n      };\n    },\n    // delay\n\n    delayAnimation: function delayAnimation() {\n      return function delayAnimationImpl(time, complete) {\n        var cy = this._private.cy || this;\n        if (!cy.styleEnabled()) {\n          return this;\n        }\n        return this.animation({\n          delay: time,\n          duration: time,\n          complete: complete\n        });\n      };\n    },\n    // delay\n\n    animation: function animation() {\n      return function animationImpl(properties, params) {\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n        var cy = this._private.cy || this;\n        var isCore = !selfIsArrayLike;\n        var isEles = !isCore;\n        if (!cy.styleEnabled()) {\n          return this;\n        }\n        var style = cy.style();\n        properties = extend({}, properties, params);\n        var propertiesEmpty = Object.keys(properties).length === 0;\n        if (propertiesEmpty) {\n          return new Animation(all[0], properties); // nothing to animate\n        }\n\n        if (properties.duration === undefined) {\n          properties.duration = 400;\n        }\n        switch (properties.duration) {\n          case 'slow':\n            properties.duration = 600;\n            break;\n          case 'fast':\n            properties.duration = 200;\n            break;\n        }\n        if (isEles) {\n          properties.style = style.getPropsList(properties.style || properties.css);\n          properties.css = undefined;\n        }\n        if (isEles && properties.renderedPosition != null) {\n          var rpos = properties.renderedPosition;\n          var pan = cy.pan();\n          var zoom = cy.zoom();\n          properties.position = renderedToModelPosition(rpos, zoom, pan);\n        }\n\n        // override pan w/ panBy if set\n        if (isCore && properties.panBy != null) {\n          var panBy = properties.panBy;\n          var cyPan = cy.pan();\n          properties.pan = {\n            x: cyPan.x + panBy.x,\n            y: cyPan.y + panBy.y\n          };\n        }\n\n        // override pan w/ center if set\n        var center = properties.center || properties.centre;\n        if (isCore && center != null) {\n          var centerPan = cy.getCenterPan(center.eles, properties.zoom);\n          if (centerPan != null) {\n            properties.pan = centerPan;\n          }\n        }\n\n        // override pan & zoom w/ fit if set\n        if (isCore && properties.fit != null) {\n          var fit = properties.fit;\n          var fitVp = cy.getFitViewport(fit.eles || fit.boundingBox, fit.padding);\n          if (fitVp != null) {\n            properties.pan = fitVp.pan;\n            properties.zoom = fitVp.zoom;\n          }\n        }\n\n        // override zoom (& potentially pan) w/ zoom obj if set\n        if (isCore && plainObject(properties.zoom)) {\n          var vp = cy.getZoomedViewport(properties.zoom);\n          if (vp != null) {\n            if (vp.zoomed) {\n              properties.zoom = vp.zoom;\n            }\n            if (vp.panned) {\n              properties.pan = vp.pan;\n            }\n          } else {\n            properties.zoom = null; // an inavalid zoom (e.g. no delta) gets automatically destroyed\n          }\n        }\n\n        return new Animation(all[0], properties);\n      };\n    },\n    // animate\n\n    animate: function animate() {\n      return function animateImpl(properties, params) {\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n        var cy = this._private.cy || this;\n        if (!cy.styleEnabled()) {\n          return this;\n        }\n        if (params) {\n          properties = extend({}, properties, params);\n        }\n\n        // manually hook and run the animation\n        for (var i = 0; i < all.length; i++) {\n          var ele = all[i];\n          var queue = ele.animated() && (properties.queue === undefined || properties.queue);\n          var ani = ele.animation(properties, queue ? {\n            queue: true\n          } : undefined);\n          ani.play();\n        }\n        return this; // chaining\n      };\n    },\n\n    // animate\n\n    stop: function stop() {\n      return function stopImpl(clearQueue, jumpToEnd) {\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n        var cy = this._private.cy || this;\n        if (!cy.styleEnabled()) {\n          return this;\n        }\n        for (var i = 0; i < all.length; i++) {\n          var ele = all[i];\n          var _p = ele._private;\n          var anis = _p.animation.current;\n          for (var j = 0; j < anis.length; j++) {\n            var ani = anis[j];\n            var ani_p = ani._private;\n            if (jumpToEnd) {\n              // next iteration of the animation loop, the animation\n              // will go straight to the end and be removed\n              ani_p.duration = 0;\n            }\n          }\n\n          // clear the queue of future animations\n          if (clearQueue) {\n            _p.animation.queue = [];\n          }\n          if (!jumpToEnd) {\n            _p.animation.current = [];\n          }\n        }\n\n        // we have to notify (the animation loop doesn't do it for us on `stop`)\n        cy.notify('draw');\n        return this;\n      };\n    } // stop\n  }; // define\n\n  /**\n   * Checks if `value` is classified as an `Array` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n   * @example\n   *\n   * _.isArray([1, 2, 3]);\n   * // => true\n   *\n   * _.isArray(document.body.children);\n   * // => false\n   *\n   * _.isArray('abc');\n   * // => false\n   *\n   * _.isArray(_.noop);\n   * // => false\n   */\n  var isArray = Array.isArray;\n\n  var isArray_1 = isArray;\n\n  /** Used to match property names within property paths. */\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n      reIsPlainProp = /^\\w*$/;\n\n  /**\n   * Checks if `value` is a property name and not a property path.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {Object} [object] The object to query keys on.\n   * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n   */\n  function isKey(value, object) {\n    if (isArray_1(value)) {\n      return false;\n    }\n    var type = typeof value;\n    if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n        value == null || isSymbol_1(value)) {\n      return true;\n    }\n    return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n      (object != null && value in Object(object));\n  }\n\n  var _isKey = isKey;\n\n  /** `Object#toString` result references. */\n  var asyncTag = '[object AsyncFunction]',\n      funcTag = '[object Function]',\n      genTag = '[object GeneratorFunction]',\n      proxyTag = '[object Proxy]';\n\n  /**\n   * Checks if `value` is classified as a `Function` object.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Lang\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n   * @example\n   *\n   * _.isFunction(_);\n   * // => true\n   *\n   * _.isFunction(/abc/);\n   * // => false\n   */\n  function isFunction(value) {\n    if (!isObject_1(value)) {\n      return false;\n    }\n    // The use of `Object#toString` avoids issues with the `typeof` operator\n    // in Safari 9 which returns 'object' for typed arrays and other constructors.\n    var tag = _baseGetTag(value);\n    return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n  }\n\n  var isFunction_1 = isFunction;\n\n  /** Used to detect overreaching core-js shims. */\n  var coreJsData = _root['__core-js_shared__'];\n\n  var _coreJsData = coreJsData;\n\n  /** Used to detect methods masquerading as native. */\n  var maskSrcKey = (function() {\n    var uid = /[^.]+$/.exec(_coreJsData && _coreJsData.keys && _coreJsData.keys.IE_PROTO || '');\n    return uid ? ('Symbol(src)_1.' + uid) : '';\n  }());\n\n  /**\n   * Checks if `func` has its source masked.\n   *\n   * @private\n   * @param {Function} func The function to check.\n   * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n   */\n  function isMasked(func) {\n    return !!maskSrcKey && (maskSrcKey in func);\n  }\n\n  var _isMasked = isMasked;\n\n  /** Used for built-in method references. */\n  var funcProto$1 = Function.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString$1 = funcProto$1.toString;\n\n  /**\n   * Converts `func` to its source code.\n   *\n   * @private\n   * @param {Function} func The function to convert.\n   * @returns {string} Returns the source code.\n   */\n  function toSource(func) {\n    if (func != null) {\n      try {\n        return funcToString$1.call(func);\n      } catch (e) {}\n      try {\n        return (func + '');\n      } catch (e) {}\n    }\n    return '';\n  }\n\n  var _toSource = toSource;\n\n  /**\n   * Used to match `RegExp`\n   * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n   */\n  var reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n  /** Used to detect host constructors (Safari). */\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n  /** Used for built-in method references. */\n  var funcProto = Function.prototype,\n      objectProto$3 = Object.prototype;\n\n  /** Used to resolve the decompiled source of functions. */\n  var funcToString = funcProto.toString;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty$3 = objectProto$3.hasOwnProperty;\n\n  /** Used to detect if a method is native. */\n  var reIsNative = RegExp('^' +\n    funcToString.call(hasOwnProperty$3).replace(reRegExpChar, '\\\\$&')\n    .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n  );\n\n  /**\n   * The base implementation of `_.isNative` without bad shim checks.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is a native function,\n   *  else `false`.\n   */\n  function baseIsNative(value) {\n    if (!isObject_1(value) || _isMasked(value)) {\n      return false;\n    }\n    var pattern = isFunction_1(value) ? reIsNative : reIsHostCtor;\n    return pattern.test(_toSource(value));\n  }\n\n  var _baseIsNative = baseIsNative;\n\n  /**\n   * Gets the value at `key` of `object`.\n   *\n   * @private\n   * @param {Object} [object] The object to query.\n   * @param {string} key The key of the property to get.\n   * @returns {*} Returns the property value.\n   */\n  function getValue$1(object, key) {\n    return object == null ? undefined : object[key];\n  }\n\n  var _getValue = getValue$1;\n\n  /**\n   * Gets the native function at `key` of `object`.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {string} key The key of the method to get.\n   * @returns {*} Returns the function if it's native, else `undefined`.\n   */\n  function getNative(object, key) {\n    var value = _getValue(object, key);\n    return _baseIsNative(value) ? value : undefined;\n  }\n\n  var _getNative = getNative;\n\n  /* Built-in method references that are verified to be native. */\n  var nativeCreate = _getNative(Object, 'create');\n\n  var _nativeCreate = nativeCreate;\n\n  /**\n   * Removes all key-value entries from the hash.\n   *\n   * @private\n   * @name clear\n   * @memberOf Hash\n   */\n  function hashClear() {\n    this.__data__ = _nativeCreate ? _nativeCreate(null) : {};\n    this.size = 0;\n  }\n\n  var _hashClear = hashClear;\n\n  /**\n   * Removes `key` and its value from the hash.\n   *\n   * @private\n   * @name delete\n   * @memberOf Hash\n   * @param {Object} hash The hash to modify.\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function hashDelete(key) {\n    var result = this.has(key) && delete this.__data__[key];\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n\n  var _hashDelete = hashDelete;\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED$1 = '__lodash_hash_undefined__';\n\n  /** Used for built-in method references. */\n  var objectProto$2 = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty$2 = objectProto$2.hasOwnProperty;\n\n  /**\n   * Gets the hash value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf Hash\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function hashGet(key) {\n    var data = this.__data__;\n    if (_nativeCreate) {\n      var result = data[key];\n      return result === HASH_UNDEFINED$1 ? undefined : result;\n    }\n    return hasOwnProperty$2.call(data, key) ? data[key] : undefined;\n  }\n\n  var _hashGet = hashGet;\n\n  /** Used for built-in method references. */\n  var objectProto$1 = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty$1 = objectProto$1.hasOwnProperty;\n\n  /**\n   * Checks if a hash value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf Hash\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function hashHas(key) {\n    var data = this.__data__;\n    return _nativeCreate ? (data[key] !== undefined) : hasOwnProperty$1.call(data, key);\n  }\n\n  var _hashHas = hashHas;\n\n  /** Used to stand-in for `undefined` hash values. */\n  var HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n  /**\n   * Sets the hash `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf Hash\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the hash instance.\n   */\n  function hashSet(key, value) {\n    var data = this.__data__;\n    this.size += this.has(key) ? 0 : 1;\n    data[key] = (_nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n    return this;\n  }\n\n  var _hashSet = hashSet;\n\n  /**\n   * Creates a hash object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function Hash(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  // Add methods to `Hash`.\n  Hash.prototype.clear = _hashClear;\n  Hash.prototype['delete'] = _hashDelete;\n  Hash.prototype.get = _hashGet;\n  Hash.prototype.has = _hashHas;\n  Hash.prototype.set = _hashSet;\n\n  var _Hash = Hash;\n\n  /**\n   * Removes all key-value entries from the list cache.\n   *\n   * @private\n   * @name clear\n   * @memberOf ListCache\n   */\n  function listCacheClear() {\n    this.__data__ = [];\n    this.size = 0;\n  }\n\n  var _listCacheClear = listCacheClear;\n\n  /**\n   * Performs a\n   * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * comparison between two values to determine if they are equivalent.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to compare.\n   * @param {*} other The other value to compare.\n   * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n   * @example\n   *\n   * var object = { 'a': 1 };\n   * var other = { 'a': 1 };\n   *\n   * _.eq(object, object);\n   * // => true\n   *\n   * _.eq(object, other);\n   * // => false\n   *\n   * _.eq('a', 'a');\n   * // => true\n   *\n   * _.eq('a', Object('a'));\n   * // => false\n   *\n   * _.eq(NaN, NaN);\n   * // => true\n   */\n  function eq(value, other) {\n    return value === other || (value !== value && other !== other);\n  }\n\n  var eq_1 = eq;\n\n  /**\n   * Gets the index at which the `key` is found in `array` of key-value pairs.\n   *\n   * @private\n   * @param {Array} array The array to inspect.\n   * @param {*} key The key to search for.\n   * @returns {number} Returns the index of the matched value, else `-1`.\n   */\n  function assocIndexOf(array, key) {\n    var length = array.length;\n    while (length--) {\n      if (eq_1(array[length][0], key)) {\n        return length;\n      }\n    }\n    return -1;\n  }\n\n  var _assocIndexOf = assocIndexOf;\n\n  /** Used for built-in method references. */\n  var arrayProto = Array.prototype;\n\n  /** Built-in value references. */\n  var splice = arrayProto.splice;\n\n  /**\n   * Removes `key` and its value from the list cache.\n   *\n   * @private\n   * @name delete\n   * @memberOf ListCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function listCacheDelete(key) {\n    var data = this.__data__,\n        index = _assocIndexOf(data, key);\n\n    if (index < 0) {\n      return false;\n    }\n    var lastIndex = data.length - 1;\n    if (index == lastIndex) {\n      data.pop();\n    } else {\n      splice.call(data, index, 1);\n    }\n    --this.size;\n    return true;\n  }\n\n  var _listCacheDelete = listCacheDelete;\n\n  /**\n   * Gets the list cache value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf ListCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function listCacheGet(key) {\n    var data = this.__data__,\n        index = _assocIndexOf(data, key);\n\n    return index < 0 ? undefined : data[index][1];\n  }\n\n  var _listCacheGet = listCacheGet;\n\n  /**\n   * Checks if a list cache value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf ListCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function listCacheHas(key) {\n    return _assocIndexOf(this.__data__, key) > -1;\n  }\n\n  var _listCacheHas = listCacheHas;\n\n  /**\n   * Sets the list cache `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf ListCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the list cache instance.\n   */\n  function listCacheSet(key, value) {\n    var data = this.__data__,\n        index = _assocIndexOf(data, key);\n\n    if (index < 0) {\n      ++this.size;\n      data.push([key, value]);\n    } else {\n      data[index][1] = value;\n    }\n    return this;\n  }\n\n  var _listCacheSet = listCacheSet;\n\n  /**\n   * Creates an list cache object.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function ListCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  // Add methods to `ListCache`.\n  ListCache.prototype.clear = _listCacheClear;\n  ListCache.prototype['delete'] = _listCacheDelete;\n  ListCache.prototype.get = _listCacheGet;\n  ListCache.prototype.has = _listCacheHas;\n  ListCache.prototype.set = _listCacheSet;\n\n  var _ListCache = ListCache;\n\n  /* Built-in method references that are verified to be native. */\n  var Map$1 = _getNative(_root, 'Map');\n\n  var _Map = Map$1;\n\n  /**\n   * Removes all key-value entries from the map.\n   *\n   * @private\n   * @name clear\n   * @memberOf MapCache\n   */\n  function mapCacheClear() {\n    this.size = 0;\n    this.__data__ = {\n      'hash': new _Hash,\n      'map': new (_Map || _ListCache),\n      'string': new _Hash\n    };\n  }\n\n  var _mapCacheClear = mapCacheClear;\n\n  /**\n   * Checks if `value` is suitable for use as unique object key.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n   */\n  function isKeyable(value) {\n    var type = typeof value;\n    return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n      ? (value !== '__proto__')\n      : (value === null);\n  }\n\n  var _isKeyable = isKeyable;\n\n  /**\n   * Gets the data for `map`.\n   *\n   * @private\n   * @param {Object} map The map to query.\n   * @param {string} key The reference key.\n   * @returns {*} Returns the map data.\n   */\n  function getMapData(map, key) {\n    var data = map.__data__;\n    return _isKeyable(key)\n      ? data[typeof key == 'string' ? 'string' : 'hash']\n      : data.map;\n  }\n\n  var _getMapData = getMapData;\n\n  /**\n   * Removes `key` and its value from the map.\n   *\n   * @private\n   * @name delete\n   * @memberOf MapCache\n   * @param {string} key The key of the value to remove.\n   * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n   */\n  function mapCacheDelete(key) {\n    var result = _getMapData(this, key)['delete'](key);\n    this.size -= result ? 1 : 0;\n    return result;\n  }\n\n  var _mapCacheDelete = mapCacheDelete;\n\n  /**\n   * Gets the map value for `key`.\n   *\n   * @private\n   * @name get\n   * @memberOf MapCache\n   * @param {string} key The key of the value to get.\n   * @returns {*} Returns the entry value.\n   */\n  function mapCacheGet(key) {\n    return _getMapData(this, key).get(key);\n  }\n\n  var _mapCacheGet = mapCacheGet;\n\n  /**\n   * Checks if a map value for `key` exists.\n   *\n   * @private\n   * @name has\n   * @memberOf MapCache\n   * @param {string} key The key of the entry to check.\n   * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n   */\n  function mapCacheHas(key) {\n    return _getMapData(this, key).has(key);\n  }\n\n  var _mapCacheHas = mapCacheHas;\n\n  /**\n   * Sets the map `key` to `value`.\n   *\n   * @private\n   * @name set\n   * @memberOf MapCache\n   * @param {string} key The key of the value to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns the map cache instance.\n   */\n  function mapCacheSet(key, value) {\n    var data = _getMapData(this, key),\n        size = data.size;\n\n    data.set(key, value);\n    this.size += data.size == size ? 0 : 1;\n    return this;\n  }\n\n  var _mapCacheSet = mapCacheSet;\n\n  /**\n   * Creates a map cache object to store key-value pairs.\n   *\n   * @private\n   * @constructor\n   * @param {Array} [entries] The key-value pairs to cache.\n   */\n  function MapCache(entries) {\n    var index = -1,\n        length = entries == null ? 0 : entries.length;\n\n    this.clear();\n    while (++index < length) {\n      var entry = entries[index];\n      this.set(entry[0], entry[1]);\n    }\n  }\n\n  // Add methods to `MapCache`.\n  MapCache.prototype.clear = _mapCacheClear;\n  MapCache.prototype['delete'] = _mapCacheDelete;\n  MapCache.prototype.get = _mapCacheGet;\n  MapCache.prototype.has = _mapCacheHas;\n  MapCache.prototype.set = _mapCacheSet;\n\n  var _MapCache = MapCache;\n\n  /** Error message constants. */\n  var FUNC_ERROR_TEXT = 'Expected a function';\n\n  /**\n   * Creates a function that memoizes the result of `func`. If `resolver` is\n   * provided, it determines the cache key for storing the result based on the\n   * arguments provided to the memoized function. By default, the first argument\n   * provided to the memoized function is used as the map cache key. The `func`\n   * is invoked with the `this` binding of the memoized function.\n   *\n   * **Note:** The cache is exposed as the `cache` property on the memoized\n   * function. Its creation may be customized by replacing the `_.memoize.Cache`\n   * constructor with one whose instances implement the\n   * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n   * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n   *\n   * @static\n   * @memberOf _\n   * @since 0.1.0\n   * @category Function\n   * @param {Function} func The function to have its output memoized.\n   * @param {Function} [resolver] The function to resolve the cache key.\n   * @returns {Function} Returns the new memoized function.\n   * @example\n   *\n   * var object = { 'a': 1, 'b': 2 };\n   * var other = { 'c': 3, 'd': 4 };\n   *\n   * var values = _.memoize(_.values);\n   * values(object);\n   * // => [1, 2]\n   *\n   * values(other);\n   * // => [3, 4]\n   *\n   * object.a = 2;\n   * values(object);\n   * // => [1, 2]\n   *\n   * // Modify the result cache.\n   * values.cache.set(object, ['a', 'b']);\n   * values(object);\n   * // => ['a', 'b']\n   *\n   * // Replace `_.memoize.Cache`.\n   * _.memoize.Cache = WeakMap;\n   */\n  function memoize(func, resolver) {\n    if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n      throw new TypeError(FUNC_ERROR_TEXT);\n    }\n    var memoized = function() {\n      var args = arguments,\n          key = resolver ? resolver.apply(this, args) : args[0],\n          cache = memoized.cache;\n\n      if (cache.has(key)) {\n        return cache.get(key);\n      }\n      var result = func.apply(this, args);\n      memoized.cache = cache.set(key, result) || cache;\n      return result;\n    };\n    memoized.cache = new (memoize.Cache || _MapCache);\n    return memoized;\n  }\n\n  // Expose `MapCache`.\n  memoize.Cache = _MapCache;\n\n  var memoize_1 = memoize;\n\n  /** Used as the maximum memoize cache size. */\n  var MAX_MEMOIZE_SIZE = 500;\n\n  /**\n   * A specialized version of `_.memoize` which clears the memoized function's\n   * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n   *\n   * @private\n   * @param {Function} func The function to have its output memoized.\n   * @returns {Function} Returns the new memoized function.\n   */\n  function memoizeCapped(func) {\n    var result = memoize_1(func, function(key) {\n      if (cache.size === MAX_MEMOIZE_SIZE) {\n        cache.clear();\n      }\n      return key;\n    });\n\n    var cache = result.cache;\n    return result;\n  }\n\n  var _memoizeCapped = memoizeCapped;\n\n  /** Used to match property names within property paths. */\n  var rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n  /** Used to match backslashes in property paths. */\n  var reEscapeChar = /\\\\(\\\\)?/g;\n\n  /**\n   * Converts `string` to a property path array.\n   *\n   * @private\n   * @param {string} string The string to convert.\n   * @returns {Array} Returns the property path array.\n   */\n  var stringToPath = _memoizeCapped(function(string) {\n    var result = [];\n    if (string.charCodeAt(0) === 46 /* . */) {\n      result.push('');\n    }\n    string.replace(rePropName, function(match, number, quote, subString) {\n      result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n    });\n    return result;\n  });\n\n  var _stringToPath = stringToPath;\n\n  /**\n   * A specialized version of `_.map` for arrays without support for iteratee\n   * shorthands.\n   *\n   * @private\n   * @param {Array} [array] The array to iterate over.\n   * @param {Function} iteratee The function invoked per iteration.\n   * @returns {Array} Returns the new mapped array.\n   */\n  function arrayMap(array, iteratee) {\n    var index = -1,\n        length = array == null ? 0 : array.length,\n        result = Array(length);\n\n    while (++index < length) {\n      result[index] = iteratee(array[index], index, array);\n    }\n    return result;\n  }\n\n  var _arrayMap = arrayMap;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY$1 = 1 / 0;\n\n  /** Used to convert symbols to primitives and strings. */\n  var symbolProto = _Symbol ? _Symbol.prototype : undefined,\n      symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n  /**\n   * The base implementation of `_.toString` which doesn't convert nullish\n   * values to empty strings.\n   *\n   * @private\n   * @param {*} value The value to process.\n   * @returns {string} Returns the string.\n   */\n  function baseToString(value) {\n    // Exit early for strings to avoid a performance hit in some environments.\n    if (typeof value == 'string') {\n      return value;\n    }\n    if (isArray_1(value)) {\n      // Recursively convert values (susceptible to call stack limits).\n      return _arrayMap(value, baseToString) + '';\n    }\n    if (isSymbol_1(value)) {\n      return symbolToString ? symbolToString.call(value) : '';\n    }\n    var result = (value + '');\n    return (result == '0' && (1 / value) == -INFINITY$1) ? '-0' : result;\n  }\n\n  var _baseToString = baseToString;\n\n  /**\n   * Converts `value` to a string. An empty string is returned for `null`\n   * and `undefined` values. The sign of `-0` is preserved.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Lang\n   * @param {*} value The value to convert.\n   * @returns {string} Returns the converted string.\n   * @example\n   *\n   * _.toString(null);\n   * // => ''\n   *\n   * _.toString(-0);\n   * // => '-0'\n   *\n   * _.toString([1, 2, 3]);\n   * // => '1,2,3'\n   */\n  function toString$1(value) {\n    return value == null ? '' : _baseToString(value);\n  }\n\n  var toString_1 = toString$1;\n\n  /**\n   * Casts `value` to a path array if it's not one.\n   *\n   * @private\n   * @param {*} value The value to inspect.\n   * @param {Object} [object] The object to query keys on.\n   * @returns {Array} Returns the cast property path array.\n   */\n  function castPath(value, object) {\n    if (isArray_1(value)) {\n      return value;\n    }\n    return _isKey(value, object) ? [value] : _stringToPath(toString_1(value));\n  }\n\n  var _castPath = castPath;\n\n  /** Used as references for various `Number` constants. */\n  var INFINITY = 1 / 0;\n\n  /**\n   * Converts `value` to a string key if it's not a string or symbol.\n   *\n   * @private\n   * @param {*} value The value to inspect.\n   * @returns {string|symbol} Returns the key.\n   */\n  function toKey(value) {\n    if (typeof value == 'string' || isSymbol_1(value)) {\n      return value;\n    }\n    var result = (value + '');\n    return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n  }\n\n  var _toKey = toKey;\n\n  /**\n   * The base implementation of `_.get` without support for default values.\n   *\n   * @private\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path of the property to get.\n   * @returns {*} Returns the resolved value.\n   */\n  function baseGet(object, path) {\n    path = _castPath(path, object);\n\n    var index = 0,\n        length = path.length;\n\n    while (object != null && index < length) {\n      object = object[_toKey(path[index++])];\n    }\n    return (index && index == length) ? object : undefined;\n  }\n\n  var _baseGet = baseGet;\n\n  /**\n   * Gets the value at `path` of `object`. If the resolved value is\n   * `undefined`, the `defaultValue` is returned in its place.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.7.0\n   * @category Object\n   * @param {Object} object The object to query.\n   * @param {Array|string} path The path of the property to get.\n   * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n   * @returns {*} Returns the resolved value.\n   * @example\n   *\n   * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n   *\n   * _.get(object, 'a[0].b.c');\n   * // => 3\n   *\n   * _.get(object, ['a', '0', 'b', 'c']);\n   * // => 3\n   *\n   * _.get(object, 'a.b.c', 'default');\n   * // => 'default'\n   */\n  function get(object, path, defaultValue) {\n    var result = object == null ? undefined : _baseGet(object, path);\n    return result === undefined ? defaultValue : result;\n  }\n\n  var get_1 = get;\n\n  var defineProperty = (function() {\n    try {\n      var func = _getNative(Object, 'defineProperty');\n      func({}, '', {});\n      return func;\n    } catch (e) {}\n  }());\n\n  var _defineProperty = defineProperty;\n\n  /**\n   * The base implementation of `assignValue` and `assignMergeValue` without\n   * value checks.\n   *\n   * @private\n   * @param {Object} object The object to modify.\n   * @param {string} key The key of the property to assign.\n   * @param {*} value The value to assign.\n   */\n  function baseAssignValue(object, key, value) {\n    if (key == '__proto__' && _defineProperty) {\n      _defineProperty(object, key, {\n        'configurable': true,\n        'enumerable': true,\n        'value': value,\n        'writable': true\n      });\n    } else {\n      object[key] = value;\n    }\n  }\n\n  var _baseAssignValue = baseAssignValue;\n\n  /** Used for built-in method references. */\n  var objectProto = Object.prototype;\n\n  /** Used to check objects for own properties. */\n  var hasOwnProperty = objectProto.hasOwnProperty;\n\n  /**\n   * Assigns `value` to `key` of `object` if the existing value is not equivalent\n   * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n   * for equality comparisons.\n   *\n   * @private\n   * @param {Object} object The object to modify.\n   * @param {string} key The key of the property to assign.\n   * @param {*} value The value to assign.\n   */\n  function assignValue(object, key, value) {\n    var objValue = object[key];\n    if (!(hasOwnProperty.call(object, key) && eq_1(objValue, value)) ||\n        (value === undefined && !(key in object))) {\n      _baseAssignValue(object, key, value);\n    }\n  }\n\n  var _assignValue = assignValue;\n\n  /** Used as references for various `Number` constants. */\n  var MAX_SAFE_INTEGER = 9007199254740991;\n\n  /** Used to detect unsigned integer values. */\n  var reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n  /**\n   * Checks if `value` is a valid array-like index.\n   *\n   * @private\n   * @param {*} value The value to check.\n   * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n   * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n   */\n  function isIndex(value, length) {\n    var type = typeof value;\n    length = length == null ? MAX_SAFE_INTEGER : length;\n\n    return !!length &&\n      (type == 'number' ||\n        (type != 'symbol' && reIsUint.test(value))) &&\n          (value > -1 && value % 1 == 0 && value < length);\n  }\n\n  var _isIndex = isIndex;\n\n  /**\n   * The base implementation of `_.set`.\n   *\n   * @private\n   * @param {Object} object The object to modify.\n   * @param {Array|string} path The path of the property to set.\n   * @param {*} value The value to set.\n   * @param {Function} [customizer] The function to customize path creation.\n   * @returns {Object} Returns `object`.\n   */\n  function baseSet(object, path, value, customizer) {\n    if (!isObject_1(object)) {\n      return object;\n    }\n    path = _castPath(path, object);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        nested = object;\n\n    while (nested != null && ++index < length) {\n      var key = _toKey(path[index]),\n          newValue = value;\n\n      if (key === '__proto__' || key === 'constructor' || key === 'prototype') {\n        return object;\n      }\n\n      if (index != lastIndex) {\n        var objValue = nested[key];\n        newValue = customizer ? customizer(objValue, key, nested) : undefined;\n        if (newValue === undefined) {\n          newValue = isObject_1(objValue)\n            ? objValue\n            : (_isIndex(path[index + 1]) ? [] : {});\n        }\n      }\n      _assignValue(nested, key, newValue);\n      nested = nested[key];\n    }\n    return object;\n  }\n\n  var _baseSet = baseSet;\n\n  /**\n   * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n   * it's created. Arrays are created for missing index properties while objects\n   * are created for all other missing properties. Use `_.setWith` to customize\n   * `path` creation.\n   *\n   * **Note:** This method mutates `object`.\n   *\n   * @static\n   * @memberOf _\n   * @since 3.7.0\n   * @category Object\n   * @param {Object} object The object to modify.\n   * @param {Array|string} path The path of the property to set.\n   * @param {*} value The value to set.\n   * @returns {Object} Returns `object`.\n   * @example\n   *\n   * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n   *\n   * _.set(object, 'a[0].b.c', 4);\n   * console.log(object.a[0].b.c);\n   * // => 4\n   *\n   * _.set(object, ['x', '0', 'y', 'z'], 5);\n   * console.log(object.x[0].y.z);\n   * // => 5\n   */\n  function set(object, path, value) {\n    return object == null ? object : _baseSet(object, path, value);\n  }\n\n  var set_1 = set;\n\n  /**\n   * Copies the values of `source` to `array`.\n   *\n   * @private\n   * @param {Array} source The array to copy values from.\n   * @param {Array} [array=[]] The array to copy values to.\n   * @returns {Array} Returns `array`.\n   */\n  function copyArray(source, array) {\n    var index = -1,\n        length = source.length;\n\n    array || (array = Array(length));\n    while (++index < length) {\n      array[index] = source[index];\n    }\n    return array;\n  }\n\n  var _copyArray = copyArray;\n\n  /**\n   * Converts `value` to a property path array.\n   *\n   * @static\n   * @memberOf _\n   * @since 4.0.0\n   * @category Util\n   * @param {*} value The value to convert.\n   * @returns {Array} Returns the new property path array.\n   * @example\n   *\n   * _.toPath('a.b.c');\n   * // => ['a', 'b', 'c']\n   *\n   * _.toPath('a[0].b.c');\n   * // => ['a', '0', 'b', 'c']\n   */\n  function toPath(value) {\n    if (isArray_1(value)) {\n      return _arrayMap(value, _toKey);\n    }\n    return isSymbol_1(value) ? [value] : _copyArray(_stringToPath(toString_1(value)));\n  }\n\n  var toPath_1 = toPath;\n\n  var define$2 = {\n    // access data field\n    data: function data(params) {\n      var defaults = {\n        field: 'data',\n        bindingEvent: 'data',\n        allowBinding: false,\n        allowSetting: false,\n        allowGetting: false,\n        settingEvent: 'data',\n        settingTriggersEvent: false,\n        triggerFnName: 'trigger',\n        immutableKeys: {},\n        // key => true if immutable\n        updateStyle: false,\n        beforeGet: function beforeGet(self) {},\n        beforeSet: function beforeSet(self, obj) {},\n        onSet: function onSet(self) {},\n        canSet: function canSet(self) {\n          return true;\n        }\n      };\n      params = extend({}, defaults, params);\n      return function dataImpl(name, value) {\n        var p = params;\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n        var single = selfIsArrayLike ? self[0] : self;\n\n        // .data('foo', ...)\n        if (string(name)) {\n          // set or get property\n          var isPathLike = name.indexOf('.') !== -1; // there might be a normal field with a dot \n          var path = isPathLike && toPath_1(name);\n\n          // .data('foo')\n          if (p.allowGetting && value === undefined) {\n            // get\n\n            var ret;\n            if (single) {\n              p.beforeGet(single);\n\n              // check if it's path and a field with the same name doesn't exist\n              if (path && single._private[p.field][name] === undefined) {\n                ret = get_1(single._private[p.field], path);\n              } else {\n                ret = single._private[p.field][name];\n              }\n            }\n            return ret;\n\n            // .data('foo', 'bar')\n          } else if (p.allowSetting && value !== undefined) {\n            // set\n            var valid = !p.immutableKeys[name];\n            if (valid) {\n              var change = _defineProperty$1({}, name, value);\n              p.beforeSet(self, change);\n              for (var i = 0, l = all.length; i < l; i++) {\n                var ele = all[i];\n                if (p.canSet(ele)) {\n                  if (path && single._private[p.field][name] === undefined) {\n                    set_1(ele._private[p.field], path, value);\n                  } else {\n                    ele._private[p.field][name] = value;\n                  }\n                }\n              }\n\n              // update mappers if asked\n              if (p.updateStyle) {\n                self.updateStyle();\n              }\n\n              // call onSet callback\n              p.onSet(self);\n              if (p.settingTriggersEvent) {\n                self[p.triggerFnName](p.settingEvent);\n              }\n            }\n          }\n\n          // .data({ 'foo': 'bar' })\n        } else if (p.allowSetting && plainObject(name)) {\n          // extend\n          var obj = name;\n          var k, v;\n          var keys = Object.keys(obj);\n          p.beforeSet(self, obj);\n          for (var _i = 0; _i < keys.length; _i++) {\n            k = keys[_i];\n            v = obj[k];\n            var _valid = !p.immutableKeys[k];\n            if (_valid) {\n              for (var j = 0; j < all.length; j++) {\n                var _ele = all[j];\n                if (p.canSet(_ele)) {\n                  _ele._private[p.field][k] = v;\n                }\n              }\n            }\n          }\n\n          // update mappers if asked\n          if (p.updateStyle) {\n            self.updateStyle();\n          }\n\n          // call onSet callback\n          p.onSet(self);\n          if (p.settingTriggersEvent) {\n            self[p.triggerFnName](p.settingEvent);\n          }\n\n          // .data(function(){ ... })\n        } else if (p.allowBinding && fn$6(name)) {\n          // bind to event\n          var fn = name;\n          self.on(p.bindingEvent, fn);\n\n          // .data()\n        } else if (p.allowGetting && name === undefined) {\n          // get whole object\n          var _ret;\n          if (single) {\n            p.beforeGet(single);\n            _ret = single._private[p.field];\n          }\n          return _ret;\n        }\n        return self; // maintain chainability\n      }; // function\n    },\n\n    // data\n\n    // remove data field\n    removeData: function removeData(params) {\n      var defaults = {\n        field: 'data',\n        event: 'data',\n        triggerFnName: 'trigger',\n        triggerEvent: false,\n        immutableKeys: {} // key => true if immutable\n      };\n\n      params = extend({}, defaults, params);\n      return function removeDataImpl(names) {\n        var p = params;\n        var self = this;\n        var selfIsArrayLike = self.length !== undefined;\n        var all = selfIsArrayLike ? self : [self]; // put in array if not array-like\n\n        // .removeData('foo bar')\n        if (string(names)) {\n          // then get the list of keys, and delete them\n          var keys = names.split(/\\s+/);\n          var l = keys.length;\n          for (var i = 0; i < l; i++) {\n            // delete each non-empty key\n            var key = keys[i];\n            if (emptyString(key)) {\n              continue;\n            }\n            var valid = !p.immutableKeys[key]; // not valid if immutable\n            if (valid) {\n              for (var i_a = 0, l_a = all.length; i_a < l_a; i_a++) {\n                all[i_a]._private[p.field][key] = undefined;\n              }\n            }\n          }\n          if (p.triggerEvent) {\n            self[p.triggerFnName](p.event);\n          }\n\n          // .removeData()\n        } else if (names === undefined) {\n          // then delete all keys\n\n          for (var _i_a = 0, _l_a = all.length; _i_a < _l_a; _i_a++) {\n            var _privateFields = all[_i_a]._private[p.field];\n            var _keys = Object.keys(_privateFields);\n            for (var _i2 = 0; _i2 < _keys.length; _i2++) {\n              var _key = _keys[_i2];\n              var validKeyToDelete = !p.immutableKeys[_key];\n              if (validKeyToDelete) {\n                _privateFields[_key] = undefined;\n              }\n            }\n          }\n          if (p.triggerEvent) {\n            self[p.triggerFnName](p.event);\n          }\n        }\n        return self; // maintain chaining\n      }; // function\n    } // removeData\n  }; // define\n\n  var define$1 = {\n    eventAliasesOn: function eventAliasesOn(proto) {\n      var p = proto;\n      p.addListener = p.listen = p.bind = p.on;\n      p.unlisten = p.unbind = p.off = p.removeListener;\n      p.trigger = p.emit;\n\n      // this is just a wrapper alias of .on()\n      p.pon = p.promiseOn = function (events, selector) {\n        var self = this;\n        var args = Array.prototype.slice.call(arguments, 0);\n        return new Promise$1(function (resolve, reject) {\n          var callback = function callback(e) {\n            self.off.apply(self, offArgs);\n            resolve(e);\n          };\n          var onArgs = args.concat([callback]);\n          var offArgs = onArgs.concat([]);\n          self.on.apply(self, onArgs);\n        });\n      };\n    }\n  }; // define\n\n  // use this module to cherry pick functions into your prototype\n  var define = {};\n  [define$3, define$2, define$1].forEach(function (m) {\n    extend(define, m);\n  });\n\n  var elesfn$i = {\n    animate: define.animate(),\n    animation: define.animation(),\n    animated: define.animated(),\n    clearQueue: define.clearQueue(),\n    delay: define.delay(),\n    delayAnimation: define.delayAnimation(),\n    stop: define.stop()\n  };\n\n  var elesfn$h = {\n    classes: function classes(_classes) {\n      var self = this;\n      if (_classes === undefined) {\n        var ret = [];\n        self[0]._private.classes.forEach(function (cls) {\n          return ret.push(cls);\n        });\n        return ret;\n      } else if (!array(_classes)) {\n        // extract classes from string\n        _classes = (_classes || '').match(/\\S+/g) || [];\n      }\n      var changed = [];\n      var classesSet = new Set$1(_classes);\n\n      // check and update each ele\n      for (var j = 0; j < self.length; j++) {\n        var ele = self[j];\n        var _p = ele._private;\n        var eleClasses = _p.classes;\n        var changedEle = false;\n\n        // check if ele has all of the passed classes\n        for (var i = 0; i < _classes.length; i++) {\n          var cls = _classes[i];\n          var eleHasClass = eleClasses.has(cls);\n          if (!eleHasClass) {\n            changedEle = true;\n            break;\n          }\n        }\n\n        // check if ele has classes outside of those passed\n        if (!changedEle) {\n          changedEle = eleClasses.size !== _classes.length;\n        }\n        if (changedEle) {\n          _p.classes = classesSet;\n          changed.push(ele);\n        }\n      }\n\n      // trigger update style on those eles that had class changes\n      if (changed.length > 0) {\n        this.spawn(changed).updateStyle().emit('class');\n      }\n      return self;\n    },\n    addClass: function addClass(classes) {\n      return this.toggleClass(classes, true);\n    },\n    hasClass: function hasClass(className) {\n      var ele = this[0];\n      return ele != null && ele._private.classes.has(className);\n    },\n    toggleClass: function toggleClass(classes, toggle) {\n      if (!array(classes)) {\n        // extract classes from string\n        classes = classes.match(/\\S+/g) || [];\n      }\n      var self = this;\n      var toggleUndefd = toggle === undefined;\n      var changed = []; // eles who had classes changed\n\n      for (var i = 0, il = self.length; i < il; i++) {\n        var ele = self[i];\n        var eleClasses = ele._private.classes;\n        var changedEle = false;\n        for (var j = 0; j < classes.length; j++) {\n          var cls = classes[j];\n          var hasClass = eleClasses.has(cls);\n          var changedNow = false;\n          if (toggle || toggleUndefd && !hasClass) {\n            eleClasses.add(cls);\n            changedNow = true;\n          } else if (!toggle || toggleUndefd && hasClass) {\n            eleClasses[\"delete\"](cls);\n            changedNow = true;\n          }\n          if (!changedEle && changedNow) {\n            changed.push(ele);\n            changedEle = true;\n          }\n        } // for j classes\n      } // for i eles\n\n      // trigger update style on those eles that had class changes\n      if (changed.length > 0) {\n        this.spawn(changed).updateStyle().emit('class');\n      }\n      return self;\n    },\n    removeClass: function removeClass(classes) {\n      return this.toggleClass(classes, false);\n    },\n    flashClass: function flashClass(classes, duration) {\n      var self = this;\n      if (duration == null) {\n        duration = 250;\n      } else if (duration === 0) {\n        return self; // nothing to do really\n      }\n\n      self.addClass(classes);\n      setTimeout(function () {\n        self.removeClass(classes);\n      }, duration);\n      return self;\n    }\n  };\n  elesfn$h.className = elesfn$h.classNames = elesfn$h.classes;\n\n  // tokens in the query language\n  var tokens = {\n    metaChar: '[\\\\!\\\\\"\\\\#\\\\$\\\\%\\\\&\\\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\.\\\\/\\\\:\\\\;\\\\<\\\\=\\\\>\\\\?\\\\@\\\\[\\\\]\\\\^\\\\`\\\\{\\\\|\\\\}\\\\~]',\n    // chars we need to escape in let names, etc\n    comparatorOp: '=|\\\\!=|>|>=|<|<=|\\\\$=|\\\\^=|\\\\*=',\n    // binary comparison op (used in data selectors)\n    boolOp: '\\\\?|\\\\!|\\\\^',\n    // boolean (unary) operators (used in data selectors)\n    string: '\"(?:\\\\\\\\\"|[^\"])*\"' + '|' + \"'(?:\\\\\\\\'|[^'])*'\",\n    // string literals (used in data selectors) -- doublequotes | singlequotes\n    number: number,\n    // number literal (used in data selectors) --- e.g. 0.1234, 1234, 12e123\n    meta: 'degree|indegree|outdegree',\n    // allowed metadata fields (i.e. allowed functions to use from Collection)\n    separator: '\\\\s*,\\\\s*',\n    // queries are separated by commas, e.g. edge[foo = 'bar'], node.someClass\n    descendant: '\\\\s+',\n    child: '\\\\s+>\\\\s+',\n    subject: '\\\\$',\n    group: 'node|edge|\\\\*',\n    directedEdge: '\\\\s+->\\\\s+',\n    undirectedEdge: '\\\\s+<->\\\\s+'\n  };\n  tokens.variable = '(?:[\\\\w-.]|(?:\\\\\\\\' + tokens.metaChar + '))+'; // a variable name can have letters, numbers, dashes, and periods\n  tokens.className = '(?:[\\\\w-]|(?:\\\\\\\\' + tokens.metaChar + '))+'; // a class name has the same rules as a variable except it can't have a '.' in the name\n  tokens.value = tokens.string + '|' + tokens.number; // a value literal, either a string or number\n  tokens.id = tokens.variable; // an element id (follows variable conventions)\n\n  (function () {\n    var ops, op, i;\n\n    // add @ variants to comparatorOp\n    ops = tokens.comparatorOp.split('|');\n    for (i = 0; i < ops.length; i++) {\n      op = ops[i];\n      tokens.comparatorOp += '|@' + op;\n    }\n\n    // add ! variants to comparatorOp\n    ops = tokens.comparatorOp.split('|');\n    for (i = 0; i < ops.length; i++) {\n      op = ops[i];\n      if (op.indexOf('!') >= 0) {\n        continue;\n      } // skip ops that explicitly contain !\n      if (op === '=') {\n        continue;\n      } // skip = b/c != is explicitly defined\n\n      tokens.comparatorOp += '|\\\\!' + op;\n    }\n  })();\n\n  /**\n   * Make a new query object\n   *\n   * @prop type {Type} The type enum (int) of the query\n   * @prop checks List of checks to make against an ele to test for a match\n   */\n  var newQuery = function newQuery() {\n    return {\n      checks: []\n    };\n  };\n\n  /**\n   * A check type enum-like object.  Uses integer values for fast match() lookup.\n   * The ordering does not matter as long as the ints are unique.\n   */\n  var Type = {\n    /** E.g. node */\n    GROUP: 0,\n    /** A collection of elements */\n    COLLECTION: 1,\n    /** A filter(ele) function */\n    FILTER: 2,\n    /** E.g. [foo > 1] */\n    DATA_COMPARE: 3,\n    /** E.g. [foo] */\n    DATA_EXIST: 4,\n    /** E.g. [?foo] */\n    DATA_BOOL: 5,\n    /** E.g. [[degree > 2]] */\n    META_COMPARE: 6,\n    /** E.g. :selected */\n    STATE: 7,\n    /** E.g. #foo */\n    ID: 8,\n    /** E.g. .foo */\n    CLASS: 9,\n    /** E.g. #foo <-> #bar */\n    UNDIRECTED_EDGE: 10,\n    /** E.g. #foo -> #bar */\n    DIRECTED_EDGE: 11,\n    /** E.g. $#foo -> #bar */\n    NODE_SOURCE: 12,\n    /** E.g. #foo -> $#bar */\n    NODE_TARGET: 13,\n    /** E.g. $#foo <-> #bar */\n    NODE_NEIGHBOR: 14,\n    /** E.g. #foo > #bar */\n    CHILD: 15,\n    /** E.g. #foo #bar */\n    DESCENDANT: 16,\n    /** E.g. $#foo > #bar */\n    PARENT: 17,\n    /** E.g. $#foo #bar */\n    ANCESTOR: 18,\n    /** E.g. #foo > $bar > #baz */\n    COMPOUND_SPLIT: 19,\n    /** Always matches, useful placeholder for subject in `COMPOUND_SPLIT` */\n    TRUE: 20\n  };\n\n  var stateSelectors = [{\n    selector: ':selected',\n    matches: function matches(ele) {\n      return ele.selected();\n    }\n  }, {\n    selector: ':unselected',\n    matches: function matches(ele) {\n      return !ele.selected();\n    }\n  }, {\n    selector: ':selectable',\n    matches: function matches(ele) {\n      return ele.selectable();\n    }\n  }, {\n    selector: ':unselectable',\n    matches: function matches(ele) {\n      return !ele.selectable();\n    }\n  }, {\n    selector: ':locked',\n    matches: function matches(ele) {\n      return ele.locked();\n    }\n  }, {\n    selector: ':unlocked',\n    matches: function matches(ele) {\n      return !ele.locked();\n    }\n  }, {\n    selector: ':visible',\n    matches: function matches(ele) {\n      return ele.visible();\n    }\n  }, {\n    selector: ':hidden',\n    matches: function matches(ele) {\n      return !ele.visible();\n    }\n  }, {\n    selector: ':transparent',\n    matches: function matches(ele) {\n      return ele.transparent();\n    }\n  }, {\n    selector: ':grabbed',\n    matches: function matches(ele) {\n      return ele.grabbed();\n    }\n  }, {\n    selector: ':free',\n    matches: function matches(ele) {\n      return !ele.grabbed();\n    }\n  }, {\n    selector: ':removed',\n    matches: function matches(ele) {\n      return ele.removed();\n    }\n  }, {\n    selector: ':inside',\n    matches: function matches(ele) {\n      return !ele.removed();\n    }\n  }, {\n    selector: ':grabbable',\n    matches: function matches(ele) {\n      return ele.grabbable();\n    }\n  }, {\n    selector: ':ungrabbable',\n    matches: function matches(ele) {\n      return !ele.grabbable();\n    }\n  }, {\n    selector: ':animated',\n    matches: function matches(ele) {\n      return ele.animated();\n    }\n  }, {\n    selector: ':unanimated',\n    matches: function matches(ele) {\n      return !ele.animated();\n    }\n  }, {\n    selector: ':parent',\n    matches: function matches(ele) {\n      return ele.isParent();\n    }\n  }, {\n    selector: ':childless',\n    matches: function matches(ele) {\n      return ele.isChildless();\n    }\n  }, {\n    selector: ':child',\n    matches: function matches(ele) {\n      return ele.isChild();\n    }\n  }, {\n    selector: ':orphan',\n    matches: function matches(ele) {\n      return ele.isOrphan();\n    }\n  }, {\n    selector: ':nonorphan',\n    matches: function matches(ele) {\n      return ele.isChild();\n    }\n  }, {\n    selector: ':compound',\n    matches: function matches(ele) {\n      if (ele.isNode()) {\n        return ele.isParent();\n      } else {\n        return ele.source().isParent() || ele.target().isParent();\n      }\n    }\n  }, {\n    selector: ':loop',\n    matches: function matches(ele) {\n      return ele.isLoop();\n    }\n  }, {\n    selector: ':simple',\n    matches: function matches(ele) {\n      return ele.isSimple();\n    }\n  }, {\n    selector: ':active',\n    matches: function matches(ele) {\n      return ele.active();\n    }\n  }, {\n    selector: ':inactive',\n    matches: function matches(ele) {\n      return !ele.active();\n    }\n  }, {\n    selector: ':backgrounding',\n    matches: function matches(ele) {\n      return ele.backgrounding();\n    }\n  }, {\n    selector: ':nonbackgrounding',\n    matches: function matches(ele) {\n      return !ele.backgrounding();\n    }\n  }].sort(function (a, b) {\n    // n.b. selectors that are starting substrings of others must have the longer ones first\n    return descending(a.selector, b.selector);\n  });\n  var lookup = function () {\n    var selToFn = {};\n    var s;\n    for (var i = 0; i < stateSelectors.length; i++) {\n      s = stateSelectors[i];\n      selToFn[s.selector] = s.matches;\n    }\n    return selToFn;\n  }();\n  var stateSelectorMatches = function stateSelectorMatches(sel, ele) {\n    return lookup[sel](ele);\n  };\n  var stateSelectorRegex = '(' + stateSelectors.map(function (s) {\n    return s.selector;\n  }).join('|') + ')';\n\n  // when a token like a variable has escaped meta characters, we need to clean the backslashes out\n  // so that values get compared properly in Selector.filter()\n  var cleanMetaChars = function cleanMetaChars(str) {\n    return str.replace(new RegExp('\\\\\\\\(' + tokens.metaChar + ')', 'g'), function (match, $1) {\n      return $1;\n    });\n  };\n  var replaceLastQuery = function replaceLastQuery(selector, examiningQuery, replacementQuery) {\n    selector[selector.length - 1] = replacementQuery;\n  };\n\n  // NOTE: add new expression syntax here to have it recognised by the parser;\n  // - a query contains all adjacent (i.e. no separator in between) expressions;\n  // - the current query is stored in selector[i]\n  // - you need to check the query objects in match() for it actually filter properly, but that's pretty straight forward\n  var exprs = [{\n    name: 'group',\n    // just used for identifying when debugging\n    query: true,\n    regex: '(' + tokens.group + ')',\n    populate: function populate(selector, query, _ref) {\n      var _ref2 = _slicedToArray(_ref, 1),\n        group = _ref2[0];\n      query.checks.push({\n        type: Type.GROUP,\n        value: group === '*' ? group : group + 's'\n      });\n    }\n  }, {\n    name: 'state',\n    query: true,\n    regex: stateSelectorRegex,\n    populate: function populate(selector, query, _ref3) {\n      var _ref4 = _slicedToArray(_ref3, 1),\n        state = _ref4[0];\n      query.checks.push({\n        type: Type.STATE,\n        value: state\n      });\n    }\n  }, {\n    name: 'id',\n    query: true,\n    regex: '\\\\#(' + tokens.id + ')',\n    populate: function populate(selector, query, _ref5) {\n      var _ref6 = _slicedToArray(_ref5, 1),\n        id = _ref6[0];\n      query.checks.push({\n        type: Type.ID,\n        value: cleanMetaChars(id)\n      });\n    }\n  }, {\n    name: 'className',\n    query: true,\n    regex: '\\\\.(' + tokens.className + ')',\n    populate: function populate(selector, query, _ref7) {\n      var _ref8 = _slicedToArray(_ref7, 1),\n        className = _ref8[0];\n      query.checks.push({\n        type: Type.CLASS,\n        value: cleanMetaChars(className)\n      });\n    }\n  }, {\n    name: 'dataExists',\n    query: true,\n    regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n    populate: function populate(selector, query, _ref9) {\n      var _ref10 = _slicedToArray(_ref9, 1),\n        variable = _ref10[0];\n      query.checks.push({\n        type: Type.DATA_EXIST,\n        field: cleanMetaChars(variable)\n      });\n    }\n  }, {\n    name: 'dataCompare',\n    query: true,\n    regex: '\\\\[\\\\s*(' + tokens.variable + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.value + ')\\\\s*\\\\]',\n    populate: function populate(selector, query, _ref11) {\n      var _ref12 = _slicedToArray(_ref11, 3),\n        variable = _ref12[0],\n        comparatorOp = _ref12[1],\n        value = _ref12[2];\n      var valueIsString = new RegExp('^' + tokens.string + '$').exec(value) != null;\n      if (valueIsString) {\n        value = value.substring(1, value.length - 1);\n      } else {\n        value = parseFloat(value);\n      }\n      query.checks.push({\n        type: Type.DATA_COMPARE,\n        field: cleanMetaChars(variable),\n        operator: comparatorOp,\n        value: value\n      });\n    }\n  }, {\n    name: 'dataBool',\n    query: true,\n    regex: '\\\\[\\\\s*(' + tokens.boolOp + ')\\\\s*(' + tokens.variable + ')\\\\s*\\\\]',\n    populate: function populate(selector, query, _ref13) {\n      var _ref14 = _slicedToArray(_ref13, 2),\n        boolOp = _ref14[0],\n        variable = _ref14[1];\n      query.checks.push({\n        type: Type.DATA_BOOL,\n        field: cleanMetaChars(variable),\n        operator: boolOp\n      });\n    }\n  }, {\n    name: 'metaCompare',\n    query: true,\n    regex: '\\\\[\\\\[\\\\s*(' + tokens.meta + ')\\\\s*(' + tokens.comparatorOp + ')\\\\s*(' + tokens.number + ')\\\\s*\\\\]\\\\]',\n    populate: function populate(selector, query, _ref15) {\n      var _ref16 = _slicedToArray(_ref15, 3),\n        meta = _ref16[0],\n        comparatorOp = _ref16[1],\n        number = _ref16[2];\n      query.checks.push({\n        type: Type.META_COMPARE,\n        field: cleanMetaChars(meta),\n        operator: comparatorOp,\n        value: parseFloat(number)\n      });\n    }\n  }, {\n    name: 'nextQuery',\n    separator: true,\n    regex: tokens.separator,\n    populate: function populate(selector, query) {\n      var currentSubject = selector.currentSubject;\n      var edgeCount = selector.edgeCount;\n      var compoundCount = selector.compoundCount;\n      var lastQ = selector[selector.length - 1];\n      if (currentSubject != null) {\n        lastQ.subject = currentSubject;\n        selector.currentSubject = null;\n      }\n      lastQ.edgeCount = edgeCount;\n      lastQ.compoundCount = compoundCount;\n      selector.edgeCount = 0;\n      selector.compoundCount = 0;\n\n      // go on to next query\n      var nextQuery = selector[selector.length++] = newQuery();\n      return nextQuery; // this is the new query to be filled by the following exprs\n    }\n  }, {\n    name: 'directedEdge',\n    separator: true,\n    regex: tokens.directedEdge,\n    populate: function populate(selector, query) {\n      if (selector.currentSubject == null) {\n        // undirected edge\n        var edgeQuery = newQuery();\n        var source = query;\n        var target = newQuery();\n        edgeQuery.checks.push({\n          type: Type.DIRECTED_EDGE,\n          source: source,\n          target: target\n        });\n\n        // the query in the selector should be the edge rather than the source\n        replaceLastQuery(selector, query, edgeQuery);\n        selector.edgeCount++;\n\n        // we're now populating the target query with expressions that follow\n        return target;\n      } else {\n        // source/target\n        var srcTgtQ = newQuery();\n        var _source = query;\n        var _target = newQuery();\n        srcTgtQ.checks.push({\n          type: Type.NODE_SOURCE,\n          source: _source,\n          target: _target\n        });\n\n        // the query in the selector should be the neighbourhood rather than the node\n        replaceLastQuery(selector, query, srcTgtQ);\n        selector.edgeCount++;\n        return _target; // now populating the target with the following expressions\n      }\n    }\n  }, {\n    name: 'undirectedEdge',\n    separator: true,\n    regex: tokens.undirectedEdge,\n    populate: function populate(selector, query) {\n      if (selector.currentSubject == null) {\n        // undirected edge\n        var edgeQuery = newQuery();\n        var source = query;\n        var target = newQuery();\n        edgeQuery.checks.push({\n          type: Type.UNDIRECTED_EDGE,\n          nodes: [source, target]\n        });\n\n        // the query in the selector should be the edge rather than the source\n        replaceLastQuery(selector, query, edgeQuery);\n        selector.edgeCount++;\n\n        // we're now populating the target query with expressions that follow\n        return target;\n      } else {\n        // neighbourhood\n        var nhoodQ = newQuery();\n        var node = query;\n        var neighbor = newQuery();\n        nhoodQ.checks.push({\n          type: Type.NODE_NEIGHBOR,\n          node: node,\n          neighbor: neighbor\n        });\n\n        // the query in the selector should be the neighbourhood rather than the node\n        replaceLastQuery(selector, query, nhoodQ);\n        return neighbor; // now populating the neighbor with following expressions\n      }\n    }\n  }, {\n    name: 'child',\n    separator: true,\n    regex: tokens.child,\n    populate: function populate(selector, query) {\n      if (selector.currentSubject == null) {\n        // default: child query\n        var parentChildQuery = newQuery();\n        var child = newQuery();\n        var parent = selector[selector.length - 1];\n        parentChildQuery.checks.push({\n          type: Type.CHILD,\n          parent: parent,\n          child: child\n        });\n\n        // the query in the selector should be the '>' itself\n        replaceLastQuery(selector, query, parentChildQuery);\n        selector.compoundCount++;\n\n        // we're now populating the child query with expressions that follow\n        return child;\n      } else if (selector.currentSubject === query) {\n        // compound split query\n        var compound = newQuery();\n        var left = selector[selector.length - 1];\n        var right = newQuery();\n        var subject = newQuery();\n        var _child = newQuery();\n        var _parent = newQuery();\n\n        // set up the root compound q\n        compound.checks.push({\n          type: Type.COMPOUND_SPLIT,\n          left: left,\n          right: right,\n          subject: subject\n        });\n\n        // populate the subject and replace the q at the old spot (within left) with TRUE\n        subject.checks = query.checks; // take the checks from the left\n        query.checks = [{\n          type: Type.TRUE\n        }]; // checks under left refs the subject implicitly\n\n        // set up the right q\n        _parent.checks.push({\n          type: Type.TRUE\n        }); // parent implicitly refs the subject\n        right.checks.push({\n          type: Type.PARENT,\n          // type is swapped on right side queries\n          parent: _parent,\n          child: _child // empty for now\n        });\n\n        replaceLastQuery(selector, left, compound);\n\n        // update the ref since we moved things around for `query`\n        selector.currentSubject = subject;\n        selector.compoundCount++;\n        return _child; // now populating the right side's child\n      } else {\n        // parent query\n        // info for parent query\n        var _parent2 = newQuery();\n        var _child2 = newQuery();\n        var pcQChecks = [{\n          type: Type.PARENT,\n          parent: _parent2,\n          child: _child2\n        }];\n\n        // the parent-child query takes the place of the query previously being populated\n        _parent2.checks = query.checks; // the previous query contains the checks for the parent\n        query.checks = pcQChecks; // pc query takes over\n\n        selector.compoundCount++;\n        return _child2; // we're now populating the child\n      }\n    }\n  }, {\n    name: 'descendant',\n    separator: true,\n    regex: tokens.descendant,\n    populate: function populate(selector, query) {\n      if (selector.currentSubject == null) {\n        // default: descendant query\n        var ancChQuery = newQuery();\n        var descendant = newQuery();\n        var ancestor = selector[selector.length - 1];\n        ancChQuery.checks.push({\n          type: Type.DESCENDANT,\n          ancestor: ancestor,\n          descendant: descendant\n        });\n\n        // the query in the selector should be the '>' itself\n        replaceLastQuery(selector, query, ancChQuery);\n        selector.compoundCount++;\n\n        // we're now populating the descendant query with expressions that follow\n        return descendant;\n      } else if (selector.currentSubject === query) {\n        // compound split query\n        var compound = newQuery();\n        var left = selector[selector.length - 1];\n        var right = newQuery();\n        var subject = newQuery();\n        var _descendant = newQuery();\n        var _ancestor = newQuery();\n\n        // set up the root compound q\n        compound.checks.push({\n          type: Type.COMPOUND_SPLIT,\n          left: left,\n          right: right,\n          subject: subject\n        });\n\n        // populate the subject and replace the q at the old spot (within left) with TRUE\n        subject.checks = query.checks; // take the checks from the left\n        query.checks = [{\n          type: Type.TRUE\n        }]; // checks under left refs the subject implicitly\n\n        // set up the right q\n        _ancestor.checks.push({\n          type: Type.TRUE\n        }); // ancestor implicitly refs the subject\n        right.checks.push({\n          type: Type.ANCESTOR,\n          // type is swapped on right side queries\n          ancestor: _ancestor,\n          descendant: _descendant // empty for now\n        });\n\n        replaceLastQuery(selector, left, compound);\n\n        // update the ref since we moved things around for `query`\n        selector.currentSubject = subject;\n        selector.compoundCount++;\n        return _descendant; // now populating the right side's descendant\n      } else {\n        // ancestor query\n        // info for parent query\n        var _ancestor2 = newQuery();\n        var _descendant2 = newQuery();\n        var adQChecks = [{\n          type: Type.ANCESTOR,\n          ancestor: _ancestor2,\n          descendant: _descendant2\n        }];\n\n        // the parent-child query takes the place of the query previously being populated\n        _ancestor2.checks = query.checks; // the previous query contains the checks for the parent\n        query.checks = adQChecks; // pc query takes over\n\n        selector.compoundCount++;\n        return _descendant2; // we're now populating the child\n      }\n    }\n  }, {\n    name: 'subject',\n    modifier: true,\n    regex: tokens.subject,\n    populate: function populate(selector, query) {\n      if (selector.currentSubject != null && selector.currentSubject !== query) {\n        warn('Redefinition of subject in selector `' + selector.toString() + '`');\n        return false;\n      }\n      selector.currentSubject = query;\n      var topQ = selector[selector.length - 1];\n      var topChk = topQ.checks[0];\n      var topType = topChk == null ? null : topChk.type;\n      if (topType === Type.DIRECTED_EDGE) {\n        // directed edge with subject on the target\n\n        // change to target node check\n        topChk.type = Type.NODE_TARGET;\n      } else if (topType === Type.UNDIRECTED_EDGE) {\n        // undirected edge with subject on the second node\n\n        // change to neighbor check\n        topChk.type = Type.NODE_NEIGHBOR;\n        topChk.node = topChk.nodes[1]; // second node is subject\n        topChk.neighbor = topChk.nodes[0];\n\n        // clean up unused fields for new type\n        topChk.nodes = null;\n      }\n    }\n  }];\n  exprs.forEach(function (e) {\n    return e.regexObj = new RegExp('^' + e.regex);\n  });\n\n  /**\n   * Of all the expressions, find the first match in the remaining text.\n   * @param {string} remaining The remaining text to parse\n   * @returns The matched expression and the newly remaining text `{ expr, match, name, remaining }`\n   */\n  var consumeExpr = function consumeExpr(remaining) {\n    var expr;\n    var match;\n    var name;\n    for (var j = 0; j < exprs.length; j++) {\n      var e = exprs[j];\n      var n = e.name;\n      var m = remaining.match(e.regexObj);\n      if (m != null) {\n        match = m;\n        expr = e;\n        name = n;\n        var consumed = m[0];\n        remaining = remaining.substring(consumed.length);\n        break; // we've consumed one expr, so we can return now\n      }\n    }\n\n    return {\n      expr: expr,\n      match: match,\n      name: name,\n      remaining: remaining\n    };\n  };\n\n  /**\n   * Consume all the leading whitespace\n   * @param {string} remaining The text to consume\n   * @returns The text with the leading whitespace removed\n   */\n  var consumeWhitespace = function consumeWhitespace(remaining) {\n    var match = remaining.match(/^\\s+/);\n    if (match) {\n      var consumed = match[0];\n      remaining = remaining.substring(consumed.length);\n    }\n    return remaining;\n  };\n\n  /**\n   * Parse the string and store the parsed representation in the Selector.\n   * @param {string} selector The selector string\n   * @returns `true` if the selector was successfully parsed, `false` otherwise\n   */\n  var parse = function parse(selector) {\n    var self = this;\n    var remaining = self.inputText = selector;\n    var currentQuery = self[0] = newQuery();\n    self.length = 1;\n    remaining = consumeWhitespace(remaining); // get rid of leading whitespace\n\n    for (;;) {\n      var exprInfo = consumeExpr(remaining);\n      if (exprInfo.expr == null) {\n        warn('The selector `' + selector + '`is invalid');\n        return false;\n      } else {\n        var args = exprInfo.match.slice(1);\n\n        // let the token populate the selector object in currentQuery\n        var ret = exprInfo.expr.populate(self, currentQuery, args);\n        if (ret === false) {\n          return false; // exit if population failed\n        } else if (ret != null) {\n          currentQuery = ret; // change the current query to be filled if the expr specifies\n        }\n      }\n\n      remaining = exprInfo.remaining;\n\n      // we're done when there's nothing left to parse\n      if (remaining.match(/^\\s*$/)) {\n        break;\n      }\n    }\n    var lastQ = self[self.length - 1];\n    if (self.currentSubject != null) {\n      lastQ.subject = self.currentSubject;\n    }\n    lastQ.edgeCount = self.edgeCount;\n    lastQ.compoundCount = self.compoundCount;\n    for (var i = 0; i < self.length; i++) {\n      var q = self[i];\n\n      // in future, this could potentially be allowed if there were operator precedence and detection of invalid combinations\n      if (q.compoundCount > 0 && q.edgeCount > 0) {\n        warn('The selector `' + selector + '` is invalid because it uses both a compound selector and an edge selector');\n        return false;\n      }\n      if (q.edgeCount > 1) {\n        warn('The selector `' + selector + '` is invalid because it uses multiple edge selectors');\n        return false;\n      } else if (q.edgeCount === 1) {\n        warn('The selector `' + selector + '` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.');\n      }\n    }\n    return true; // success\n  };\n\n  /**\n   * Get the selector represented as a string.  This value uses default formatting,\n   * so things like spacing may differ from the input text passed to the constructor.\n   * @returns {string} The selector string\n   */\n  var toString = function toString() {\n    if (this.toStringCache != null) {\n      return this.toStringCache;\n    }\n    var clean = function clean(obj) {\n      if (obj == null) {\n        return '';\n      } else {\n        return obj;\n      }\n    };\n    var cleanVal = function cleanVal(val) {\n      if (string(val)) {\n        return '\"' + val + '\"';\n      } else {\n        return clean(val);\n      }\n    };\n    var space = function space(val) {\n      return ' ' + val + ' ';\n    };\n    var checkToString = function checkToString(check, subject) {\n      var type = check.type,\n        value = check.value;\n      switch (type) {\n        case Type.GROUP:\n          {\n            var group = clean(value);\n            return group.substring(0, group.length - 1);\n          }\n        case Type.DATA_COMPARE:\n          {\n            var field = check.field,\n              operator = check.operator;\n            return '[' + field + space(clean(operator)) + cleanVal(value) + ']';\n          }\n        case Type.DATA_BOOL:\n          {\n            var _operator = check.operator,\n              _field = check.field;\n            return '[' + clean(_operator) + _field + ']';\n          }\n        case Type.DATA_EXIST:\n          {\n            var _field2 = check.field;\n            return '[' + _field2 + ']';\n          }\n        case Type.META_COMPARE:\n          {\n            var _operator2 = check.operator,\n              _field3 = check.field;\n            return '[[' + _field3 + space(clean(_operator2)) + cleanVal(value) + ']]';\n          }\n        case Type.STATE:\n          {\n            return value;\n          }\n        case Type.ID:\n          {\n            return '#' + value;\n          }\n        case Type.CLASS:\n          {\n            return '.' + value;\n          }\n        case Type.PARENT:\n        case Type.CHILD:\n          {\n            return queryToString(check.parent, subject) + space('>') + queryToString(check.child, subject);\n          }\n        case Type.ANCESTOR:\n        case Type.DESCENDANT:\n          {\n            return queryToString(check.ancestor, subject) + ' ' + queryToString(check.descendant, subject);\n          }\n        case Type.COMPOUND_SPLIT:\n          {\n            var lhs = queryToString(check.left, subject);\n            var sub = queryToString(check.subject, subject);\n            var rhs = queryToString(check.right, subject);\n            return lhs + (lhs.length > 0 ? ' ' : '') + sub + rhs;\n          }\n        case Type.TRUE:\n          {\n            return '';\n          }\n      }\n    };\n    var queryToString = function queryToString(query, subject) {\n      return query.checks.reduce(function (str, chk, i) {\n        return str + (subject === query && i === 0 ? '$' : '') + checkToString(chk, subject);\n      }, '');\n    };\n    var str = '';\n    for (var i = 0; i < this.length; i++) {\n      var query = this[i];\n      str += queryToString(query, query.subject);\n      if (this.length > 1 && i < this.length - 1) {\n        str += ', ';\n      }\n    }\n    this.toStringCache = str;\n    return str;\n  };\n  var parse$1 = {\n    parse: parse,\n    toString: toString\n  };\n\n  var valCmp = function valCmp(fieldVal, operator, value) {\n    var matches;\n    var isFieldStr = string(fieldVal);\n    var isFieldNum = number$1(fieldVal);\n    var isValStr = string(value);\n    var fieldStr, valStr;\n    var caseInsensitive = false;\n    var notExpr = false;\n    var isIneqCmp = false;\n    if (operator.indexOf('!') >= 0) {\n      operator = operator.replace('!', '');\n      notExpr = true;\n    }\n    if (operator.indexOf('@') >= 0) {\n      operator = operator.replace('@', '');\n      caseInsensitive = true;\n    }\n    if (isFieldStr || isValStr || caseInsensitive) {\n      fieldStr = !isFieldStr && !isFieldNum ? '' : '' + fieldVal;\n      valStr = '' + value;\n    }\n\n    // if we're doing a case insensitive comparison, then we're using a STRING comparison\n    // even if we're comparing numbers\n    if (caseInsensitive) {\n      fieldVal = fieldStr = fieldStr.toLowerCase();\n      value = valStr = valStr.toLowerCase();\n    }\n    switch (operator) {\n      case '*=':\n        matches = fieldStr.indexOf(valStr) >= 0;\n        break;\n      case '$=':\n        matches = fieldStr.indexOf(valStr, fieldStr.length - valStr.length) >= 0;\n        break;\n      case '^=':\n        matches = fieldStr.indexOf(valStr) === 0;\n        break;\n      case '=':\n        matches = fieldVal === value;\n        break;\n      case '>':\n        isIneqCmp = true;\n        matches = fieldVal > value;\n        break;\n      case '>=':\n        isIneqCmp = true;\n        matches = fieldVal >= value;\n        break;\n      case '<':\n        isIneqCmp = true;\n        matches = fieldVal < value;\n        break;\n      case '<=':\n        isIneqCmp = true;\n        matches = fieldVal <= value;\n        break;\n      default:\n        matches = false;\n        break;\n    }\n\n    // apply the not op, but null vals for inequalities should always stay non-matching\n    if (notExpr && (fieldVal != null || !isIneqCmp)) {\n      matches = !matches;\n    }\n    return matches;\n  };\n  var boolCmp = function boolCmp(fieldVal, operator) {\n    switch (operator) {\n      case '?':\n        return fieldVal ? true : false;\n      case '!':\n        return fieldVal ? false : true;\n      case '^':\n        return fieldVal === undefined;\n    }\n  };\n  var existCmp = function existCmp(fieldVal) {\n    return fieldVal !== undefined;\n  };\n  var data$1 = function data(ele, field) {\n    return ele.data(field);\n  };\n  var meta = function meta(ele, field) {\n    return ele[field]();\n  };\n\n  /** A lookup of `match(check, ele)` functions by `Type` int */\n  var match = [];\n\n  /**\n   * Returns whether the query matches for the element\n   * @param query The `{ type, value, ... }` query object\n   * @param ele The element to compare against\n  */\n  var matches$1 = function matches(query, ele) {\n    return query.checks.every(function (chk) {\n      return match[chk.type](chk, ele);\n    });\n  };\n  match[Type.GROUP] = function (check, ele) {\n    var group = check.value;\n    return group === '*' || group === ele.group();\n  };\n  match[Type.STATE] = function (check, ele) {\n    var stateSelector = check.value;\n    return stateSelectorMatches(stateSelector, ele);\n  };\n  match[Type.ID] = function (check, ele) {\n    var id = check.value;\n    return ele.id() === id;\n  };\n  match[Type.CLASS] = function (check, ele) {\n    var cls = check.value;\n    return ele.hasClass(cls);\n  };\n  match[Type.META_COMPARE] = function (check, ele) {\n    var field = check.field,\n      operator = check.operator,\n      value = check.value;\n    return valCmp(meta(ele, field), operator, value);\n  };\n  match[Type.DATA_COMPARE] = function (check, ele) {\n    var field = check.field,\n      operator = check.operator,\n      value = check.value;\n    return valCmp(data$1(ele, field), operator, value);\n  };\n  match[Type.DATA_BOOL] = function (check, ele) {\n    var field = check.field,\n      operator = check.operator;\n    return boolCmp(data$1(ele, field), operator);\n  };\n  match[Type.DATA_EXIST] = function (check, ele) {\n    var field = check.field;\n      check.operator;\n    return existCmp(data$1(ele, field));\n  };\n  match[Type.UNDIRECTED_EDGE] = function (check, ele) {\n    var qA = check.nodes[0];\n    var qB = check.nodes[1];\n    var src = ele.source();\n    var tgt = ele.target();\n    return matches$1(qA, src) && matches$1(qB, tgt) || matches$1(qB, src) && matches$1(qA, tgt);\n  };\n  match[Type.NODE_NEIGHBOR] = function (check, ele) {\n    return matches$1(check.node, ele) && ele.neighborhood().some(function (n) {\n      return n.isNode() && matches$1(check.neighbor, n);\n    });\n  };\n  match[Type.DIRECTED_EDGE] = function (check, ele) {\n    return matches$1(check.source, ele.source()) && matches$1(check.target, ele.target());\n  };\n  match[Type.NODE_SOURCE] = function (check, ele) {\n    return matches$1(check.source, ele) && ele.outgoers().some(function (n) {\n      return n.isNode() && matches$1(check.target, n);\n    });\n  };\n  match[Type.NODE_TARGET] = function (check, ele) {\n    return matches$1(check.target, ele) && ele.incomers().some(function (n) {\n      return n.isNode() && matches$1(check.source, n);\n    });\n  };\n  match[Type.CHILD] = function (check, ele) {\n    return matches$1(check.child, ele) && matches$1(check.parent, ele.parent());\n  };\n  match[Type.PARENT] = function (check, ele) {\n    return matches$1(check.parent, ele) && ele.children().some(function (c) {\n      return matches$1(check.child, c);\n    });\n  };\n  match[Type.DESCENDANT] = function (check, ele) {\n    return matches$1(check.descendant, ele) && ele.ancestors().some(function (a) {\n      return matches$1(check.ancestor, a);\n    });\n  };\n  match[Type.ANCESTOR] = function (check, ele) {\n    return matches$1(check.ancestor, ele) && ele.descendants().some(function (d) {\n      return matches$1(check.descendant, d);\n    });\n  };\n  match[Type.COMPOUND_SPLIT] = function (check, ele) {\n    return matches$1(check.subject, ele) && matches$1(check.left, ele) && matches$1(check.right, ele);\n  };\n  match[Type.TRUE] = function () {\n    return true;\n  };\n  match[Type.COLLECTION] = function (check, ele) {\n    var collection = check.value;\n    return collection.has(ele);\n  };\n  match[Type.FILTER] = function (check, ele) {\n    var filter = check.value;\n    return filter(ele);\n  };\n\n  // filter an existing collection\n  var filter = function filter(collection) {\n    var self = this;\n\n    // for 1 id #foo queries, just get the element\n    if (self.length === 1 && self[0].checks.length === 1 && self[0].checks[0].type === Type.ID) {\n      return collection.getElementById(self[0].checks[0].value).collection();\n    }\n    var selectorFunction = function selectorFunction(element) {\n      for (var j = 0; j < self.length; j++) {\n        var query = self[j];\n        if (matches$1(query, element)) {\n          return true;\n        }\n      }\n      return false;\n    };\n    if (self.text() == null) {\n      selectorFunction = function selectorFunction() {\n        return true;\n      };\n    }\n    return collection.filter(selectorFunction);\n  }; // filter\n\n  // does selector match a single element?\n  var matches = function matches(ele) {\n    var self = this;\n    for (var j = 0; j < self.length; j++) {\n      var query = self[j];\n      if (matches$1(query, ele)) {\n        return true;\n      }\n    }\n    return false;\n  }; // matches\n\n  var matching = {\n    matches: matches,\n    filter: filter\n  };\n\n  var Selector = function Selector(selector) {\n    this.inputText = selector;\n    this.currentSubject = null;\n    this.compoundCount = 0;\n    this.edgeCount = 0;\n    this.length = 0;\n    if (selector == null || string(selector) && selector.match(/^\\s*$/)) ; else if (elementOrCollection(selector)) {\n      this.addQuery({\n        checks: [{\n          type: Type.COLLECTION,\n          value: selector.collection()\n        }]\n      });\n    } else if (fn$6(selector)) {\n      this.addQuery({\n        checks: [{\n          type: Type.FILTER,\n          value: selector\n        }]\n      });\n    } else if (string(selector)) {\n      if (!this.parse(selector)) {\n        this.invalid = true;\n      }\n    } else {\n      error('A selector must be created from a string; found ');\n    }\n  };\n  var selfn = Selector.prototype;\n  [parse$1, matching].forEach(function (p) {\n    return extend(selfn, p);\n  });\n  selfn.text = function () {\n    return this.inputText;\n  };\n  selfn.size = function () {\n    return this.length;\n  };\n  selfn.eq = function (i) {\n    return this[i];\n  };\n  selfn.sameText = function (otherSel) {\n    return !this.invalid && !otherSel.invalid && this.text() === otherSel.text();\n  };\n  selfn.addQuery = function (q) {\n    this[this.length++] = q;\n  };\n  selfn.selector = selfn.toString;\n\n  var elesfn$g = {\n    allAre: function allAre(selector) {\n      var selObj = new Selector(selector);\n      return this.every(function (ele) {\n        return selObj.matches(ele);\n      });\n    },\n    is: function is(selector) {\n      var selObj = new Selector(selector);\n      return this.some(function (ele) {\n        return selObj.matches(ele);\n      });\n    },\n    some: function some(fn, thisArg) {\n      for (var i = 0; i < this.length; i++) {\n        var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n        if (ret) {\n          return true;\n        }\n      }\n      return false;\n    },\n    every: function every(fn, thisArg) {\n      for (var i = 0; i < this.length; i++) {\n        var ret = !thisArg ? fn(this[i], i, this) : fn.apply(thisArg, [this[i], i, this]);\n        if (!ret) {\n          return false;\n        }\n      }\n      return true;\n    },\n    same: function same(collection) {\n      // cheap collection ref check\n      if (this === collection) {\n        return true;\n      }\n      collection = this.cy().collection(collection);\n      var thisLength = this.length;\n      var collectionLength = collection.length;\n\n      // cheap length check\n      if (thisLength !== collectionLength) {\n        return false;\n      }\n\n      // cheap element ref check\n      if (thisLength === 1) {\n        return this[0] === collection[0];\n      }\n      return this.every(function (ele) {\n        return collection.hasElementWithId(ele.id());\n      });\n    },\n    anySame: function anySame(collection) {\n      collection = this.cy().collection(collection);\n      return this.some(function (ele) {\n        return collection.hasElementWithId(ele.id());\n      });\n    },\n    allAreNeighbors: function allAreNeighbors(collection) {\n      collection = this.cy().collection(collection);\n      var nhood = this.neighborhood();\n      return collection.every(function (ele) {\n        return nhood.hasElementWithId(ele.id());\n      });\n    },\n    contains: function contains(collection) {\n      collection = this.cy().collection(collection);\n      var self = this;\n      return collection.every(function (ele) {\n        return self.hasElementWithId(ele.id());\n      });\n    }\n  };\n  elesfn$g.allAreNeighbours = elesfn$g.allAreNeighbors;\n  elesfn$g.has = elesfn$g.contains;\n  elesfn$g.equal = elesfn$g.equals = elesfn$g.same;\n\n  var cache = function cache(fn, name) {\n    return function traversalCache(arg1, arg2, arg3, arg4) {\n      var selectorOrEles = arg1;\n      var eles = this;\n      var key;\n      if (selectorOrEles == null) {\n        key = '';\n      } else if (elementOrCollection(selectorOrEles) && selectorOrEles.length === 1) {\n        key = selectorOrEles.id();\n      }\n      if (eles.length === 1 && key) {\n        var _p = eles[0]._private;\n        var tch = _p.traversalCache = _p.traversalCache || {};\n        var ch = tch[name] = tch[name] || [];\n        var hash = hashString(key);\n        var cacheHit = ch[hash];\n        if (cacheHit) {\n          return cacheHit;\n        } else {\n          return ch[hash] = fn.call(eles, arg1, arg2, arg3, arg4);\n        }\n      } else {\n        return fn.call(eles, arg1, arg2, arg3, arg4);\n      }\n    };\n  };\n\n  var elesfn$f = {\n    parent: function parent(selector) {\n      var parents = [];\n\n      // optimisation for single ele call\n      if (this.length === 1) {\n        var parent = this[0]._private.parent;\n        if (parent) {\n          return parent;\n        }\n      }\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var _parent = ele._private.parent;\n        if (_parent) {\n          parents.push(_parent);\n        }\n      }\n      return this.spawn(parents, true).filter(selector);\n    },\n    parents: function parents(selector) {\n      var parents = [];\n      var eles = this.parent();\n      while (eles.nonempty()) {\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          parents.push(ele);\n        }\n        eles = eles.parent();\n      }\n      return this.spawn(parents, true).filter(selector);\n    },\n    commonAncestors: function commonAncestors(selector) {\n      var ancestors;\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var parents = ele.parents();\n        ancestors = ancestors || parents;\n        ancestors = ancestors.intersect(parents); // current list must be common with current ele parents set\n      }\n\n      return ancestors.filter(selector);\n    },\n    orphans: function orphans(selector) {\n      return this.stdFilter(function (ele) {\n        return ele.isOrphan();\n      }).filter(selector);\n    },\n    nonorphans: function nonorphans(selector) {\n      return this.stdFilter(function (ele) {\n        return ele.isChild();\n      }).filter(selector);\n    },\n    children: cache(function (selector) {\n      var children = [];\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var eleChildren = ele._private.children;\n        for (var j = 0; j < eleChildren.length; j++) {\n          children.push(eleChildren[j]);\n        }\n      }\n      return this.spawn(children, true).filter(selector);\n    }, 'children'),\n    siblings: function siblings(selector) {\n      return this.parent().children().not(this).filter(selector);\n    },\n    isParent: function isParent() {\n      var ele = this[0];\n      if (ele) {\n        return ele.isNode() && ele._private.children.length !== 0;\n      }\n    },\n    isChildless: function isChildless() {\n      var ele = this[0];\n      if (ele) {\n        return ele.isNode() && ele._private.children.length === 0;\n      }\n    },\n    isChild: function isChild() {\n      var ele = this[0];\n      if (ele) {\n        return ele.isNode() && ele._private.parent != null;\n      }\n    },\n    isOrphan: function isOrphan() {\n      var ele = this[0];\n      if (ele) {\n        return ele.isNode() && ele._private.parent == null;\n      }\n    },\n    descendants: function descendants(selector) {\n      var elements = [];\n      function add(eles) {\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          elements.push(ele);\n          if (ele.children().nonempty()) {\n            add(ele.children());\n          }\n        }\n      }\n      add(this.children());\n      return this.spawn(elements, true).filter(selector);\n    }\n  };\n  function forEachCompound(eles, fn, includeSelf, recursiveStep) {\n    var q = [];\n    var did = new Set$1();\n    var cy = eles.cy();\n    var hasCompounds = cy.hasCompoundNodes();\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      if (includeSelf) {\n        q.push(ele);\n      } else if (hasCompounds) {\n        recursiveStep(q, did, ele);\n      }\n    }\n    while (q.length > 0) {\n      var _ele = q.shift();\n      fn(_ele);\n      did.add(_ele.id());\n      if (hasCompounds) {\n        recursiveStep(q, did, _ele);\n      }\n    }\n    return eles;\n  }\n  function addChildren(q, did, ele) {\n    if (ele.isParent()) {\n      var children = ele._private.children;\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i];\n        if (!did.has(child.id())) {\n          q.push(child);\n        }\n      }\n    }\n  }\n\n  // very efficient version of eles.add( eles.descendants() ).forEach()\n  // for internal use\n  elesfn$f.forEachDown = function (fn) {\n    var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return forEachCompound(this, fn, includeSelf, addChildren);\n  };\n  function addParent(q, did, ele) {\n    if (ele.isChild()) {\n      var parent = ele._private.parent;\n      if (!did.has(parent.id())) {\n        q.push(parent);\n      }\n    }\n  }\n  elesfn$f.forEachUp = function (fn) {\n    var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return forEachCompound(this, fn, includeSelf, addParent);\n  };\n  function addParentAndChildren(q, did, ele) {\n    addParent(q, did, ele);\n    addChildren(q, did, ele);\n  }\n  elesfn$f.forEachUpAndDown = function (fn) {\n    var includeSelf = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    return forEachCompound(this, fn, includeSelf, addParentAndChildren);\n  };\n\n  // aliases\n  elesfn$f.ancestors = elesfn$f.parents;\n\n  var fn$5, elesfn$e;\n  fn$5 = elesfn$e = {\n    data: define.data({\n      field: 'data',\n      bindingEvent: 'data',\n      allowBinding: true,\n      allowSetting: true,\n      settingEvent: 'data',\n      settingTriggersEvent: true,\n      triggerFnName: 'trigger',\n      allowGetting: true,\n      immutableKeys: {\n        'id': true,\n        'source': true,\n        'target': true,\n        'parent': true\n      },\n      updateStyle: true\n    }),\n    removeData: define.removeData({\n      field: 'data',\n      event: 'data',\n      triggerFnName: 'trigger',\n      triggerEvent: true,\n      immutableKeys: {\n        'id': true,\n        'source': true,\n        'target': true,\n        'parent': true\n      },\n      updateStyle: true\n    }),\n    scratch: define.data({\n      field: 'scratch',\n      bindingEvent: 'scratch',\n      allowBinding: true,\n      allowSetting: true,\n      settingEvent: 'scratch',\n      settingTriggersEvent: true,\n      triggerFnName: 'trigger',\n      allowGetting: true,\n      updateStyle: true\n    }),\n    removeScratch: define.removeData({\n      field: 'scratch',\n      event: 'scratch',\n      triggerFnName: 'trigger',\n      triggerEvent: true,\n      updateStyle: true\n    }),\n    rscratch: define.data({\n      field: 'rscratch',\n      allowBinding: false,\n      allowSetting: true,\n      settingTriggersEvent: false,\n      allowGetting: true\n    }),\n    removeRscratch: define.removeData({\n      field: 'rscratch',\n      triggerEvent: false\n    }),\n    id: function id() {\n      var ele = this[0];\n      if (ele) {\n        return ele._private.data.id;\n      }\n    }\n  };\n\n  // aliases\n  fn$5.attr = fn$5.data;\n  fn$5.removeAttr = fn$5.removeData;\n  var data = elesfn$e;\n\n  var elesfn$d = {};\n  function defineDegreeFunction(callback) {\n    return function (includeLoops) {\n      var self = this;\n      if (includeLoops === undefined) {\n        includeLoops = true;\n      }\n      if (self.length === 0) {\n        return;\n      }\n      if (self.isNode() && !self.removed()) {\n        var degree = 0;\n        var node = self[0];\n        var connectedEdges = node._private.edges;\n        for (var i = 0; i < connectedEdges.length; i++) {\n          var edge = connectedEdges[i];\n          if (!includeLoops && edge.isLoop()) {\n            continue;\n          }\n          degree += callback(node, edge);\n        }\n        return degree;\n      } else {\n        return;\n      }\n    };\n  }\n  extend(elesfn$d, {\n    degree: defineDegreeFunction(function (node, edge) {\n      if (edge.source().same(edge.target())) {\n        return 2;\n      } else {\n        return 1;\n      }\n    }),\n    indegree: defineDegreeFunction(function (node, edge) {\n      if (edge.target().same(node)) {\n        return 1;\n      } else {\n        return 0;\n      }\n    }),\n    outdegree: defineDegreeFunction(function (node, edge) {\n      if (edge.source().same(node)) {\n        return 1;\n      } else {\n        return 0;\n      }\n    })\n  });\n  function defineDegreeBoundsFunction(degreeFn, callback) {\n    return function (includeLoops) {\n      var ret;\n      var nodes = this.nodes();\n      for (var i = 0; i < nodes.length; i++) {\n        var ele = nodes[i];\n        var degree = ele[degreeFn](includeLoops);\n        if (degree !== undefined && (ret === undefined || callback(degree, ret))) {\n          ret = degree;\n        }\n      }\n      return ret;\n    };\n  }\n  extend(elesfn$d, {\n    minDegree: defineDegreeBoundsFunction('degree', function (degree, min) {\n      return degree < min;\n    }),\n    maxDegree: defineDegreeBoundsFunction('degree', function (degree, max) {\n      return degree > max;\n    }),\n    minIndegree: defineDegreeBoundsFunction('indegree', function (degree, min) {\n      return degree < min;\n    }),\n    maxIndegree: defineDegreeBoundsFunction('indegree', function (degree, max) {\n      return degree > max;\n    }),\n    minOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, min) {\n      return degree < min;\n    }),\n    maxOutdegree: defineDegreeBoundsFunction('outdegree', function (degree, max) {\n      return degree > max;\n    })\n  });\n  extend(elesfn$d, {\n    totalDegree: function totalDegree(includeLoops) {\n      var total = 0;\n      var nodes = this.nodes();\n      for (var i = 0; i < nodes.length; i++) {\n        total += nodes[i].degree(includeLoops);\n      }\n      return total;\n    }\n  });\n\n  var fn$4, elesfn$c;\n  var beforePositionSet = function beforePositionSet(eles, newPos, silent) {\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      if (!ele.locked()) {\n        var oldPos = ele._private.position;\n        var delta = {\n          x: newPos.x != null ? newPos.x - oldPos.x : 0,\n          y: newPos.y != null ? newPos.y - oldPos.y : 0\n        };\n        if (ele.isParent() && !(delta.x === 0 && delta.y === 0)) {\n          ele.children().shift(delta, silent);\n        }\n        ele.dirtyBoundingBoxCache();\n      }\n    }\n  };\n  var positionDef = {\n    field: 'position',\n    bindingEvent: 'position',\n    allowBinding: true,\n    allowSetting: true,\n    settingEvent: 'position',\n    settingTriggersEvent: true,\n    triggerFnName: 'emitAndNotify',\n    allowGetting: true,\n    validKeys: ['x', 'y'],\n    beforeGet: function beforeGet(ele) {\n      ele.updateCompoundBounds();\n    },\n    beforeSet: function beforeSet(eles, newPos) {\n      beforePositionSet(eles, newPos, false);\n    },\n    onSet: function onSet(eles) {\n      eles.dirtyCompoundBoundsCache();\n    },\n    canSet: function canSet(ele) {\n      return !ele.locked();\n    }\n  };\n  fn$4 = elesfn$c = {\n    position: define.data(positionDef),\n    // position but no notification to renderer\n    silentPosition: define.data(extend({}, positionDef, {\n      allowBinding: false,\n      allowSetting: true,\n      settingTriggersEvent: false,\n      allowGetting: false,\n      beforeSet: function beforeSet(eles, newPos) {\n        beforePositionSet(eles, newPos, true);\n      },\n      onSet: function onSet(eles) {\n        eles.dirtyCompoundBoundsCache();\n      }\n    })),\n    positions: function positions(pos, silent) {\n      if (plainObject(pos)) {\n        if (silent) {\n          this.silentPosition(pos);\n        } else {\n          this.position(pos);\n        }\n      } else if (fn$6(pos)) {\n        var _fn = pos;\n        var cy = this.cy();\n        cy.startBatch();\n        for (var i = 0; i < this.length; i++) {\n          var ele = this[i];\n          var _pos = void 0;\n          if (_pos = _fn(ele, i)) {\n            if (silent) {\n              ele.silentPosition(_pos);\n            } else {\n              ele.position(_pos);\n            }\n          }\n        }\n        cy.endBatch();\n      }\n      return this; // chaining\n    },\n\n    silentPositions: function silentPositions(pos) {\n      return this.positions(pos, true);\n    },\n    shift: function shift(dim, val, silent) {\n      var delta;\n      if (plainObject(dim)) {\n        delta = {\n          x: number$1(dim.x) ? dim.x : 0,\n          y: number$1(dim.y) ? dim.y : 0\n        };\n        silent = val;\n      } else if (string(dim) && number$1(val)) {\n        delta = {\n          x: 0,\n          y: 0\n        };\n        delta[dim] = val;\n      }\n      if (delta != null) {\n        var cy = this.cy();\n        cy.startBatch();\n        for (var i = 0; i < this.length; i++) {\n          var ele = this[i];\n\n          // exclude any node that is a descendant of the calling collection\n          if (cy.hasCompoundNodes() && ele.isChild() && ele.ancestors().anySame(this)) {\n            continue;\n          }\n          var pos = ele.position();\n          var newPos = {\n            x: pos.x + delta.x,\n            y: pos.y + delta.y\n          };\n          if (silent) {\n            ele.silentPosition(newPos);\n          } else {\n            ele.position(newPos);\n          }\n        }\n        cy.endBatch();\n      }\n      return this;\n    },\n    silentShift: function silentShift(dim, val) {\n      if (plainObject(dim)) {\n        this.shift(dim, true);\n      } else if (string(dim) && number$1(val)) {\n        this.shift(dim, val, true);\n      }\n      return this;\n    },\n    // get/set the rendered (i.e. on screen) positon of the element\n    renderedPosition: function renderedPosition(dim, val) {\n      var ele = this[0];\n      var cy = this.cy();\n      var zoom = cy.zoom();\n      var pan = cy.pan();\n      var rpos = plainObject(dim) ? dim : undefined;\n      var setting = rpos !== undefined || val !== undefined && string(dim);\n      if (ele && ele.isNode()) {\n        // must have an element and must be a node to return position\n        if (setting) {\n          for (var i = 0; i < this.length; i++) {\n            var _ele = this[i];\n            if (val !== undefined) {\n              // set one dimension\n              _ele.position(dim, (val - pan[dim]) / zoom);\n            } else if (rpos !== undefined) {\n              // set whole position\n              _ele.position(renderedToModelPosition(rpos, zoom, pan));\n            }\n          }\n        } else {\n          // getting\n          var pos = ele.position();\n          rpos = modelToRenderedPosition(pos, zoom, pan);\n          if (dim === undefined) {\n            // then return the whole rendered position\n            return rpos;\n          } else {\n            // then return the specified dimension\n            return rpos[dim];\n          }\n        }\n      } else if (!setting) {\n        return undefined; // for empty collection case\n      }\n\n      return this; // chaining\n    },\n\n    // get/set the position relative to the parent\n    relativePosition: function relativePosition(dim, val) {\n      var ele = this[0];\n      var cy = this.cy();\n      var ppos = plainObject(dim) ? dim : undefined;\n      var setting = ppos !== undefined || val !== undefined && string(dim);\n      var hasCompoundNodes = cy.hasCompoundNodes();\n      if (ele && ele.isNode()) {\n        // must have an element and must be a node to return position\n        if (setting) {\n          for (var i = 0; i < this.length; i++) {\n            var _ele2 = this[i];\n            var parent = hasCompoundNodes ? _ele2.parent() : null;\n            var hasParent = parent && parent.length > 0;\n            var relativeToParent = hasParent;\n            if (hasParent) {\n              parent = parent[0];\n            }\n            var origin = relativeToParent ? parent.position() : {\n              x: 0,\n              y: 0\n            };\n            if (val !== undefined) {\n              // set one dimension\n              _ele2.position(dim, val + origin[dim]);\n            } else if (ppos !== undefined) {\n              // set whole position\n              _ele2.position({\n                x: ppos.x + origin.x,\n                y: ppos.y + origin.y\n              });\n            }\n          }\n        } else {\n          // getting\n          var pos = ele.position();\n          var _parent = hasCompoundNodes ? ele.parent() : null;\n          var _hasParent = _parent && _parent.length > 0;\n          var _relativeToParent = _hasParent;\n          if (_hasParent) {\n            _parent = _parent[0];\n          }\n          var _origin = _relativeToParent ? _parent.position() : {\n            x: 0,\n            y: 0\n          };\n          ppos = {\n            x: pos.x - _origin.x,\n            y: pos.y - _origin.y\n          };\n          if (dim === undefined) {\n            // then return the whole rendered position\n            return ppos;\n          } else {\n            // then return the specified dimension\n            return ppos[dim];\n          }\n        }\n      } else if (!setting) {\n        return undefined; // for empty collection case\n      }\n\n      return this; // chaining\n    }\n  };\n\n  // aliases\n  fn$4.modelPosition = fn$4.point = fn$4.position;\n  fn$4.modelPositions = fn$4.points = fn$4.positions;\n  fn$4.renderedPoint = fn$4.renderedPosition;\n  fn$4.relativePoint = fn$4.relativePosition;\n  var position = elesfn$c;\n\n  var fn$3, elesfn$b;\n  fn$3 = elesfn$b = {};\n  elesfn$b.renderedBoundingBox = function (options) {\n    var bb = this.boundingBox(options);\n    var cy = this.cy();\n    var zoom = cy.zoom();\n    var pan = cy.pan();\n    var x1 = bb.x1 * zoom + pan.x;\n    var x2 = bb.x2 * zoom + pan.x;\n    var y1 = bb.y1 * zoom + pan.y;\n    var y2 = bb.y2 * zoom + pan.y;\n    return {\n      x1: x1,\n      x2: x2,\n      y1: y1,\n      y2: y2,\n      w: x2 - x1,\n      h: y2 - y1\n    };\n  };\n  elesfn$b.dirtyCompoundBoundsCache = function () {\n    var silent = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var cy = this.cy();\n    if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n      return this;\n    }\n    this.forEachUp(function (ele) {\n      if (ele.isParent()) {\n        var _p = ele._private;\n        _p.compoundBoundsClean = false;\n        _p.bbCache = null;\n        if (!silent) {\n          ele.emitAndNotify('bounds');\n        }\n      }\n    });\n    return this;\n  };\n  elesfn$b.updateCompoundBounds = function () {\n    var force = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var cy = this.cy();\n\n    // not possible to do on non-compound graphs or with the style disabled\n    if (!cy.styleEnabled() || !cy.hasCompoundNodes()) {\n      return this;\n    }\n\n    // save cycles when batching -- but bounds will be stale (or not exist yet)\n    if (!force && cy.batching()) {\n      return this;\n    }\n    function update(parent) {\n      if (!parent.isParent()) {\n        return;\n      }\n      var _p = parent._private;\n      var children = parent.children();\n      var includeLabels = parent.pstyle('compound-sizing-wrt-labels').value === 'include';\n      var min = {\n        width: {\n          val: parent.pstyle('min-width').pfValue,\n          left: parent.pstyle('min-width-bias-left'),\n          right: parent.pstyle('min-width-bias-right')\n        },\n        height: {\n          val: parent.pstyle('min-height').pfValue,\n          top: parent.pstyle('min-height-bias-top'),\n          bottom: parent.pstyle('min-height-bias-bottom')\n        }\n      };\n      var bb = children.boundingBox({\n        includeLabels: includeLabels,\n        includeOverlays: false,\n        // updating the compound bounds happens outside of the regular\n        // cache cycle (i.e. before fired events)\n        useCache: false\n      });\n      var pos = _p.position;\n\n      // if children take up zero area then keep position and fall back on stylesheet w/h\n      if (bb.w === 0 || bb.h === 0) {\n        bb = {\n          w: parent.pstyle('width').pfValue,\n          h: parent.pstyle('height').pfValue\n        };\n        bb.x1 = pos.x - bb.w / 2;\n        bb.x2 = pos.x + bb.w / 2;\n        bb.y1 = pos.y - bb.h / 2;\n        bb.y2 = pos.y + bb.h / 2;\n      }\n      function computeBiasValues(propDiff, propBias, propBiasComplement) {\n        var biasDiff = 0;\n        var biasComplementDiff = 0;\n        var biasTotal = propBias + propBiasComplement;\n        if (propDiff > 0 && biasTotal > 0) {\n          biasDiff = propBias / biasTotal * propDiff;\n          biasComplementDiff = propBiasComplement / biasTotal * propDiff;\n        }\n        return {\n          biasDiff: biasDiff,\n          biasComplementDiff: biasComplementDiff\n        };\n      }\n      function computePaddingValues(width, height, paddingObject, relativeTo) {\n        // Assuming percentage is number from 0 to 1\n        if (paddingObject.units === '%') {\n          switch (relativeTo) {\n            case 'width':\n              return width > 0 ? paddingObject.pfValue * width : 0;\n            case 'height':\n              return height > 0 ? paddingObject.pfValue * height : 0;\n            case 'average':\n              return width > 0 && height > 0 ? paddingObject.pfValue * (width + height) / 2 : 0;\n            case 'min':\n              return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * height : paddingObject.pfValue * width : 0;\n            case 'max':\n              return width > 0 && height > 0 ? width > height ? paddingObject.pfValue * width : paddingObject.pfValue * height : 0;\n            default:\n              return 0;\n          }\n        } else if (paddingObject.units === 'px') {\n          return paddingObject.pfValue;\n        } else {\n          return 0;\n        }\n      }\n      var leftVal = min.width.left.value;\n      if (min.width.left.units === 'px' && min.width.val > 0) {\n        leftVal = leftVal * 100 / min.width.val;\n      }\n      var rightVal = min.width.right.value;\n      if (min.width.right.units === 'px' && min.width.val > 0) {\n        rightVal = rightVal * 100 / min.width.val;\n      }\n      var topVal = min.height.top.value;\n      if (min.height.top.units === 'px' && min.height.val > 0) {\n        topVal = topVal * 100 / min.height.val;\n      }\n      var bottomVal = min.height.bottom.value;\n      if (min.height.bottom.units === 'px' && min.height.val > 0) {\n        bottomVal = bottomVal * 100 / min.height.val;\n      }\n      var widthBiasDiffs = computeBiasValues(min.width.val - bb.w, leftVal, rightVal);\n      var diffLeft = widthBiasDiffs.biasDiff;\n      var diffRight = widthBiasDiffs.biasComplementDiff;\n      var heightBiasDiffs = computeBiasValues(min.height.val - bb.h, topVal, bottomVal);\n      var diffTop = heightBiasDiffs.biasDiff;\n      var diffBottom = heightBiasDiffs.biasComplementDiff;\n      _p.autoPadding = computePaddingValues(bb.w, bb.h, parent.pstyle('padding'), parent.pstyle('padding-relative-to').value);\n      _p.autoWidth = Math.max(bb.w, min.width.val);\n      pos.x = (-diffLeft + bb.x1 + bb.x2 + diffRight) / 2;\n      _p.autoHeight = Math.max(bb.h, min.height.val);\n      pos.y = (-diffTop + bb.y1 + bb.y2 + diffBottom) / 2;\n    }\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var _p = ele._private;\n      if (!_p.compoundBoundsClean || force) {\n        update(ele);\n        if (!cy.batching()) {\n          _p.compoundBoundsClean = true;\n        }\n      }\n    }\n    return this;\n  };\n  var noninf = function noninf(x) {\n    if (x === Infinity || x === -Infinity) {\n      return 0;\n    }\n    return x;\n  };\n  var updateBounds = function updateBounds(b, x1, y1, x2, y2) {\n    // don't update with zero area boxes\n    if (x2 - x1 === 0 || y2 - y1 === 0) {\n      return;\n    }\n\n    // don't update with null dim\n    if (x1 == null || y1 == null || x2 == null || y2 == null) {\n      return;\n    }\n    b.x1 = x1 < b.x1 ? x1 : b.x1;\n    b.x2 = x2 > b.x2 ? x2 : b.x2;\n    b.y1 = y1 < b.y1 ? y1 : b.y1;\n    b.y2 = y2 > b.y2 ? y2 : b.y2;\n    b.w = b.x2 - b.x1;\n    b.h = b.y2 - b.y1;\n  };\n  var updateBoundsFromBox = function updateBoundsFromBox(b, b2) {\n    if (b2 == null) {\n      return b;\n    }\n    return updateBounds(b, b2.x1, b2.y1, b2.x2, b2.y2);\n  };\n  var prefixedProperty = function prefixedProperty(obj, field, prefix) {\n    return getPrefixedProperty(obj, field, prefix);\n  };\n  var updateBoundsFromArrow = function updateBoundsFromArrow(bounds, ele, prefix) {\n    if (ele.cy().headless()) {\n      return;\n    }\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n    var halfArW = rstyle.arrowWidth / 2;\n    var arrowType = ele.pstyle(prefix + '-arrow-shape').value;\n    var x;\n    var y;\n    if (arrowType !== 'none') {\n      if (prefix === 'source') {\n        x = rstyle.srcX;\n        y = rstyle.srcY;\n      } else if (prefix === 'target') {\n        x = rstyle.tgtX;\n        y = rstyle.tgtY;\n      } else {\n        x = rstyle.midX;\n        y = rstyle.midY;\n      }\n\n      // always store the individual arrow bounds\n      var bbs = _p.arrowBounds = _p.arrowBounds || {};\n      var bb = bbs[prefix] = bbs[prefix] || {};\n      bb.x1 = x - halfArW;\n      bb.y1 = y - halfArW;\n      bb.x2 = x + halfArW;\n      bb.y2 = y + halfArW;\n      bb.w = bb.x2 - bb.x1;\n      bb.h = bb.y2 - bb.y1;\n      expandBoundingBox(bb, 1);\n      updateBounds(bounds, bb.x1, bb.y1, bb.x2, bb.y2);\n    }\n  };\n  var updateBoundsFromLabel = function updateBoundsFromLabel(bounds, ele, prefix) {\n    if (ele.cy().headless()) {\n      return;\n    }\n    var prefixDash;\n    if (prefix) {\n      prefixDash = prefix + '-';\n    } else {\n      prefixDash = '';\n    }\n    var _p = ele._private;\n    var rstyle = _p.rstyle;\n    var label = ele.pstyle(prefixDash + 'label').strValue;\n    if (label) {\n      var halign = ele.pstyle('text-halign');\n      var valign = ele.pstyle('text-valign');\n      var labelWidth = prefixedProperty(rstyle, 'labelWidth', prefix);\n      var labelHeight = prefixedProperty(rstyle, 'labelHeight', prefix);\n      var labelX = prefixedProperty(rstyle, 'labelX', prefix);\n      var labelY = prefixedProperty(rstyle, 'labelY', prefix);\n      var marginX = ele.pstyle(prefixDash + 'text-margin-x').pfValue;\n      var marginY = ele.pstyle(prefixDash + 'text-margin-y').pfValue;\n      var isEdge = ele.isEdge();\n      var rotation = ele.pstyle(prefixDash + 'text-rotation');\n      var outlineWidth = ele.pstyle('text-outline-width').pfValue;\n      var borderWidth = ele.pstyle('text-border-width').pfValue;\n      var halfBorderWidth = borderWidth / 2;\n      var padding = ele.pstyle('text-background-padding').pfValue;\n      var marginOfError = 2; // expand to work around browser dimension inaccuracies\n\n      var lh = labelHeight;\n      var lw = labelWidth;\n      var lw_2 = lw / 2;\n      var lh_2 = lh / 2;\n      var lx1, lx2, ly1, ly2;\n      if (isEdge) {\n        lx1 = labelX - lw_2;\n        lx2 = labelX + lw_2;\n        ly1 = labelY - lh_2;\n        ly2 = labelY + lh_2;\n      } else {\n        switch (halign.value) {\n          case 'left':\n            lx1 = labelX - lw;\n            lx2 = labelX;\n            break;\n          case 'center':\n            lx1 = labelX - lw_2;\n            lx2 = labelX + lw_2;\n            break;\n          case 'right':\n            lx1 = labelX;\n            lx2 = labelX + lw;\n            break;\n        }\n        switch (valign.value) {\n          case 'top':\n            ly1 = labelY - lh;\n            ly2 = labelY;\n            break;\n          case 'center':\n            ly1 = labelY - lh_2;\n            ly2 = labelY + lh_2;\n            break;\n          case 'bottom':\n            ly1 = labelY;\n            ly2 = labelY + lh;\n            break;\n        }\n      }\n\n      // shift by margin and expand by outline and border\n      lx1 += marginX - Math.max(outlineWidth, halfBorderWidth) - padding - marginOfError;\n      lx2 += marginX + Math.max(outlineWidth, halfBorderWidth) + padding + marginOfError;\n      ly1 += marginY - Math.max(outlineWidth, halfBorderWidth) - padding - marginOfError;\n      ly2 += marginY + Math.max(outlineWidth, halfBorderWidth) + padding + marginOfError;\n\n      // always store the unrotated label bounds separately\n      var bbPrefix = prefix || 'main';\n      var bbs = _p.labelBounds;\n      var bb = bbs[bbPrefix] = bbs[bbPrefix] || {};\n      bb.x1 = lx1;\n      bb.y1 = ly1;\n      bb.x2 = lx2;\n      bb.y2 = ly2;\n      bb.w = lx2 - lx1;\n      bb.h = ly2 - ly1;\n      var isAutorotate = isEdge && rotation.strValue === 'autorotate';\n      var isPfValue = rotation.pfValue != null && rotation.pfValue !== 0;\n      if (isAutorotate || isPfValue) {\n        var theta = isAutorotate ? prefixedProperty(_p.rstyle, 'labelAngle', prefix) : rotation.pfValue;\n        var cos = Math.cos(theta);\n        var sin = Math.sin(theta);\n\n        // rotation point (default value for center-center)\n        var xo = (lx1 + lx2) / 2;\n        var yo = (ly1 + ly2) / 2;\n        if (!isEdge) {\n          switch (halign.value) {\n            case 'left':\n              xo = lx2;\n              break;\n            case 'right':\n              xo = lx1;\n              break;\n          }\n          switch (valign.value) {\n            case 'top':\n              yo = ly2;\n              break;\n            case 'bottom':\n              yo = ly1;\n              break;\n          }\n        }\n        var rotate = function rotate(x, y) {\n          x = x - xo;\n          y = y - yo;\n          return {\n            x: x * cos - y * sin + xo,\n            y: x * sin + y * cos + yo\n          };\n        };\n        var px1y1 = rotate(lx1, ly1);\n        var px1y2 = rotate(lx1, ly2);\n        var px2y1 = rotate(lx2, ly1);\n        var px2y2 = rotate(lx2, ly2);\n        lx1 = Math.min(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n        lx2 = Math.max(px1y1.x, px1y2.x, px2y1.x, px2y2.x);\n        ly1 = Math.min(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n        ly2 = Math.max(px1y1.y, px1y2.y, px2y1.y, px2y2.y);\n      }\n      var bbPrefixRot = bbPrefix + 'Rot';\n      var bbRot = bbs[bbPrefixRot] = bbs[bbPrefixRot] || {};\n      bbRot.x1 = lx1;\n      bbRot.y1 = ly1;\n      bbRot.x2 = lx2;\n      bbRot.y2 = ly2;\n      bbRot.w = lx2 - lx1;\n      bbRot.h = ly2 - ly1;\n      updateBounds(bounds, lx1, ly1, lx2, ly2);\n      updateBounds(_p.labelBounds.all, lx1, ly1, lx2, ly2);\n    }\n    return bounds;\n  };\n\n  // get the bounding box of the elements (in raw model position)\n  var boundingBoxImpl = function boundingBoxImpl(ele, options) {\n    var cy = ele._private.cy;\n    var styleEnabled = cy.styleEnabled();\n    var headless = cy.headless();\n    var bounds = makeBoundingBox();\n    var _p = ele._private;\n    var isNode = ele.isNode();\n    var isEdge = ele.isEdge();\n    var ex1, ex2, ey1, ey2; // extrema of body / lines\n    var x, y; // node pos\n    var rstyle = _p.rstyle;\n    var manualExpansion = isNode && styleEnabled ? ele.pstyle('bounds-expansion').pfValue : [0];\n\n    // must use `display` prop only, as reading `compound.width()` causes recursion\n    // (other factors like width values will be considered later in this function anyway)\n    var isDisplayed = function isDisplayed(ele) {\n      return ele.pstyle('display').value !== 'none';\n    };\n    var displayed = !styleEnabled || isDisplayed(ele)\n\n    // must take into account connected nodes b/c of implicit edge hiding on display:none node\n    && (!isEdge || isDisplayed(ele.source()) && isDisplayed(ele.target()));\n    if (displayed) {\n      // displayed suffices, since we will find zero area eles anyway\n      var overlayOpacity = 0;\n      var overlayPadding = 0;\n      if (styleEnabled && options.includeOverlays) {\n        overlayOpacity = ele.pstyle('overlay-opacity').value;\n        if (overlayOpacity !== 0) {\n          overlayPadding = ele.pstyle('overlay-padding').value;\n        }\n      }\n      var underlayOpacity = 0;\n      var underlayPadding = 0;\n      if (styleEnabled && options.includeUnderlays) {\n        underlayOpacity = ele.pstyle('underlay-opacity').value;\n        if (underlayOpacity !== 0) {\n          underlayPadding = ele.pstyle('underlay-padding').value;\n        }\n      }\n      var padding = Math.max(overlayPadding, underlayPadding);\n      var w = 0;\n      var wHalf = 0;\n      if (styleEnabled) {\n        w = ele.pstyle('width').pfValue;\n        wHalf = w / 2;\n      }\n      if (isNode && options.includeNodes) {\n        var pos = ele.position();\n        x = pos.x;\n        y = pos.y;\n        var _w = ele.outerWidth();\n        var halfW = _w / 2;\n        var h = ele.outerHeight();\n        var halfH = h / 2;\n\n        // handle node dimensions\n        /////////////////////////\n\n        ex1 = x - halfW;\n        ex2 = x + halfW;\n        ey1 = y - halfH;\n        ey2 = y + halfH;\n        updateBounds(bounds, ex1, ey1, ex2, ey2);\n      } else if (isEdge && options.includeEdges) {\n        if (styleEnabled && !headless) {\n          var curveStyle = ele.pstyle('curve-style').strValue;\n\n          // handle edge dimensions (rough box estimate)\n          //////////////////////////////////////////////\n\n          ex1 = Math.min(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n          ex2 = Math.max(rstyle.srcX, rstyle.midX, rstyle.tgtX);\n          ey1 = Math.min(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n          ey2 = Math.max(rstyle.srcY, rstyle.midY, rstyle.tgtY);\n\n          // take into account edge width\n          ex1 -= wHalf;\n          ex2 += wHalf;\n          ey1 -= wHalf;\n          ey2 += wHalf;\n          updateBounds(bounds, ex1, ey1, ex2, ey2);\n\n          // precise edges\n          ////////////////\n\n          if (curveStyle === 'haystack') {\n            var hpts = rstyle.haystackPts;\n            if (hpts && hpts.length === 2) {\n              ex1 = hpts[0].x;\n              ey1 = hpts[0].y;\n              ex2 = hpts[1].x;\n              ey2 = hpts[1].y;\n              if (ex1 > ex2) {\n                var temp = ex1;\n                ex1 = ex2;\n                ex2 = temp;\n              }\n              if (ey1 > ey2) {\n                var _temp = ey1;\n                ey1 = ey2;\n                ey2 = _temp;\n              }\n              updateBounds(bounds, ex1 - wHalf, ey1 - wHalf, ex2 + wHalf, ey2 + wHalf);\n            }\n          } else if (curveStyle === 'bezier' || curveStyle === 'unbundled-bezier' || curveStyle === 'segments' || curveStyle === 'taxi') {\n            var pts;\n            switch (curveStyle) {\n              case 'bezier':\n              case 'unbundled-bezier':\n                pts = rstyle.bezierPts;\n                break;\n              case 'segments':\n              case 'taxi':\n                pts = rstyle.linePts;\n                break;\n            }\n            if (pts != null) {\n              for (var j = 0; j < pts.length; j++) {\n                var pt = pts[j];\n                ex1 = pt.x - wHalf;\n                ex2 = pt.x + wHalf;\n                ey1 = pt.y - wHalf;\n                ey2 = pt.y + wHalf;\n                updateBounds(bounds, ex1, ey1, ex2, ey2);\n              }\n            }\n          } // bezier-like or segment-like edge\n        } else {\n          // headless or style disabled\n\n          // fallback on source and target positions\n          //////////////////////////////////////////\n\n          var n1 = ele.source();\n          var n1pos = n1.position();\n          var n2 = ele.target();\n          var n2pos = n2.position();\n          ex1 = n1pos.x;\n          ex2 = n2pos.x;\n          ey1 = n1pos.y;\n          ey2 = n2pos.y;\n          if (ex1 > ex2) {\n            var _temp2 = ex1;\n            ex1 = ex2;\n            ex2 = _temp2;\n          }\n          if (ey1 > ey2) {\n            var _temp3 = ey1;\n            ey1 = ey2;\n            ey2 = _temp3;\n          }\n\n          // take into account edge width\n          ex1 -= wHalf;\n          ex2 += wHalf;\n          ey1 -= wHalf;\n          ey2 += wHalf;\n          updateBounds(bounds, ex1, ey1, ex2, ey2);\n        } // headless or style disabled\n      } // edges\n\n      // handle edge arrow size\n      /////////////////////////\n\n      if (styleEnabled && options.includeEdges && isEdge) {\n        updateBoundsFromArrow(bounds, ele, 'mid-source');\n        updateBoundsFromArrow(bounds, ele, 'mid-target');\n        updateBoundsFromArrow(bounds, ele, 'source');\n        updateBoundsFromArrow(bounds, ele, 'target');\n      }\n\n      // ghost\n      ////////\n\n      if (styleEnabled) {\n        var ghost = ele.pstyle('ghost').value === 'yes';\n        if (ghost) {\n          var gx = ele.pstyle('ghost-offset-x').pfValue;\n          var gy = ele.pstyle('ghost-offset-y').pfValue;\n          updateBounds(bounds, bounds.x1 + gx, bounds.y1 + gy, bounds.x2 + gx, bounds.y2 + gy);\n        }\n      }\n\n      // always store the body bounds separately from the labels\n      var bbBody = _p.bodyBounds = _p.bodyBounds || {};\n      assignBoundingBox(bbBody, bounds);\n      expandBoundingBoxSides(bbBody, manualExpansion);\n      expandBoundingBox(bbBody, 1); // expand to work around browser dimension inaccuracies\n\n      // overlay\n      //////////\n\n      if (styleEnabled) {\n        ex1 = bounds.x1;\n        ex2 = bounds.x2;\n        ey1 = bounds.y1;\n        ey2 = bounds.y2;\n        updateBounds(bounds, ex1 - padding, ey1 - padding, ex2 + padding, ey2 + padding);\n      }\n\n      // always store the body bounds separately from the labels\n      var bbOverlay = _p.overlayBounds = _p.overlayBounds || {};\n      assignBoundingBox(bbOverlay, bounds);\n      expandBoundingBoxSides(bbOverlay, manualExpansion);\n      expandBoundingBox(bbOverlay, 1); // expand to work around browser dimension inaccuracies\n\n      // handle label dimensions\n      //////////////////////////\n\n      var bbLabels = _p.labelBounds = _p.labelBounds || {};\n      if (bbLabels.all != null) {\n        clearBoundingBox(bbLabels.all);\n      } else {\n        bbLabels.all = makeBoundingBox();\n      }\n      if (styleEnabled && options.includeLabels) {\n        if (options.includeMainLabels) {\n          updateBoundsFromLabel(bounds, ele, null);\n        }\n        if (isEdge) {\n          if (options.includeSourceLabels) {\n            updateBoundsFromLabel(bounds, ele, 'source');\n          }\n          if (options.includeTargetLabels) {\n            updateBoundsFromLabel(bounds, ele, 'target');\n          }\n        }\n      } // style enabled for labels\n    } // if displayed\n\n    bounds.x1 = noninf(bounds.x1);\n    bounds.y1 = noninf(bounds.y1);\n    bounds.x2 = noninf(bounds.x2);\n    bounds.y2 = noninf(bounds.y2);\n    bounds.w = noninf(bounds.x2 - bounds.x1);\n    bounds.h = noninf(bounds.y2 - bounds.y1);\n    if (bounds.w > 0 && bounds.h > 0 && displayed) {\n      expandBoundingBoxSides(bounds, manualExpansion);\n\n      // expand bounds by 1 because antialiasing can increase the visual/effective size by 1 on all sides\n      expandBoundingBox(bounds, 1);\n    }\n    return bounds;\n  };\n  var getKey = function getKey(opts) {\n    var i = 0;\n    var tf = function tf(val) {\n      return (val ? 1 : 0) << i++;\n    };\n    var key = 0;\n    key += tf(opts.incudeNodes);\n    key += tf(opts.includeEdges);\n    key += tf(opts.includeLabels);\n    key += tf(opts.includeMainLabels);\n    key += tf(opts.includeSourceLabels);\n    key += tf(opts.includeTargetLabels);\n    key += tf(opts.includeOverlays);\n    return key;\n  };\n  var getBoundingBoxPosKey = function getBoundingBoxPosKey(ele) {\n    if (ele.isEdge()) {\n      var p1 = ele.source().position();\n      var p2 = ele.target().position();\n      var r = function r(x) {\n        return Math.round(x);\n      };\n      return hashIntsArray([r(p1.x), r(p1.y), r(p2.x), r(p2.y)]);\n    } else {\n      return 0;\n    }\n  };\n  var cachedBoundingBoxImpl = function cachedBoundingBoxImpl(ele, opts) {\n    var _p = ele._private;\n    var bb;\n    var isEdge = ele.isEdge();\n    var key = opts == null ? defBbOptsKey : getKey(opts);\n    var usingDefOpts = key === defBbOptsKey;\n    var currPosKey = getBoundingBoxPosKey(ele);\n    var isPosKeySame = _p.bbCachePosKey === currPosKey;\n    var useCache = opts.useCache && isPosKeySame;\n    var isDirty = function isDirty(ele) {\n      return ele._private.bbCache == null || ele._private.styleDirty;\n    };\n    var needRecalc = !useCache || isDirty(ele) || isEdge && isDirty(ele.source()) || isDirty(ele.target());\n    if (needRecalc) {\n      if (!isPosKeySame) {\n        ele.recalculateRenderedStyle(useCache);\n      }\n      bb = boundingBoxImpl(ele, defBbOpts);\n      _p.bbCache = bb;\n      _p.bbCachePosKey = currPosKey;\n    } else {\n      bb = _p.bbCache;\n    }\n\n    // not using def opts => need to build up bb from combination of sub bbs\n    if (!usingDefOpts) {\n      var isNode = ele.isNode();\n      bb = makeBoundingBox();\n      if (opts.includeNodes && isNode || opts.includeEdges && !isNode) {\n        if (opts.includeOverlays) {\n          updateBoundsFromBox(bb, _p.overlayBounds);\n        } else {\n          updateBoundsFromBox(bb, _p.bodyBounds);\n        }\n      }\n      if (opts.includeLabels) {\n        if (opts.includeMainLabels && (!isEdge || opts.includeSourceLabels && opts.includeTargetLabels)) {\n          updateBoundsFromBox(bb, _p.labelBounds.all);\n        } else {\n          if (opts.includeMainLabels) {\n            updateBoundsFromBox(bb, _p.labelBounds.mainRot);\n          }\n          if (opts.includeSourceLabels) {\n            updateBoundsFromBox(bb, _p.labelBounds.sourceRot);\n          }\n          if (opts.includeTargetLabels) {\n            updateBoundsFromBox(bb, _p.labelBounds.targetRot);\n          }\n        }\n      }\n      bb.w = bb.x2 - bb.x1;\n      bb.h = bb.y2 - bb.y1;\n    }\n    return bb;\n  };\n  var defBbOpts = {\n    includeNodes: true,\n    includeEdges: true,\n    includeLabels: true,\n    includeMainLabels: true,\n    includeSourceLabels: true,\n    includeTargetLabels: true,\n    includeOverlays: true,\n    includeUnderlays: true,\n    useCache: true\n  };\n  var defBbOptsKey = getKey(defBbOpts);\n  var filledBbOpts = defaults$g(defBbOpts);\n  elesfn$b.boundingBox = function (options) {\n    var bounds;\n\n    // the main usecase is ele.boundingBox() for a single element with no/def options\n    // specified s.t. the cache is used, so check for this case to make it faster by\n    // avoiding the overhead of the rest of the function\n    if (this.length === 1 && this[0]._private.bbCache != null && !this[0]._private.styleDirty && (options === undefined || options.useCache === undefined || options.useCache === true)) {\n      if (options === undefined) {\n        options = defBbOpts;\n      } else {\n        options = filledBbOpts(options);\n      }\n      bounds = cachedBoundingBoxImpl(this[0], options);\n    } else {\n      bounds = makeBoundingBox();\n      options = options || defBbOpts;\n      var opts = filledBbOpts(options);\n      var eles = this;\n      var cy = eles.cy();\n      var styleEnabled = cy.styleEnabled();\n      if (styleEnabled) {\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var _p = ele._private;\n          var currPosKey = getBoundingBoxPosKey(ele);\n          var isPosKeySame = _p.bbCachePosKey === currPosKey;\n          var useCache = opts.useCache && isPosKeySame && !_p.styleDirty;\n          ele.recalculateRenderedStyle(useCache);\n        }\n      }\n      this.updateCompoundBounds(!options.useCache);\n      for (var _i = 0; _i < eles.length; _i++) {\n        var _ele = eles[_i];\n        updateBoundsFromBox(bounds, cachedBoundingBoxImpl(_ele, opts));\n      }\n    }\n    bounds.x1 = noninf(bounds.x1);\n    bounds.y1 = noninf(bounds.y1);\n    bounds.x2 = noninf(bounds.x2);\n    bounds.y2 = noninf(bounds.y2);\n    bounds.w = noninf(bounds.x2 - bounds.x1);\n    bounds.h = noninf(bounds.y2 - bounds.y1);\n    return bounds;\n  };\n  elesfn$b.dirtyBoundingBoxCache = function () {\n    for (var i = 0; i < this.length; i++) {\n      var _p = this[i]._private;\n      _p.bbCache = null;\n      _p.bbCachePosKey = null;\n      _p.bodyBounds = null;\n      _p.overlayBounds = null;\n      _p.labelBounds.all = null;\n      _p.labelBounds.source = null;\n      _p.labelBounds.target = null;\n      _p.labelBounds.main = null;\n      _p.labelBounds.sourceRot = null;\n      _p.labelBounds.targetRot = null;\n      _p.labelBounds.mainRot = null;\n      _p.arrowBounds.source = null;\n      _p.arrowBounds.target = null;\n      _p.arrowBounds['mid-source'] = null;\n      _p.arrowBounds['mid-target'] = null;\n    }\n    this.emitAndNotify('bounds');\n    return this;\n  };\n\n  // private helper to get bounding box for custom node positions\n  // - good for perf in certain cases but currently requires dirtying the rendered style\n  // - would be better to not modify the nodes but the nodes are read directly everywhere in the renderer...\n  // - try to use for only things like discrete layouts where the node position would change anyway\n  elesfn$b.boundingBoxAt = function (fn) {\n    var nodes = this.nodes();\n    var cy = this.cy();\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    var parents = cy.collection();\n    if (hasCompoundNodes) {\n      parents = nodes.filter(function (node) {\n        return node.isParent();\n      });\n      nodes = nodes.not(parents);\n    }\n    if (plainObject(fn)) {\n      var obj = fn;\n      fn = function fn() {\n        return obj;\n      };\n    }\n    var storeOldPos = function storeOldPos(node, i) {\n      return node._private.bbAtOldPos = fn(node, i);\n    };\n    var getOldPos = function getOldPos(node) {\n      return node._private.bbAtOldPos;\n    };\n    cy.startBatch();\n    nodes.forEach(storeOldPos).silentPositions(fn);\n    if (hasCompoundNodes) {\n      parents.dirtyCompoundBoundsCache();\n      parents.dirtyBoundingBoxCache();\n      parents.updateCompoundBounds(true); // force update b/c we're inside a batch cycle\n    }\n\n    var bb = copyBoundingBox(this.boundingBox({\n      useCache: false\n    }));\n    nodes.silentPositions(getOldPos);\n    if (hasCompoundNodes) {\n      parents.dirtyCompoundBoundsCache();\n      parents.dirtyBoundingBoxCache();\n      parents.updateCompoundBounds(true); // force update b/c we're inside a batch cycle\n    }\n\n    cy.endBatch();\n    return bb;\n  };\n  fn$3.boundingbox = fn$3.bb = fn$3.boundingBox;\n  fn$3.renderedBoundingbox = fn$3.renderedBoundingBox;\n  var bounds = elesfn$b;\n\n  var fn$2, elesfn$a;\n  fn$2 = elesfn$a = {};\n  var defineDimFns = function defineDimFns(opts) {\n    opts.uppercaseName = capitalize(opts.name);\n    opts.autoName = 'auto' + opts.uppercaseName;\n    opts.labelName = 'label' + opts.uppercaseName;\n    opts.outerName = 'outer' + opts.uppercaseName;\n    opts.uppercaseOuterName = capitalize(opts.outerName);\n    fn$2[opts.name] = function dimImpl() {\n      var ele = this[0];\n      var _p = ele._private;\n      var cy = _p.cy;\n      var styleEnabled = cy._private.styleEnabled;\n      if (ele) {\n        if (styleEnabled) {\n          if (ele.isParent()) {\n            ele.updateCompoundBounds();\n            return _p[opts.autoName] || 0;\n          }\n          var d = ele.pstyle(opts.name);\n          switch (d.strValue) {\n            case 'label':\n              ele.recalculateRenderedStyle();\n              return _p.rstyle[opts.labelName] || 0;\n            default:\n              return d.pfValue;\n          }\n        } else {\n          return 1;\n        }\n      }\n    };\n    fn$2['outer' + opts.uppercaseName] = function outerDimImpl() {\n      var ele = this[0];\n      var _p = ele._private;\n      var cy = _p.cy;\n      var styleEnabled = cy._private.styleEnabled;\n      if (ele) {\n        if (styleEnabled) {\n          var dim = ele[opts.name]();\n          var border = ele.pstyle('border-width').pfValue; // n.b. 1/2 each side\n          var padding = 2 * ele.padding();\n          return dim + border + padding;\n        } else {\n          return 1;\n        }\n      }\n    };\n    fn$2['rendered' + opts.uppercaseName] = function renderedDimImpl() {\n      var ele = this[0];\n      if (ele) {\n        var d = ele[opts.name]();\n        return d * this.cy().zoom();\n      }\n    };\n    fn$2['rendered' + opts.uppercaseOuterName] = function renderedOuterDimImpl() {\n      var ele = this[0];\n      if (ele) {\n        var od = ele[opts.outerName]();\n        return od * this.cy().zoom();\n      }\n    };\n  };\n  defineDimFns({\n    name: 'width'\n  });\n  defineDimFns({\n    name: 'height'\n  });\n  elesfn$a.padding = function () {\n    var ele = this[0];\n    var _p = ele._private;\n    if (ele.isParent()) {\n      ele.updateCompoundBounds();\n      if (_p.autoPadding !== undefined) {\n        return _p.autoPadding;\n      } else {\n        return ele.pstyle('padding').pfValue;\n      }\n    } else {\n      return ele.pstyle('padding').pfValue;\n    }\n  };\n  elesfn$a.paddedHeight = function () {\n    var ele = this[0];\n    return ele.height() + 2 * ele.padding();\n  };\n  elesfn$a.paddedWidth = function () {\n    var ele = this[0];\n    return ele.width() + 2 * ele.padding();\n  };\n  var widthHeight = elesfn$a;\n\n  var ifEdge = function ifEdge(ele, getValue) {\n    if (ele.isEdge()) {\n      return getValue(ele);\n    }\n  };\n  var ifEdgeRenderedPosition = function ifEdgeRenderedPosition(ele, getPoint) {\n    if (ele.isEdge()) {\n      var cy = ele.cy();\n      return modelToRenderedPosition(getPoint(ele), cy.zoom(), cy.pan());\n    }\n  };\n  var ifEdgeRenderedPositions = function ifEdgeRenderedPositions(ele, getPoints) {\n    if (ele.isEdge()) {\n      var cy = ele.cy();\n      var pan = cy.pan();\n      var zoom = cy.zoom();\n      return getPoints(ele).map(function (p) {\n        return modelToRenderedPosition(p, zoom, pan);\n      });\n    }\n  };\n  var controlPoints = function controlPoints(ele) {\n    return ele.renderer().getControlPoints(ele);\n  };\n  var segmentPoints = function segmentPoints(ele) {\n    return ele.renderer().getSegmentPoints(ele);\n  };\n  var sourceEndpoint = function sourceEndpoint(ele) {\n    return ele.renderer().getSourceEndpoint(ele);\n  };\n  var targetEndpoint = function targetEndpoint(ele) {\n    return ele.renderer().getTargetEndpoint(ele);\n  };\n  var midpoint = function midpoint(ele) {\n    return ele.renderer().getEdgeMidpoint(ele);\n  };\n  var pts = {\n    controlPoints: {\n      get: controlPoints,\n      mult: true\n    },\n    segmentPoints: {\n      get: segmentPoints,\n      mult: true\n    },\n    sourceEndpoint: {\n      get: sourceEndpoint\n    },\n    targetEndpoint: {\n      get: targetEndpoint\n    },\n    midpoint: {\n      get: midpoint\n    }\n  };\n  var renderedName = function renderedName(name) {\n    return 'rendered' + name[0].toUpperCase() + name.substr(1);\n  };\n  var edgePoints = Object.keys(pts).reduce(function (obj, name) {\n    var spec = pts[name];\n    var rName = renderedName(name);\n    obj[name] = function () {\n      return ifEdge(this, spec.get);\n    };\n    if (spec.mult) {\n      obj[rName] = function () {\n        return ifEdgeRenderedPositions(this, spec.get);\n      };\n    } else {\n      obj[rName] = function () {\n        return ifEdgeRenderedPosition(this, spec.get);\n      };\n    }\n    return obj;\n  }, {});\n\n  var dimensions = extend({}, position, bounds, widthHeight, edgePoints);\n\n  /*!\n  Event object based on jQuery events, MIT license\n\n  https://jquery.org/license/\n  https://tldrlegal.com/license/mit-license\n  https://github.com/jquery/jquery/blob/master/src/event.js\n  */\n\n  var Event = function Event(src, props) {\n    this.recycle(src, props);\n  };\n  function returnFalse() {\n    return false;\n  }\n  function returnTrue() {\n    return true;\n  }\n\n  // http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html\n  Event.prototype = {\n    instanceString: function instanceString() {\n      return 'event';\n    },\n    recycle: function recycle(src, props) {\n      this.isImmediatePropagationStopped = this.isPropagationStopped = this.isDefaultPrevented = returnFalse;\n      if (src != null && src.preventDefault) {\n        // Browser Event object\n        this.type = src.type;\n\n        // Events bubbling up the document may have been marked as prevented\n        // by a handler lower down the tree; reflect the correct value.\n        this.isDefaultPrevented = src.defaultPrevented ? returnTrue : returnFalse;\n      } else if (src != null && src.type) {\n        // Plain object containing all event details\n        props = src;\n      } else {\n        // Event string\n        this.type = src;\n      }\n\n      // Put explicitly provided properties onto the event object\n      if (props != null) {\n        // more efficient to manually copy fields we use\n        this.originalEvent = props.originalEvent;\n        this.type = props.type != null ? props.type : this.type;\n        this.cy = props.cy;\n        this.target = props.target;\n        this.position = props.position;\n        this.renderedPosition = props.renderedPosition;\n        this.namespace = props.namespace;\n        this.layout = props.layout;\n      }\n      if (this.cy != null && this.position != null && this.renderedPosition == null) {\n        // create a rendered position based on the passed position\n        var pos = this.position;\n        var zoom = this.cy.zoom();\n        var pan = this.cy.pan();\n        this.renderedPosition = {\n          x: pos.x * zoom + pan.x,\n          y: pos.y * zoom + pan.y\n        };\n      }\n\n      // Create a timestamp if incoming event doesn't have one\n      this.timeStamp = src && src.timeStamp || Date.now();\n    },\n    preventDefault: function preventDefault() {\n      this.isDefaultPrevented = returnTrue;\n      var e = this.originalEvent;\n      if (!e) {\n        return;\n      }\n\n      // if preventDefault exists run it on the original event\n      if (e.preventDefault) {\n        e.preventDefault();\n      }\n    },\n    stopPropagation: function stopPropagation() {\n      this.isPropagationStopped = returnTrue;\n      var e = this.originalEvent;\n      if (!e) {\n        return;\n      }\n\n      // if stopPropagation exists run it on the original event\n      if (e.stopPropagation) {\n        e.stopPropagation();\n      }\n    },\n    stopImmediatePropagation: function stopImmediatePropagation() {\n      this.isImmediatePropagationStopped = returnTrue;\n      this.stopPropagation();\n    },\n    isDefaultPrevented: returnFalse,\n    isPropagationStopped: returnFalse,\n    isImmediatePropagationStopped: returnFalse\n  };\n\n  var eventRegex = /^([^.]+)(\\.(?:[^.]+))?$/; // regex for matching event strings (e.g. \"click.namespace\")\n  var universalNamespace = '.*'; // matches as if no namespace specified and prevents users from unbinding accidentally\n\n  var defaults$8 = {\n    qualifierCompare: function qualifierCompare(q1, q2) {\n      return q1 === q2;\n    },\n    eventMatches: function eventMatches( /*context, listener, eventObj*/\n    ) {\n      return true;\n    },\n    addEventFields: function addEventFields( /*context, evt*/\n    ) {},\n    callbackContext: function callbackContext(context /*, listener, eventObj*/) {\n      return context;\n    },\n    beforeEmit: function beforeEmit( /* context, listener, eventObj */\n    ) {},\n    afterEmit: function afterEmit( /* context, listener, eventObj */\n    ) {},\n    bubble: function bubble( /*context*/\n    ) {\n      return false;\n    },\n    parent: function parent( /*context*/\n    ) {\n      return null;\n    },\n    context: null\n  };\n  var defaultsKeys = Object.keys(defaults$8);\n  var emptyOpts = {};\n  function Emitter() {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : emptyOpts;\n    var context = arguments.length > 1 ? arguments[1] : undefined;\n    // micro-optimisation vs Object.assign() -- reduces Element instantiation time\n    for (var i = 0; i < defaultsKeys.length; i++) {\n      var key = defaultsKeys[i];\n      this[key] = opts[key] || defaults$8[key];\n    }\n    this.context = context || this.context;\n    this.listeners = [];\n    this.emitting = 0;\n  }\n  var p = Emitter.prototype;\n  var forEachEvent = function forEachEvent(self, handler, events, qualifier, callback, conf, confOverrides) {\n    if (fn$6(qualifier)) {\n      callback = qualifier;\n      qualifier = null;\n    }\n    if (confOverrides) {\n      if (conf == null) {\n        conf = confOverrides;\n      } else {\n        conf = extend({}, conf, confOverrides);\n      }\n    }\n    var eventList = array(events) ? events : events.split(/\\s+/);\n    for (var i = 0; i < eventList.length; i++) {\n      var evt = eventList[i];\n      if (emptyString(evt)) {\n        continue;\n      }\n      var match = evt.match(eventRegex); // type[.namespace]\n\n      if (match) {\n        var type = match[1];\n        var namespace = match[2] ? match[2] : null;\n        var ret = handler(self, evt, type, namespace, qualifier, callback, conf);\n        if (ret === false) {\n          break;\n        } // allow exiting early\n      }\n    }\n  };\n\n  var makeEventObj = function makeEventObj(self, obj) {\n    self.addEventFields(self.context, obj);\n    return new Event(obj.type, obj);\n  };\n  var forEachEventObj = function forEachEventObj(self, handler, events) {\n    if (event(events)) {\n      handler(self, events);\n      return;\n    } else if (plainObject(events)) {\n      handler(self, makeEventObj(self, events));\n      return;\n    }\n    var eventList = array(events) ? events : events.split(/\\s+/);\n    for (var i = 0; i < eventList.length; i++) {\n      var evt = eventList[i];\n      if (emptyString(evt)) {\n        continue;\n      }\n      var match = evt.match(eventRegex); // type[.namespace]\n\n      if (match) {\n        var type = match[1];\n        var namespace = match[2] ? match[2] : null;\n        var eventObj = makeEventObj(self, {\n          type: type,\n          namespace: namespace,\n          target: self.context\n        });\n        handler(self, eventObj);\n      }\n    }\n  };\n  p.on = p.addListener = function (events, qualifier, callback, conf, confOverrides) {\n    forEachEvent(this, function (self, event, type, namespace, qualifier, callback, conf) {\n      if (fn$6(callback)) {\n        self.listeners.push({\n          event: event,\n          // full event string\n          callback: callback,\n          // callback to run\n          type: type,\n          // the event type (e.g. 'click')\n          namespace: namespace,\n          // the event namespace (e.g. \".foo\")\n          qualifier: qualifier,\n          // a restriction on whether to match this emitter\n          conf: conf // additional configuration\n        });\n      }\n    }, events, qualifier, callback, conf, confOverrides);\n    return this;\n  };\n  p.one = function (events, qualifier, callback, conf) {\n    return this.on(events, qualifier, callback, conf, {\n      one: true\n    });\n  };\n  p.removeListener = p.off = function (events, qualifier, callback, conf) {\n    var _this = this;\n    if (this.emitting !== 0) {\n      this.listeners = copyArray$1(this.listeners);\n    }\n    var listeners = this.listeners;\n    var _loop = function _loop(i) {\n      var listener = listeners[i];\n      forEachEvent(_this, function (self, event, type, namespace, qualifier, callback /*, conf*/) {\n        if ((listener.type === type || events === '*') && (!namespace && listener.namespace !== '.*' || listener.namespace === namespace) && (!qualifier || self.qualifierCompare(listener.qualifier, qualifier)) && (!callback || listener.callback === callback)) {\n          listeners.splice(i, 1);\n          return false;\n        }\n      }, events, qualifier, callback, conf);\n    };\n    for (var i = listeners.length - 1; i >= 0; i--) {\n      _loop(i);\n    }\n    return this;\n  };\n  p.removeAllListeners = function () {\n    return this.removeListener('*');\n  };\n  p.emit = p.trigger = function (events, extraParams, manualCallback) {\n    var listeners = this.listeners;\n    var numListenersBeforeEmit = listeners.length;\n    this.emitting++;\n    if (!array(extraParams)) {\n      extraParams = [extraParams];\n    }\n    forEachEventObj(this, function (self, eventObj) {\n      if (manualCallback != null) {\n        listeners = [{\n          event: eventObj.event,\n          type: eventObj.type,\n          namespace: eventObj.namespace,\n          callback: manualCallback\n        }];\n        numListenersBeforeEmit = listeners.length;\n      }\n      var _loop2 = function _loop2(i) {\n        var listener = listeners[i];\n        if (listener.type === eventObj.type && (!listener.namespace || listener.namespace === eventObj.namespace || listener.namespace === universalNamespace) && self.eventMatches(self.context, listener, eventObj)) {\n          var args = [eventObj];\n          if (extraParams != null) {\n            push(args, extraParams);\n          }\n          self.beforeEmit(self.context, listener, eventObj);\n          if (listener.conf && listener.conf.one) {\n            self.listeners = self.listeners.filter(function (l) {\n              return l !== listener;\n            });\n          }\n          var context = self.callbackContext(self.context, listener, eventObj);\n          var ret = listener.callback.apply(context, args);\n          self.afterEmit(self.context, listener, eventObj);\n          if (ret === false) {\n            eventObj.stopPropagation();\n            eventObj.preventDefault();\n          }\n        } // if listener matches\n      };\n      for (var i = 0; i < numListenersBeforeEmit; i++) {\n        _loop2(i);\n      } // for listener\n\n      if (self.bubble(self.context) && !eventObj.isPropagationStopped()) {\n        self.parent(self.context).emit(eventObj, extraParams);\n      }\n    }, events);\n    this.emitting--;\n    return this;\n  };\n\n  var emitterOptions$1 = {\n    qualifierCompare: function qualifierCompare(selector1, selector2) {\n      if (selector1 == null || selector2 == null) {\n        return selector1 == null && selector2 == null;\n      } else {\n        return selector1.sameText(selector2);\n      }\n    },\n    eventMatches: function eventMatches(ele, listener, eventObj) {\n      var selector = listener.qualifier;\n      if (selector != null) {\n        return ele !== eventObj.target && element(eventObj.target) && selector.matches(eventObj.target);\n      }\n      return true;\n    },\n    addEventFields: function addEventFields(ele, evt) {\n      evt.cy = ele.cy();\n      evt.target = ele;\n    },\n    callbackContext: function callbackContext(ele, listener, eventObj) {\n      return listener.qualifier != null ? eventObj.target : ele;\n    },\n    beforeEmit: function beforeEmit(context, listener /*, eventObj*/) {\n      if (listener.conf && listener.conf.once) {\n        listener.conf.onceCollection.removeListener(listener.event, listener.qualifier, listener.callback);\n      }\n    },\n    bubble: function bubble() {\n      return true;\n    },\n    parent: function parent(ele) {\n      return ele.isChild() ? ele.parent() : ele.cy();\n    }\n  };\n  var argSelector$1 = function argSelector(arg) {\n    if (string(arg)) {\n      return new Selector(arg);\n    } else {\n      return arg;\n    }\n  };\n  var elesfn$9 = {\n    createEmitter: function createEmitter() {\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var _p = ele._private;\n        if (!_p.emitter) {\n          _p.emitter = new Emitter(emitterOptions$1, ele);\n        }\n      }\n      return this;\n    },\n    emitter: function emitter() {\n      return this._private.emitter;\n    },\n    on: function on(events, selector, callback) {\n      var argSel = argSelector$1(selector);\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        ele.emitter().on(events, argSel, callback);\n      }\n      return this;\n    },\n    removeListener: function removeListener(events, selector, callback) {\n      var argSel = argSelector$1(selector);\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        ele.emitter().removeListener(events, argSel, callback);\n      }\n      return this;\n    },\n    removeAllListeners: function removeAllListeners() {\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        ele.emitter().removeAllListeners();\n      }\n      return this;\n    },\n    one: function one(events, selector, callback) {\n      var argSel = argSelector$1(selector);\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        ele.emitter().one(events, argSel, callback);\n      }\n      return this;\n    },\n    once: function once(events, selector, callback) {\n      var argSel = argSelector$1(selector);\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        ele.emitter().on(events, argSel, callback, {\n          once: true,\n          onceCollection: this\n        });\n      }\n    },\n    emit: function emit(events, extraParams) {\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        ele.emitter().emit(events, extraParams);\n      }\n      return this;\n    },\n    emitAndNotify: function emitAndNotify(event, extraParams) {\n      // for internal use only\n      if (this.length === 0) {\n        return;\n      } // empty collections don't need to notify anything\n\n      // notify renderer\n      this.cy().notify(event, this);\n      this.emit(event, extraParams);\n      return this;\n    }\n  };\n  define.eventAliasesOn(elesfn$9);\n\n  var elesfn$8 = {\n    nodes: function nodes(selector) {\n      return this.filter(function (ele) {\n        return ele.isNode();\n      }).filter(selector);\n    },\n    edges: function edges(selector) {\n      return this.filter(function (ele) {\n        return ele.isEdge();\n      }).filter(selector);\n    },\n    // internal helper to get nodes and edges as separate collections with single iteration over elements\n    byGroup: function byGroup() {\n      var nodes = this.spawn();\n      var edges = this.spawn();\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        if (ele.isNode()) {\n          nodes.push(ele);\n        } else {\n          edges.push(ele);\n        }\n      }\n      return {\n        nodes: nodes,\n        edges: edges\n      };\n    },\n    filter: function filter(_filter, thisArg) {\n      if (_filter === undefined) {\n        // check this first b/c it's the most common/performant case\n        return this;\n      } else if (string(_filter) || elementOrCollection(_filter)) {\n        return new Selector(_filter).filter(this);\n      } else if (fn$6(_filter)) {\n        var filterEles = this.spawn();\n        var eles = this;\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var include = thisArg ? _filter.apply(thisArg, [ele, i, eles]) : _filter(ele, i, eles);\n          if (include) {\n            filterEles.push(ele);\n          }\n        }\n        return filterEles;\n      }\n      return this.spawn(); // if not handled by above, give 'em an empty collection\n    },\n\n    not: function not(toRemove) {\n      if (!toRemove) {\n        return this;\n      } else {\n        if (string(toRemove)) {\n          toRemove = this.filter(toRemove);\n        }\n        var elements = this.spawn();\n        for (var i = 0; i < this.length; i++) {\n          var element = this[i];\n          var remove = toRemove.has(element);\n          if (!remove) {\n            elements.push(element);\n          }\n        }\n        return elements;\n      }\n    },\n    absoluteComplement: function absoluteComplement() {\n      var cy = this.cy();\n      return cy.mutableElements().not(this);\n    },\n    intersect: function intersect(other) {\n      // if a selector is specified, then filter by it instead\n      if (string(other)) {\n        var selector = other;\n        return this.filter(selector);\n      }\n      var elements = this.spawn();\n      var col1 = this;\n      var col2 = other;\n      var col1Smaller = this.length < other.length;\n      var colS = col1Smaller ? col1 : col2;\n      var colL = col1Smaller ? col2 : col1;\n      for (var i = 0; i < colS.length; i++) {\n        var ele = colS[i];\n        if (colL.has(ele)) {\n          elements.push(ele);\n        }\n      }\n      return elements;\n    },\n    xor: function xor(other) {\n      var cy = this._private.cy;\n      if (string(other)) {\n        other = cy.$(other);\n      }\n      var elements = this.spawn();\n      var col1 = this;\n      var col2 = other;\n      var add = function add(col, other) {\n        for (var i = 0; i < col.length; i++) {\n          var ele = col[i];\n          var id = ele._private.data.id;\n          var inOther = other.hasElementWithId(id);\n          if (!inOther) {\n            elements.push(ele);\n          }\n        }\n      };\n      add(col1, col2);\n      add(col2, col1);\n      return elements;\n    },\n    diff: function diff(other) {\n      var cy = this._private.cy;\n      if (string(other)) {\n        other = cy.$(other);\n      }\n      var left = this.spawn();\n      var right = this.spawn();\n      var both = this.spawn();\n      var col1 = this;\n      var col2 = other;\n      var add = function add(col, other, retEles) {\n        for (var i = 0; i < col.length; i++) {\n          var ele = col[i];\n          var id = ele._private.data.id;\n          var inOther = other.hasElementWithId(id);\n          if (inOther) {\n            both.merge(ele);\n          } else {\n            retEles.push(ele);\n          }\n        }\n      };\n      add(col1, col2, left);\n      add(col2, col1, right);\n      return {\n        left: left,\n        right: right,\n        both: both\n      };\n    },\n    add: function add(toAdd) {\n      var cy = this._private.cy;\n      if (!toAdd) {\n        return this;\n      }\n      if (string(toAdd)) {\n        var selector = toAdd;\n        toAdd = cy.mutableElements().filter(selector);\n      }\n      var elements = this.spawnSelf();\n      for (var i = 0; i < toAdd.length; i++) {\n        var ele = toAdd[i];\n        var add = !this.has(ele);\n        if (add) {\n          elements.push(ele);\n        }\n      }\n      return elements;\n    },\n    // in place merge on calling collection\n    merge: function merge(toAdd) {\n      var _p = this._private;\n      var cy = _p.cy;\n      if (!toAdd) {\n        return this;\n      }\n      if (toAdd && string(toAdd)) {\n        var selector = toAdd;\n        toAdd = cy.mutableElements().filter(selector);\n      }\n      var map = _p.map;\n      for (var i = 0; i < toAdd.length; i++) {\n        var toAddEle = toAdd[i];\n        var id = toAddEle._private.data.id;\n        var add = !map.has(id);\n        if (add) {\n          var index = this.length++;\n          this[index] = toAddEle;\n          map.set(id, {\n            ele: toAddEle,\n            index: index\n          });\n        }\n      }\n      return this; // chaining\n    },\n\n    unmergeAt: function unmergeAt(i) {\n      var ele = this[i];\n      var id = ele.id();\n      var _p = this._private;\n      var map = _p.map;\n\n      // remove ele\n      this[i] = undefined;\n      map[\"delete\"](id);\n      var unmergedLastEle = i === this.length - 1;\n\n      // replace empty spot with last ele in collection\n      if (this.length > 1 && !unmergedLastEle) {\n        var lastEleI = this.length - 1;\n        var lastEle = this[lastEleI];\n        var lastEleId = lastEle._private.data.id;\n        this[lastEleI] = undefined;\n        this[i] = lastEle;\n        map.set(lastEleId, {\n          ele: lastEle,\n          index: i\n        });\n      }\n\n      // the collection is now 1 ele smaller\n      this.length--;\n      return this;\n    },\n    // remove single ele in place in calling collection\n    unmergeOne: function unmergeOne(ele) {\n      ele = ele[0];\n      var _p = this._private;\n      var id = ele._private.data.id;\n      var map = _p.map;\n      var entry = map.get(id);\n      if (!entry) {\n        return this; // no need to remove\n      }\n\n      var i = entry.index;\n      this.unmergeAt(i);\n      return this;\n    },\n    // remove eles in place on calling collection\n    unmerge: function unmerge(toRemove) {\n      var cy = this._private.cy;\n      if (!toRemove) {\n        return this;\n      }\n      if (toRemove && string(toRemove)) {\n        var selector = toRemove;\n        toRemove = cy.mutableElements().filter(selector);\n      }\n      for (var i = 0; i < toRemove.length; i++) {\n        this.unmergeOne(toRemove[i]);\n      }\n      return this; // chaining\n    },\n\n    unmergeBy: function unmergeBy(toRmFn) {\n      for (var i = this.length - 1; i >= 0; i--) {\n        var ele = this[i];\n        if (toRmFn(ele)) {\n          this.unmergeAt(i);\n        }\n      }\n      return this;\n    },\n    map: function map(mapFn, thisArg) {\n      var arr = [];\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var ret = thisArg ? mapFn.apply(thisArg, [ele, i, eles]) : mapFn(ele, i, eles);\n        arr.push(ret);\n      }\n      return arr;\n    },\n    reduce: function reduce(fn, initialValue) {\n      var val = initialValue;\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        val = fn(val, eles[i], i, eles);\n      }\n      return val;\n    },\n    max: function max(valFn, thisArg) {\n      var max = -Infinity;\n      var maxEle;\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n        if (val > max) {\n          max = val;\n          maxEle = ele;\n        }\n      }\n      return {\n        value: max,\n        ele: maxEle\n      };\n    },\n    min: function min(valFn, thisArg) {\n      var min = Infinity;\n      var minEle;\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        var val = thisArg ? valFn.apply(thisArg, [ele, i, eles]) : valFn(ele, i, eles);\n        if (val < min) {\n          min = val;\n          minEle = ele;\n        }\n      }\n      return {\n        value: min,\n        ele: minEle\n      };\n    }\n  };\n\n  // aliases\n  var fn$1 = elesfn$8;\n  fn$1['u'] = fn$1['|'] = fn$1['+'] = fn$1.union = fn$1.or = fn$1.add;\n  fn$1['\\\\'] = fn$1['!'] = fn$1['-'] = fn$1.difference = fn$1.relativeComplement = fn$1.subtract = fn$1.not;\n  fn$1['n'] = fn$1['&'] = fn$1['.'] = fn$1.and = fn$1.intersection = fn$1.intersect;\n  fn$1['^'] = fn$1['(+)'] = fn$1['(-)'] = fn$1.symmetricDifference = fn$1.symdiff = fn$1.xor;\n  fn$1.fnFilter = fn$1.filterFn = fn$1.stdFilter = fn$1.filter;\n  fn$1.complement = fn$1.abscomp = fn$1.absoluteComplement;\n\n  var elesfn$7 = {\n    isNode: function isNode() {\n      return this.group() === 'nodes';\n    },\n    isEdge: function isEdge() {\n      return this.group() === 'edges';\n    },\n    isLoop: function isLoop() {\n      return this.isEdge() && this.source()[0] === this.target()[0];\n    },\n    isSimple: function isSimple() {\n      return this.isEdge() && this.source()[0] !== this.target()[0];\n    },\n    group: function group() {\n      var ele = this[0];\n      if (ele) {\n        return ele._private.group;\n      }\n    }\n  };\n\n  /**\n   *  Elements are drawn in a specific order based on compound depth (low to high), the element type (nodes above edges),\n   *  and z-index (low to high).  These styles affect how this applies:\n   *\n   *  z-compound-depth: May be `bottom | orphan | auto | top`.  The first drawn is `bottom`, then `orphan` which is the\n   *      same depth as the root of the compound graph, followed by the default value `auto` which draws in order from\n   *      root to leaves of the compound graph.  The last drawn is `top`.\n   *  z-index-compare: May be `auto | manual`.  The default value is `auto` which always draws edges under nodes.\n   *      `manual` ignores this convention and draws based on the `z-index` value setting.\n   *  z-index: An integer value that affects the relative draw order of elements.  In general, an element with a higher\n   *      `z-index` will be drawn on top of an element with a lower `z-index`.\n   */\n  var zIndexSort = function zIndexSort(a, b) {\n    var cy = a.cy();\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    function getDepth(ele) {\n      var style = ele.pstyle('z-compound-depth');\n      if (style.value === 'auto') {\n        return hasCompoundNodes ? ele.zDepth() : 0;\n      } else if (style.value === 'bottom') {\n        return -1;\n      } else if (style.value === 'top') {\n        return MAX_INT$1;\n      }\n      // 'orphan'\n      return 0;\n    }\n    var depthDiff = getDepth(a) - getDepth(b);\n    if (depthDiff !== 0) {\n      return depthDiff;\n    }\n    function getEleDepth(ele) {\n      var style = ele.pstyle('z-index-compare');\n      if (style.value === 'auto') {\n        return ele.isNode() ? 1 : 0;\n      }\n      // 'manual'\n      return 0;\n    }\n    var eleDiff = getEleDepth(a) - getEleDepth(b);\n    if (eleDiff !== 0) {\n      return eleDiff;\n    }\n    var zDiff = a.pstyle('z-index').value - b.pstyle('z-index').value;\n    if (zDiff !== 0) {\n      return zDiff;\n    }\n    // compare indices in the core (order added to graph w/ last on top)\n    return a.poolIndex() - b.poolIndex();\n  };\n\n  var elesfn$6 = {\n    forEach: function forEach(fn, thisArg) {\n      if (fn$6(fn)) {\n        var N = this.length;\n        for (var i = 0; i < N; i++) {\n          var ele = this[i];\n          var ret = thisArg ? fn.apply(thisArg, [ele, i, this]) : fn(ele, i, this);\n          if (ret === false) {\n            break;\n          } // exit each early on return false\n        }\n      }\n\n      return this;\n    },\n    toArray: function toArray() {\n      var array = [];\n      for (var i = 0; i < this.length; i++) {\n        array.push(this[i]);\n      }\n      return array;\n    },\n    slice: function slice(start, end) {\n      var array = [];\n      var thisSize = this.length;\n      if (end == null) {\n        end = thisSize;\n      }\n      if (start == null) {\n        start = 0;\n      }\n      if (start < 0) {\n        start = thisSize + start;\n      }\n      if (end < 0) {\n        end = thisSize + end;\n      }\n      for (var i = start; i >= 0 && i < end && i < thisSize; i++) {\n        array.push(this[i]);\n      }\n      return this.spawn(array);\n    },\n    size: function size() {\n      return this.length;\n    },\n    eq: function eq(i) {\n      return this[i] || this.spawn();\n    },\n    first: function first() {\n      return this[0] || this.spawn();\n    },\n    last: function last() {\n      return this[this.length - 1] || this.spawn();\n    },\n    empty: function empty() {\n      return this.length === 0;\n    },\n    nonempty: function nonempty() {\n      return !this.empty();\n    },\n    sort: function sort(sortFn) {\n      if (!fn$6(sortFn)) {\n        return this;\n      }\n      var sorted = this.toArray().sort(sortFn);\n      return this.spawn(sorted);\n    },\n    sortByZIndex: function sortByZIndex() {\n      return this.sort(zIndexSort);\n    },\n    zDepth: function zDepth() {\n      var ele = this[0];\n      if (!ele) {\n        return undefined;\n      }\n\n      // let cy = ele.cy();\n      var _p = ele._private;\n      var group = _p.group;\n      if (group === 'nodes') {\n        var depth = _p.data.parent ? ele.parents().size() : 0;\n        if (!ele.isParent()) {\n          return MAX_INT$1 - 1; // childless nodes always on top\n        }\n\n        return depth;\n      } else {\n        var src = _p.source;\n        var tgt = _p.target;\n        var srcDepth = src.zDepth();\n        var tgtDepth = tgt.zDepth();\n        return Math.max(srcDepth, tgtDepth, 0); // depth of deepest parent\n      }\n    }\n  };\n\n  elesfn$6.each = elesfn$6.forEach;\n  var defineSymbolIterator = function defineSymbolIterator() {\n    var typeofUndef = \"undefined\" ;\n    var isIteratorSupported = (typeof Symbol === \"undefined\" ? \"undefined\" : _typeof(Symbol)) != typeofUndef && _typeof(Symbol.iterator) != typeofUndef; // eslint-disable-line no-undef\n\n    if (isIteratorSupported) {\n      elesfn$6[Symbol.iterator] = function () {\n        var _this = this;\n        // eslint-disable-line no-undef\n        var entry = {\n          value: undefined,\n          done: false\n        };\n        var i = 0;\n        var length = this.length;\n        return _defineProperty$1({\n          next: function next() {\n            if (i < length) {\n              entry.value = _this[i++];\n            } else {\n              entry.value = undefined;\n              entry.done = true;\n            }\n            return entry;\n          }\n        }, Symbol.iterator, function () {\n          // eslint-disable-line no-undef\n          return this;\n        });\n      };\n    }\n  };\n  defineSymbolIterator();\n\n  var getLayoutDimensionOptions = defaults$g({\n    nodeDimensionsIncludeLabels: false\n  });\n  var elesfn$5 = {\n    // Calculates and returns node dimensions { x, y } based on options given\n    layoutDimensions: function layoutDimensions(options) {\n      options = getLayoutDimensionOptions(options);\n      var dims;\n      if (!this.takesUpSpace()) {\n        dims = {\n          w: 0,\n          h: 0\n        };\n      } else if (options.nodeDimensionsIncludeLabels) {\n        var bbDim = this.boundingBox();\n        dims = {\n          w: bbDim.w,\n          h: bbDim.h\n        };\n      } else {\n        dims = {\n          w: this.outerWidth(),\n          h: this.outerHeight()\n        };\n      }\n\n      // sanitise the dimensions for external layouts (avoid division by zero)\n      if (dims.w === 0 || dims.h === 0) {\n        dims.w = dims.h = 1;\n      }\n      return dims;\n    },\n    // using standard layout options, apply position function (w/ or w/o animation)\n    layoutPositions: function layoutPositions(layout, options, fn) {\n      var nodes = this.nodes().filter(function (n) {\n        return !n.isParent();\n      });\n      var cy = this.cy();\n      var layoutEles = options.eles; // nodes & edges\n      var getMemoizeKey = function getMemoizeKey(node) {\n        return node.id();\n      };\n      var fnMem = memoize$1(fn, getMemoizeKey); // memoized version of position function\n\n      layout.emit({\n        type: 'layoutstart',\n        layout: layout\n      });\n      layout.animations = [];\n      var calculateSpacing = function calculateSpacing(spacing, nodesBb, pos) {\n        var center = {\n          x: nodesBb.x1 + nodesBb.w / 2,\n          y: nodesBb.y1 + nodesBb.h / 2\n        };\n        var spacingVector = {\n          // scale from center of bounding box (not necessarily 0,0)\n          x: (pos.x - center.x) * spacing,\n          y: (pos.y - center.y) * spacing\n        };\n        return {\n          x: center.x + spacingVector.x,\n          y: center.y + spacingVector.y\n        };\n      };\n      var useSpacingFactor = options.spacingFactor && options.spacingFactor !== 1;\n      var spacingBb = function spacingBb() {\n        if (!useSpacingFactor) {\n          return null;\n        }\n        var bb = makeBoundingBox();\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          var pos = fnMem(node, i);\n          expandBoundingBoxByPoint(bb, pos.x, pos.y);\n        }\n        return bb;\n      };\n      var bb = spacingBb();\n      var getFinalPos = memoize$1(function (node, i) {\n        var newPos = fnMem(node, i);\n        if (useSpacingFactor) {\n          var spacing = Math.abs(options.spacingFactor);\n          newPos = calculateSpacing(spacing, bb, newPos);\n        }\n        if (options.transform != null) {\n          newPos = options.transform(node, newPos);\n        }\n        return newPos;\n      }, getMemoizeKey);\n      if (options.animate) {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          var newPos = getFinalPos(node, i);\n          var animateNode = options.animateFilter == null || options.animateFilter(node, i);\n          if (animateNode) {\n            var ani = node.animation({\n              position: newPos,\n              duration: options.animationDuration,\n              easing: options.animationEasing\n            });\n            layout.animations.push(ani);\n          } else {\n            node.position(newPos);\n          }\n        }\n        if (options.fit) {\n          var fitAni = cy.animation({\n            fit: {\n              boundingBox: layoutEles.boundingBoxAt(getFinalPos),\n              padding: options.padding\n            },\n            duration: options.animationDuration,\n            easing: options.animationEasing\n          });\n          layout.animations.push(fitAni);\n        } else if (options.zoom !== undefined && options.pan !== undefined) {\n          var zoomPanAni = cy.animation({\n            zoom: options.zoom,\n            pan: options.pan,\n            duration: options.animationDuration,\n            easing: options.animationEasing\n          });\n          layout.animations.push(zoomPanAni);\n        }\n        layout.animations.forEach(function (ani) {\n          return ani.play();\n        });\n        layout.one('layoutready', options.ready);\n        layout.emit({\n          type: 'layoutready',\n          layout: layout\n        });\n        Promise$1.all(layout.animations.map(function (ani) {\n          return ani.promise();\n        })).then(function () {\n          layout.one('layoutstop', options.stop);\n          layout.emit({\n            type: 'layoutstop',\n            layout: layout\n          });\n        });\n      } else {\n        nodes.positions(getFinalPos);\n        if (options.fit) {\n          cy.fit(options.eles, options.padding);\n        }\n        if (options.zoom != null) {\n          cy.zoom(options.zoom);\n        }\n        if (options.pan) {\n          cy.pan(options.pan);\n        }\n        layout.one('layoutready', options.ready);\n        layout.emit({\n          type: 'layoutready',\n          layout: layout\n        });\n        layout.one('layoutstop', options.stop);\n        layout.emit({\n          type: 'layoutstop',\n          layout: layout\n        });\n      }\n      return this; // chaining\n    },\n\n    layout: function layout(options) {\n      var cy = this.cy();\n      return cy.makeLayout(extend({}, options, {\n        eles: this\n      }));\n    }\n  };\n\n  // aliases:\n  elesfn$5.createLayout = elesfn$5.makeLayout = elesfn$5.layout;\n\n  function styleCache(key, fn, ele) {\n    var _p = ele._private;\n    var cache = _p.styleCache = _p.styleCache || [];\n    var val;\n    if ((val = cache[key]) != null) {\n      return val;\n    } else {\n      val = cache[key] = fn(ele);\n      return val;\n    }\n  }\n  function cacheStyleFunction(key, fn) {\n    key = hashString(key);\n    return function cachedStyleFunction(ele) {\n      return styleCache(key, fn, ele);\n    };\n  }\n  function cachePrototypeStyleFunction(key, fn) {\n    key = hashString(key);\n    var selfFn = function selfFn(ele) {\n      return fn.call(ele);\n    };\n    return function cachedPrototypeStyleFunction() {\n      var ele = this[0];\n      if (ele) {\n        return styleCache(key, selfFn, ele);\n      }\n    };\n  }\n  var elesfn$4 = {\n    recalculateRenderedStyle: function recalculateRenderedStyle(useCache) {\n      var cy = this.cy();\n      var renderer = cy.renderer();\n      var styleEnabled = cy.styleEnabled();\n      if (renderer && styleEnabled) {\n        renderer.recalculateRenderedStyle(this, useCache);\n      }\n      return this;\n    },\n    dirtyStyleCache: function dirtyStyleCache() {\n      var cy = this.cy();\n      var dirty = function dirty(ele) {\n        return ele._private.styleCache = null;\n      };\n      if (cy.hasCompoundNodes()) {\n        var eles;\n        eles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n        eles.merge(eles.connectedEdges());\n        eles.forEach(dirty);\n      } else {\n        this.forEach(function (ele) {\n          dirty(ele);\n          ele.connectedEdges().forEach(dirty);\n        });\n      }\n      return this;\n    },\n    // fully updates (recalculates) the style for the elements\n    updateStyle: function updateStyle(notifyRenderer) {\n      var cy = this._private.cy;\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      if (cy.batching()) {\n        var bEles = cy._private.batchStyleEles;\n        bEles.merge(this);\n        return this; // chaining and exit early when batching\n      }\n\n      var hasCompounds = cy.hasCompoundNodes();\n      var updatedEles = this;\n      notifyRenderer = notifyRenderer || notifyRenderer === undefined ? true : false;\n      if (hasCompounds) {\n        // then add everything up and down for compound selector checks\n        updatedEles = this.spawnSelf().merge(this.descendants()).merge(this.parents());\n      }\n\n      // let changedEles = style.apply( updatedEles );\n      var changedEles = updatedEles;\n      if (notifyRenderer) {\n        changedEles.emitAndNotify('style'); // let renderer know we changed style\n      } else {\n        changedEles.emit('style'); // just fire the event\n      }\n\n      updatedEles.forEach(function (ele) {\n        return ele._private.styleDirty = true;\n      });\n      return this; // chaining\n    },\n\n    // private: clears dirty flag and recalculates style\n    cleanStyle: function cleanStyle() {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return;\n      }\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        if (ele._private.styleDirty) {\n          // n.b. this flag should be set before apply() to avoid potential infinite recursion\n          ele._private.styleDirty = false;\n          cy.style().apply(ele);\n        }\n      }\n    },\n    // get the internal parsed style object for the specified property\n    parsedStyle: function parsedStyle(property) {\n      var includeNonDefault = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var ele = this[0];\n      var cy = ele.cy();\n      if (!cy.styleEnabled()) {\n        return;\n      }\n      if (ele) {\n        this.cleanStyle();\n        var overriddenStyle = ele._private.style[property];\n        if (overriddenStyle != null) {\n          return overriddenStyle;\n        } else if (includeNonDefault) {\n          return cy.style().getDefaultProperty(property);\n        } else {\n          return null;\n        }\n      }\n    },\n    numericStyle: function numericStyle(property) {\n      var ele = this[0];\n      if (!ele.cy().styleEnabled()) {\n        return;\n      }\n      if (ele) {\n        var pstyle = ele.pstyle(property);\n        return pstyle.pfValue !== undefined ? pstyle.pfValue : pstyle.value;\n      }\n    },\n    numericStyleUnits: function numericStyleUnits(property) {\n      var ele = this[0];\n      if (!ele.cy().styleEnabled()) {\n        return;\n      }\n      if (ele) {\n        return ele.pstyle(property).units;\n      }\n    },\n    // get the specified css property as a rendered value (i.e. on-screen value)\n    // or get the whole rendered style if no property specified (NB doesn't allow setting)\n    renderedStyle: function renderedStyle(property) {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      var ele = this[0];\n      if (ele) {\n        return cy.style().getRenderedStyle(ele, property);\n      }\n    },\n    // read the calculated css style of the element or override the style (via a bypass)\n    style: function style(name, value) {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      var updateTransitions = false;\n      var style = cy.style();\n      if (plainObject(name)) {\n        // then extend the bypass\n        var props = name;\n        style.applyBypass(this, props, updateTransitions);\n        this.emitAndNotify('style'); // let the renderer know we've updated style\n      } else if (string(name)) {\n        if (value === undefined) {\n          // then get the property from the style\n          var ele = this[0];\n          if (ele) {\n            return style.getStylePropertyValue(ele, name);\n          } else {\n            // empty collection => can't get any value\n            return;\n          }\n        } else {\n          // then set the bypass with the property value\n          style.applyBypass(this, name, value, updateTransitions);\n          this.emitAndNotify('style'); // let the renderer know we've updated style\n        }\n      } else if (name === undefined) {\n        var _ele = this[0];\n        if (_ele) {\n          return style.getRawStyle(_ele);\n        } else {\n          // empty collection => can't get any value\n          return;\n        }\n      }\n      return this; // chaining\n    },\n\n    removeStyle: function removeStyle(names) {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return this;\n      }\n      var updateTransitions = false;\n      var style = cy.style();\n      var eles = this;\n      if (names === undefined) {\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          style.removeAllBypasses(ele, updateTransitions);\n        }\n      } else {\n        names = names.split(/\\s+/);\n        for (var _i = 0; _i < eles.length; _i++) {\n          var _ele2 = eles[_i];\n          style.removeBypasses(_ele2, names, updateTransitions);\n        }\n      }\n      this.emitAndNotify('style'); // let the renderer know we've updated style\n\n      return this; // chaining\n    },\n\n    show: function show() {\n      this.css('display', 'element');\n      return this; // chaining\n    },\n\n    hide: function hide() {\n      this.css('display', 'none');\n      return this; // chaining\n    },\n\n    effectiveOpacity: function effectiveOpacity() {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return 1;\n      }\n      var hasCompoundNodes = cy.hasCompoundNodes();\n      var ele = this[0];\n      if (ele) {\n        var _p = ele._private;\n        var parentOpacity = ele.pstyle('opacity').value;\n        if (!hasCompoundNodes) {\n          return parentOpacity;\n        }\n        var parents = !_p.data.parent ? null : ele.parents();\n        if (parents) {\n          for (var i = 0; i < parents.length; i++) {\n            var parent = parents[i];\n            var opacity = parent.pstyle('opacity').value;\n            parentOpacity = opacity * parentOpacity;\n          }\n        }\n        return parentOpacity;\n      }\n    },\n    transparent: function transparent() {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return false;\n      }\n      var ele = this[0];\n      var hasCompoundNodes = ele.cy().hasCompoundNodes();\n      if (ele) {\n        if (!hasCompoundNodes) {\n          return ele.pstyle('opacity').value === 0;\n        } else {\n          return ele.effectiveOpacity() === 0;\n        }\n      }\n    },\n    backgrounding: function backgrounding() {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return false;\n      }\n      var ele = this[0];\n      return ele._private.backgrounding ? true : false;\n    }\n  };\n  function checkCompound(ele, parentOk) {\n    var _p = ele._private;\n    var parents = _p.data.parent ? ele.parents() : null;\n    if (parents) {\n      for (var i = 0; i < parents.length; i++) {\n        var parent = parents[i];\n        if (!parentOk(parent)) {\n          return false;\n        }\n      }\n    }\n    return true;\n  }\n  function defineDerivedStateFunction(specs) {\n    var ok = specs.ok;\n    var edgeOkViaNode = specs.edgeOkViaNode || specs.ok;\n    var parentOk = specs.parentOk || specs.ok;\n    return function () {\n      var cy = this.cy();\n      if (!cy.styleEnabled()) {\n        return true;\n      }\n      var ele = this[0];\n      var hasCompoundNodes = cy.hasCompoundNodes();\n      if (ele) {\n        var _p = ele._private;\n        if (!ok(ele)) {\n          return false;\n        }\n        if (ele.isNode()) {\n          return !hasCompoundNodes || checkCompound(ele, parentOk);\n        } else {\n          var src = _p.source;\n          var tgt = _p.target;\n          return edgeOkViaNode(src) && (!hasCompoundNodes || checkCompound(src, edgeOkViaNode)) && (src === tgt || edgeOkViaNode(tgt) && (!hasCompoundNodes || checkCompound(tgt, edgeOkViaNode)));\n        }\n      }\n    };\n  }\n  var eleTakesUpSpace = cacheStyleFunction('eleTakesUpSpace', function (ele) {\n    return ele.pstyle('display').value === 'element' && ele.width() !== 0 && (ele.isNode() ? ele.height() !== 0 : true);\n  });\n  elesfn$4.takesUpSpace = cachePrototypeStyleFunction('takesUpSpace', defineDerivedStateFunction({\n    ok: eleTakesUpSpace\n  }));\n  var eleInteractive = cacheStyleFunction('eleInteractive', function (ele) {\n    return ele.pstyle('events').value === 'yes' && ele.pstyle('visibility').value === 'visible' && eleTakesUpSpace(ele);\n  });\n  var parentInteractive = cacheStyleFunction('parentInteractive', function (parent) {\n    return parent.pstyle('visibility').value === 'visible' && eleTakesUpSpace(parent);\n  });\n  elesfn$4.interactive = cachePrototypeStyleFunction('interactive', defineDerivedStateFunction({\n    ok: eleInteractive,\n    parentOk: parentInteractive,\n    edgeOkViaNode: eleTakesUpSpace\n  }));\n  elesfn$4.noninteractive = function () {\n    var ele = this[0];\n    if (ele) {\n      return !ele.interactive();\n    }\n  };\n  var eleVisible = cacheStyleFunction('eleVisible', function (ele) {\n    return ele.pstyle('visibility').value === 'visible' && ele.pstyle('opacity').pfValue !== 0 && eleTakesUpSpace(ele);\n  });\n  var edgeVisibleViaNode = eleTakesUpSpace;\n  elesfn$4.visible = cachePrototypeStyleFunction('visible', defineDerivedStateFunction({\n    ok: eleVisible,\n    edgeOkViaNode: edgeVisibleViaNode\n  }));\n  elesfn$4.hidden = function () {\n    var ele = this[0];\n    if (ele) {\n      return !ele.visible();\n    }\n  };\n  elesfn$4.isBundledBezier = cachePrototypeStyleFunction('isBundledBezier', function () {\n    if (!this.cy().styleEnabled()) {\n      return false;\n    }\n    return !this.removed() && this.pstyle('curve-style').value === 'bezier' && this.takesUpSpace();\n  });\n  elesfn$4.bypass = elesfn$4.css = elesfn$4.style;\n  elesfn$4.renderedCss = elesfn$4.renderedStyle;\n  elesfn$4.removeBypass = elesfn$4.removeCss = elesfn$4.removeStyle;\n  elesfn$4.pstyle = elesfn$4.parsedStyle;\n\n  var elesfn$3 = {};\n  function defineSwitchFunction(params) {\n    return function () {\n      var args = arguments;\n      var changedEles = [];\n\n      // e.g. cy.nodes().select( data, handler )\n      if (args.length === 2) {\n        var data = args[0];\n        var handler = args[1];\n        this.on(params.event, data, handler);\n      }\n\n      // e.g. cy.nodes().select( handler )\n      else if (args.length === 1 && fn$6(args[0])) {\n        var _handler = args[0];\n        this.on(params.event, _handler);\n      }\n\n      // e.g. cy.nodes().select()\n      // e.g. (private) cy.nodes().select(['tapselect'])\n      else if (args.length === 0 || args.length === 1 && array(args[0])) {\n        var addlEvents = args.length === 1 ? args[0] : null;\n        for (var i = 0; i < this.length; i++) {\n          var ele = this[i];\n          var able = !params.ableField || ele._private[params.ableField];\n          var changed = ele._private[params.field] != params.value;\n          if (params.overrideAble) {\n            var overrideAble = params.overrideAble(ele);\n            if (overrideAble !== undefined) {\n              able = overrideAble;\n              if (!overrideAble) {\n                return this;\n              } // to save cycles assume not able for all on override\n            }\n          }\n\n          if (able) {\n            ele._private[params.field] = params.value;\n            if (changed) {\n              changedEles.push(ele);\n            }\n          }\n        }\n        var changedColl = this.spawn(changedEles);\n        changedColl.updateStyle(); // change of state => possible change of style\n        changedColl.emit(params.event);\n        if (addlEvents) {\n          changedColl.emit(addlEvents);\n        }\n      }\n      return this;\n    };\n  }\n  function defineSwitchSet(params) {\n    elesfn$3[params.field] = function () {\n      var ele = this[0];\n      if (ele) {\n        if (params.overrideField) {\n          var val = params.overrideField(ele);\n          if (val !== undefined) {\n            return val;\n          }\n        }\n        return ele._private[params.field];\n      }\n    };\n    elesfn$3[params.on] = defineSwitchFunction({\n      event: params.on,\n      field: params.field,\n      ableField: params.ableField,\n      overrideAble: params.overrideAble,\n      value: true\n    });\n    elesfn$3[params.off] = defineSwitchFunction({\n      event: params.off,\n      field: params.field,\n      ableField: params.ableField,\n      overrideAble: params.overrideAble,\n      value: false\n    });\n  }\n  defineSwitchSet({\n    field: 'locked',\n    overrideField: function overrideField(ele) {\n      return ele.cy().autolock() ? true : undefined;\n    },\n    on: 'lock',\n    off: 'unlock'\n  });\n  defineSwitchSet({\n    field: 'grabbable',\n    overrideField: function overrideField(ele) {\n      return ele.cy().autoungrabify() || ele.pannable() ? false : undefined;\n    },\n    on: 'grabify',\n    off: 'ungrabify'\n  });\n  defineSwitchSet({\n    field: 'selected',\n    ableField: 'selectable',\n    overrideAble: function overrideAble(ele) {\n      return ele.cy().autounselectify() ? false : undefined;\n    },\n    on: 'select',\n    off: 'unselect'\n  });\n  defineSwitchSet({\n    field: 'selectable',\n    overrideField: function overrideField(ele) {\n      return ele.cy().autounselectify() ? false : undefined;\n    },\n    on: 'selectify',\n    off: 'unselectify'\n  });\n  elesfn$3.deselect = elesfn$3.unselect;\n  elesfn$3.grabbed = function () {\n    var ele = this[0];\n    if (ele) {\n      return ele._private.grabbed;\n    }\n  };\n  defineSwitchSet({\n    field: 'active',\n    on: 'activate',\n    off: 'unactivate'\n  });\n  defineSwitchSet({\n    field: 'pannable',\n    on: 'panify',\n    off: 'unpanify'\n  });\n  elesfn$3.inactive = function () {\n    var ele = this[0];\n    if (ele) {\n      return !ele._private.active;\n    }\n  };\n\n  var elesfn$2 = {};\n\n  // DAG functions\n  ////////////////\n\n  var defineDagExtremity = function defineDagExtremity(params) {\n    return function dagExtremityImpl(selector) {\n      var eles = this;\n      var ret = [];\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        if (!ele.isNode()) {\n          continue;\n        }\n        var disqualified = false;\n        var edges = ele.connectedEdges();\n        for (var j = 0; j < edges.length; j++) {\n          var edge = edges[j];\n          var src = edge.source();\n          var tgt = edge.target();\n          if (params.noIncomingEdges && tgt === ele && src !== ele || params.noOutgoingEdges && src === ele && tgt !== ele) {\n            disqualified = true;\n            break;\n          }\n        }\n        if (!disqualified) {\n          ret.push(ele);\n        }\n      }\n      return this.spawn(ret, true).filter(selector);\n    };\n  };\n  var defineDagOneHop = function defineDagOneHop(params) {\n    return function (selector) {\n      var eles = this;\n      var oEles = [];\n      for (var i = 0; i < eles.length; i++) {\n        var ele = eles[i];\n        if (!ele.isNode()) {\n          continue;\n        }\n        var edges = ele.connectedEdges();\n        for (var j = 0; j < edges.length; j++) {\n          var edge = edges[j];\n          var src = edge.source();\n          var tgt = edge.target();\n          if (params.outgoing && src === ele) {\n            oEles.push(edge);\n            oEles.push(tgt);\n          } else if (params.incoming && tgt === ele) {\n            oEles.push(edge);\n            oEles.push(src);\n          }\n        }\n      }\n      return this.spawn(oEles, true).filter(selector);\n    };\n  };\n  var defineDagAllHops = function defineDagAllHops(params) {\n    return function (selector) {\n      var eles = this;\n      var sEles = [];\n      var sElesIds = {};\n      for (;;) {\n        var next = params.outgoing ? eles.outgoers() : eles.incomers();\n        if (next.length === 0) {\n          break;\n        } // done if none left\n\n        var newNext = false;\n        for (var i = 0; i < next.length; i++) {\n          var n = next[i];\n          var nid = n.id();\n          if (!sElesIds[nid]) {\n            sElesIds[nid] = true;\n            sEles.push(n);\n            newNext = true;\n          }\n        }\n        if (!newNext) {\n          break;\n        } // done if touched all outgoers already\n\n        eles = next;\n      }\n      return this.spawn(sEles, true).filter(selector);\n    };\n  };\n  elesfn$2.clearTraversalCache = function () {\n    for (var i = 0; i < this.length; i++) {\n      this[i]._private.traversalCache = null;\n    }\n  };\n  extend(elesfn$2, {\n    // get the root nodes in the DAG\n    roots: defineDagExtremity({\n      noIncomingEdges: true\n    }),\n    // get the leaf nodes in the DAG\n    leaves: defineDagExtremity({\n      noOutgoingEdges: true\n    }),\n    // normally called children in graph theory\n    // these nodes =edges=> outgoing nodes\n    outgoers: cache(defineDagOneHop({\n      outgoing: true\n    }), 'outgoers'),\n    // aka DAG descendants\n    successors: defineDagAllHops({\n      outgoing: true\n    }),\n    // normally called parents in graph theory\n    // these nodes <=edges= incoming nodes\n    incomers: cache(defineDagOneHop({\n      incoming: true\n    }), 'incomers'),\n    // aka DAG ancestors\n    predecessors: defineDagAllHops({\n      incoming: true\n    })\n  });\n\n  // Neighbourhood functions\n  //////////////////////////\n\n  extend(elesfn$2, {\n    neighborhood: cache(function (selector) {\n      var elements = [];\n      var nodes = this.nodes();\n      for (var i = 0; i < nodes.length; i++) {\n        // for all nodes\n        var node = nodes[i];\n        var connectedEdges = node.connectedEdges();\n\n        // for each connected edge, add the edge and the other node\n        for (var j = 0; j < connectedEdges.length; j++) {\n          var edge = connectedEdges[j];\n          var src = edge.source();\n          var tgt = edge.target();\n          var otherNode = node === src ? tgt : src;\n\n          // need check in case of loop\n          if (otherNode.length > 0) {\n            elements.push(otherNode[0]); // add node 1 hop away\n          }\n\n          // add connected edge\n          elements.push(edge[0]);\n        }\n      }\n      return this.spawn(elements, true).filter(selector);\n    }, 'neighborhood'),\n    closedNeighborhood: function closedNeighborhood(selector) {\n      return this.neighborhood().add(this).filter(selector);\n    },\n    openNeighborhood: function openNeighborhood(selector) {\n      return this.neighborhood(selector);\n    }\n  });\n\n  // aliases\n  elesfn$2.neighbourhood = elesfn$2.neighborhood;\n  elesfn$2.closedNeighbourhood = elesfn$2.closedNeighborhood;\n  elesfn$2.openNeighbourhood = elesfn$2.openNeighborhood;\n\n  // Edge functions\n  /////////////////\n\n  extend(elesfn$2, {\n    source: cache(function sourceImpl(selector) {\n      var ele = this[0];\n      var src;\n      if (ele) {\n        src = ele._private.source || ele.cy().collection();\n      }\n      return src && selector ? src.filter(selector) : src;\n    }, 'source'),\n    target: cache(function targetImpl(selector) {\n      var ele = this[0];\n      var tgt;\n      if (ele) {\n        tgt = ele._private.target || ele.cy().collection();\n      }\n      return tgt && selector ? tgt.filter(selector) : tgt;\n    }, 'target'),\n    sources: defineSourceFunction({\n      attr: 'source'\n    }),\n    targets: defineSourceFunction({\n      attr: 'target'\n    })\n  });\n  function defineSourceFunction(params) {\n    return function sourceImpl(selector) {\n      var sources = [];\n      for (var i = 0; i < this.length; i++) {\n        var ele = this[i];\n        var src = ele._private[params.attr];\n        if (src) {\n          sources.push(src);\n        }\n      }\n      return this.spawn(sources, true).filter(selector);\n    };\n  }\n  extend(elesfn$2, {\n    edgesWith: cache(defineEdgesWithFunction(), 'edgesWith'),\n    edgesTo: cache(defineEdgesWithFunction({\n      thisIsSrc: true\n    }), 'edgesTo')\n  });\n  function defineEdgesWithFunction(params) {\n    return function edgesWithImpl(otherNodes) {\n      var elements = [];\n      var cy = this._private.cy;\n      var p = params || {};\n\n      // get elements if a selector is specified\n      if (string(otherNodes)) {\n        otherNodes = cy.$(otherNodes);\n      }\n      for (var h = 0; h < otherNodes.length; h++) {\n        var edges = otherNodes[h]._private.edges;\n        for (var i = 0; i < edges.length; i++) {\n          var edge = edges[i];\n          var edgeData = edge._private.data;\n          var thisToOther = this.hasElementWithId(edgeData.source) && otherNodes.hasElementWithId(edgeData.target);\n          var otherToThis = otherNodes.hasElementWithId(edgeData.source) && this.hasElementWithId(edgeData.target);\n          var edgeConnectsThisAndOther = thisToOther || otherToThis;\n          if (!edgeConnectsThisAndOther) {\n            continue;\n          }\n          if (p.thisIsSrc || p.thisIsTgt) {\n            if (p.thisIsSrc && !thisToOther) {\n              continue;\n            }\n            if (p.thisIsTgt && !otherToThis) {\n              continue;\n            }\n          }\n          elements.push(edge);\n        }\n      }\n      return this.spawn(elements, true);\n    };\n  }\n  extend(elesfn$2, {\n    connectedEdges: cache(function (selector) {\n      var retEles = [];\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        var node = eles[i];\n        if (!node.isNode()) {\n          continue;\n        }\n        var edges = node._private.edges;\n        for (var j = 0; j < edges.length; j++) {\n          var edge = edges[j];\n          retEles.push(edge);\n        }\n      }\n      return this.spawn(retEles, true).filter(selector);\n    }, 'connectedEdges'),\n    connectedNodes: cache(function (selector) {\n      var retEles = [];\n      var eles = this;\n      for (var i = 0; i < eles.length; i++) {\n        var edge = eles[i];\n        if (!edge.isEdge()) {\n          continue;\n        }\n        retEles.push(edge.source()[0]);\n        retEles.push(edge.target()[0]);\n      }\n      return this.spawn(retEles, true).filter(selector);\n    }, 'connectedNodes'),\n    parallelEdges: cache(defineParallelEdgesFunction(), 'parallelEdges'),\n    codirectedEdges: cache(defineParallelEdgesFunction({\n      codirected: true\n    }), 'codirectedEdges')\n  });\n  function defineParallelEdgesFunction(params) {\n    var defaults = {\n      codirected: false\n    };\n    params = extend({}, defaults, params);\n    return function parallelEdgesImpl(selector) {\n      // micro-optimised for renderer\n      var elements = [];\n      var edges = this.edges();\n      var p = params;\n\n      // look at all the edges in the collection\n      for (var i = 0; i < edges.length; i++) {\n        var edge1 = edges[i];\n        var edge1_p = edge1._private;\n        var src1 = edge1_p.source;\n        var srcid1 = src1._private.data.id;\n        var tgtid1 = edge1_p.data.target;\n        var srcEdges1 = src1._private.edges;\n\n        // look at edges connected to the src node of this edge\n        for (var j = 0; j < srcEdges1.length; j++) {\n          var edge2 = srcEdges1[j];\n          var edge2data = edge2._private.data;\n          var tgtid2 = edge2data.target;\n          var srcid2 = edge2data.source;\n          var codirected = tgtid2 === tgtid1 && srcid2 === srcid1;\n          var oppdirected = srcid1 === tgtid2 && tgtid1 === srcid2;\n          if (p.codirected && codirected || !p.codirected && (codirected || oppdirected)) {\n            elements.push(edge2);\n          }\n        }\n      }\n      return this.spawn(elements, true).filter(selector);\n    };\n  }\n\n  // Misc functions\n  /////////////////\n\n  extend(elesfn$2, {\n    components: function components(root) {\n      var self = this;\n      var cy = self.cy();\n      var visited = cy.collection();\n      var unvisited = root == null ? self.nodes() : root.nodes();\n      var components = [];\n      if (root != null && unvisited.empty()) {\n        // root may contain only edges\n        unvisited = root.sources(); // doesn't matter which node to use (undirected), so just use the source sides\n      }\n\n      var visitInComponent = function visitInComponent(node, component) {\n        visited.merge(node);\n        unvisited.unmerge(node);\n        component.merge(node);\n      };\n      if (unvisited.empty()) {\n        return self.spawn();\n      }\n      var _loop = function _loop() {\n        // each iteration yields a component\n        var cmpt = cy.collection();\n        components.push(cmpt);\n        var root = unvisited[0];\n        visitInComponent(root, cmpt);\n        self.bfs({\n          directed: false,\n          roots: root,\n          visit: function visit(v) {\n            return visitInComponent(v, cmpt);\n          }\n        });\n        cmpt.forEach(function (node) {\n          node.connectedEdges().forEach(function (e) {\n            // connectedEdges() usually cached\n            if (self.has(e) && cmpt.has(e.source()) && cmpt.has(e.target())) {\n              // has() is cheap\n              cmpt.merge(e); // forEach() only considers nodes -- sets N at call time\n            }\n          });\n        });\n      };\n      do {\n        _loop();\n      } while (unvisited.length > 0);\n      return components;\n    },\n    component: function component() {\n      var ele = this[0];\n      return ele.cy().mutableElements().components(ele)[0];\n    }\n  });\n  elesfn$2.componentsOf = elesfn$2.components;\n\n  // represents a set of nodes, edges, or both together\n  var Collection = function Collection(cy, elements) {\n    var unique = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n    var removed = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : false;\n    if (cy === undefined) {\n      error('A collection must have a reference to the core');\n      return;\n    }\n    var map = new Map$2();\n    var createdElements = false;\n    if (!elements) {\n      elements = [];\n    } else if (elements.length > 0 && plainObject(elements[0]) && !element(elements[0])) {\n      createdElements = true;\n\n      // make elements from json and restore all at once later\n      var eles = [];\n      var elesIds = new Set$1();\n      for (var i = 0, l = elements.length; i < l; i++) {\n        var json = elements[i];\n        if (json.data == null) {\n          json.data = {};\n        }\n        var _data = json.data;\n\n        // make sure newly created elements have valid ids\n        if (_data.id == null) {\n          _data.id = uuid();\n        } else if (cy.hasElementWithId(_data.id) || elesIds.has(_data.id)) {\n          continue; // can't create element if prior id already exists\n        }\n\n        var ele = new Element(cy, json, false);\n        eles.push(ele);\n        elesIds.add(_data.id);\n      }\n      elements = eles;\n    }\n    this.length = 0;\n    for (var _i = 0, _l = elements.length; _i < _l; _i++) {\n      var element$1 = elements[_i][0]; // [0] in case elements is an array of collections, rather than array of elements\n      if (element$1 == null) {\n        continue;\n      }\n      var id = element$1._private.data.id;\n      if (!unique || !map.has(id)) {\n        if (unique) {\n          map.set(id, {\n            index: this.length,\n            ele: element$1\n          });\n        }\n        this[this.length] = element$1;\n        this.length++;\n      }\n    }\n    this._private = {\n      eles: this,\n      cy: cy,\n      get map() {\n        if (this.lazyMap == null) {\n          this.rebuildMap();\n        }\n        return this.lazyMap;\n      },\n      set map(m) {\n        this.lazyMap = m;\n      },\n      rebuildMap: function rebuildMap() {\n        var m = this.lazyMap = new Map$2();\n        var eles = this.eles;\n        for (var _i2 = 0; _i2 < eles.length; _i2++) {\n          var _ele = eles[_i2];\n          m.set(_ele.id(), {\n            index: _i2,\n            ele: _ele\n          });\n        }\n      }\n    };\n    if (unique) {\n      this._private.map = map;\n    }\n\n    // restore the elements if we created them from json\n    if (createdElements && !removed) {\n      this.restore();\n    }\n  };\n\n  // Functions\n  ////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  // keep the prototypes in sync (an element has the same functions as a collection)\n  // and use elefn and elesfn as shorthands to the prototypes\n  var elesfn$1 = Element.prototype = Collection.prototype = Object.create(Array.prototype);\n  elesfn$1.instanceString = function () {\n    return 'collection';\n  };\n  elesfn$1.spawn = function (eles, unique) {\n    return new Collection(this.cy(), eles, unique);\n  };\n  elesfn$1.spawnSelf = function () {\n    return this.spawn(this);\n  };\n  elesfn$1.cy = function () {\n    return this._private.cy;\n  };\n  elesfn$1.renderer = function () {\n    return this._private.cy.renderer();\n  };\n  elesfn$1.element = function () {\n    return this[0];\n  };\n  elesfn$1.collection = function () {\n    if (collection(this)) {\n      return this;\n    } else {\n      // an element\n      return new Collection(this._private.cy, [this]);\n    }\n  };\n  elesfn$1.unique = function () {\n    return new Collection(this._private.cy, this, true);\n  };\n  elesfn$1.hasElementWithId = function (id) {\n    id = '' + id; // id must be string\n\n    return this._private.map.has(id);\n  };\n  elesfn$1.getElementById = function (id) {\n    id = '' + id; // id must be string\n\n    var cy = this._private.cy;\n    var entry = this._private.map.get(id);\n    return entry ? entry.ele : new Collection(cy); // get ele or empty collection\n  };\n\n  elesfn$1.$id = elesfn$1.getElementById;\n  elesfn$1.poolIndex = function () {\n    var cy = this._private.cy;\n    var eles = cy._private.elements;\n    var id = this[0]._private.data.id;\n    return eles._private.map.get(id).index;\n  };\n  elesfn$1.indexOf = function (ele) {\n    var id = ele[0]._private.data.id;\n    return this._private.map.get(id).index;\n  };\n  elesfn$1.indexOfId = function (id) {\n    id = '' + id; // id must be string\n\n    return this._private.map.get(id).index;\n  };\n  elesfn$1.json = function (obj) {\n    var ele = this.element();\n    var cy = this.cy();\n    if (ele == null && obj) {\n      return this;\n    } // can't set to no eles\n\n    if (ele == null) {\n      return undefined;\n    } // can't get from no eles\n\n    var p = ele._private;\n    if (plainObject(obj)) {\n      // set\n\n      cy.startBatch();\n      if (obj.data) {\n        ele.data(obj.data);\n        var _data2 = p.data;\n        if (ele.isEdge()) {\n          // source and target are immutable via data()\n          var move = false;\n          var spec = {};\n          var src = obj.data.source;\n          var tgt = obj.data.target;\n          if (src != null && src != _data2.source) {\n            spec.source = '' + src; // id must be string\n            move = true;\n          }\n          if (tgt != null && tgt != _data2.target) {\n            spec.target = '' + tgt; // id must be string\n            move = true;\n          }\n          if (move) {\n            ele = ele.move(spec);\n          }\n        } else {\n          // parent is immutable via data()\n          var newParentValSpecd = ('parent' in obj.data);\n          var parent = obj.data.parent;\n          if (newParentValSpecd && (parent != null || _data2.parent != null) && parent != _data2.parent) {\n            if (parent === undefined) {\n              // can't set undefined imperatively, so use null\n              parent = null;\n            }\n            if (parent != null) {\n              parent = '' + parent; // id must be string\n            }\n\n            ele = ele.move({\n              parent: parent\n            });\n          }\n        }\n      }\n      if (obj.position) {\n        ele.position(obj.position);\n      }\n\n      // ignore group -- immutable\n\n      var checkSwitch = function checkSwitch(k, trueFnName, falseFnName) {\n        var obj_k = obj[k];\n        if (obj_k != null && obj_k !== p[k]) {\n          if (obj_k) {\n            ele[trueFnName]();\n          } else {\n            ele[falseFnName]();\n          }\n        }\n      };\n      checkSwitch('removed', 'remove', 'restore');\n      checkSwitch('selected', 'select', 'unselect');\n      checkSwitch('selectable', 'selectify', 'unselectify');\n      checkSwitch('locked', 'lock', 'unlock');\n      checkSwitch('grabbable', 'grabify', 'ungrabify');\n      checkSwitch('pannable', 'panify', 'unpanify');\n      if (obj.classes != null) {\n        ele.classes(obj.classes);\n      }\n      cy.endBatch();\n      return this;\n    } else if (obj === undefined) {\n      // get\n\n      var json = {\n        data: copy(p.data),\n        position: copy(p.position),\n        group: p.group,\n        removed: p.removed,\n        selected: p.selected,\n        selectable: p.selectable,\n        locked: p.locked,\n        grabbable: p.grabbable,\n        pannable: p.pannable,\n        classes: null\n      };\n      json.classes = '';\n      var i = 0;\n      p.classes.forEach(function (cls) {\n        return json.classes += i++ === 0 ? cls : ' ' + cls;\n      });\n      return json;\n    }\n  };\n  elesfn$1.jsons = function () {\n    var jsons = [];\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var json = ele.json();\n      jsons.push(json);\n    }\n    return jsons;\n  };\n  elesfn$1.clone = function () {\n    var cy = this.cy();\n    var elesArr = [];\n    for (var i = 0; i < this.length; i++) {\n      var ele = this[i];\n      var json = ele.json();\n      var clone = new Element(cy, json, false); // NB no restore\n\n      elesArr.push(clone);\n    }\n    return new Collection(cy, elesArr);\n  };\n  elesfn$1.copy = elesfn$1.clone;\n  elesfn$1.restore = function () {\n    var notifyRenderer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var addToPool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var self = this;\n    var cy = self.cy();\n    var cy_p = cy._private;\n\n    // create arrays of nodes and edges, since we need to\n    // restore the nodes first\n    var nodes = [];\n    var edges = [];\n    var elements;\n    for (var _i3 = 0, l = self.length; _i3 < l; _i3++) {\n      var ele = self[_i3];\n      if (addToPool && !ele.removed()) {\n        // don't need to handle this ele\n        continue;\n      }\n\n      // keep nodes first in the array and edges after\n      if (ele.isNode()) {\n        // put to front of array if node\n        nodes.push(ele);\n      } else {\n        // put to end of array if edge\n        edges.push(ele);\n      }\n    }\n    elements = nodes.concat(edges);\n    var i;\n    var removeFromElements = function removeFromElements() {\n      elements.splice(i, 1);\n      i--;\n    };\n\n    // now, restore each element\n    for (i = 0; i < elements.length; i++) {\n      var _ele2 = elements[i];\n      var _private = _ele2._private;\n      var _data3 = _private.data;\n\n      // the traversal cache should start fresh when ele is added\n      _ele2.clearTraversalCache();\n\n      // set id and validate\n      if (!addToPool && !_private.removed) ; else if (_data3.id === undefined) {\n        _data3.id = uuid();\n      } else if (number$1(_data3.id)) {\n        _data3.id = '' + _data3.id; // now it's a string\n      } else if (emptyString(_data3.id) || !string(_data3.id)) {\n        error('Can not create element with invalid string ID `' + _data3.id + '`');\n\n        // can't create element if it has empty string as id or non-string id\n        removeFromElements();\n        continue;\n      } else if (cy.hasElementWithId(_data3.id)) {\n        error('Can not create second element with ID `' + _data3.id + '`');\n\n        // can't create element if one already has that id\n        removeFromElements();\n        continue;\n      }\n      var id = _data3.id; // id is finalised, now let's keep a ref\n\n      if (_ele2.isNode()) {\n        // extra checks for nodes\n        var pos = _private.position;\n\n        // make sure the nodes have a defined position\n\n        if (pos.x == null) {\n          pos.x = 0;\n        }\n        if (pos.y == null) {\n          pos.y = 0;\n        }\n      }\n      if (_ele2.isEdge()) {\n        // extra checks for edges\n\n        var edge = _ele2;\n        var fields = ['source', 'target'];\n        var fieldsLength = fields.length;\n        var badSourceOrTarget = false;\n        for (var j = 0; j < fieldsLength; j++) {\n          var field = fields[j];\n          var val = _data3[field];\n          if (number$1(val)) {\n            val = _data3[field] = '' + _data3[field]; // now string\n          }\n\n          if (val == null || val === '') {\n            // can't create if source or target is not defined properly\n            error('Can not create edge `' + id + '` with unspecified ' + field);\n            badSourceOrTarget = true;\n          } else if (!cy.hasElementWithId(val)) {\n            // can't create edge if one of its nodes doesn't exist\n            error('Can not create edge `' + id + '` with nonexistant ' + field + ' `' + val + '`');\n            badSourceOrTarget = true;\n          }\n        }\n        if (badSourceOrTarget) {\n          removeFromElements();\n          continue;\n        } // can't create this\n\n        var src = cy.getElementById(_data3.source);\n        var tgt = cy.getElementById(_data3.target);\n\n        // only one edge in node if loop\n        if (src.same(tgt)) {\n          src._private.edges.push(edge);\n        } else {\n          src._private.edges.push(edge);\n          tgt._private.edges.push(edge);\n        }\n        edge._private.source = src;\n        edge._private.target = tgt;\n      } // if is edge\n\n      // create mock ids / indexes maps for element so it can be used like collections\n      _private.map = new Map$2();\n      _private.map.set(id, {\n        ele: _ele2,\n        index: 0\n      });\n      _private.removed = false;\n      if (addToPool) {\n        cy.addToPool(_ele2);\n      }\n    } // for each element\n\n    // do compound node sanity checks\n    for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n      // each node\n      var node = nodes[_i4];\n      var _data4 = node._private.data;\n      if (number$1(_data4.parent)) {\n        // then automake string\n        _data4.parent = '' + _data4.parent;\n      }\n      var parentId = _data4.parent;\n      var specifiedParent = parentId != null;\n      if (specifiedParent || node._private.parent) {\n        var parent = node._private.parent ? cy.collection().merge(node._private.parent) : cy.getElementById(parentId);\n        if (parent.empty()) {\n          // non-existant parent; just remove it\n          _data4.parent = undefined;\n        } else if (parent[0].removed()) {\n          warn('Node added with missing parent, reference to parent removed');\n          _data4.parent = undefined;\n          node._private.parent = null;\n        } else {\n          var selfAsParent = false;\n          var ancestor = parent;\n          while (!ancestor.empty()) {\n            if (node.same(ancestor)) {\n              // mark self as parent and remove from data\n              selfAsParent = true;\n              _data4.parent = undefined; // remove parent reference\n\n              // exit or we loop forever\n              break;\n            }\n            ancestor = ancestor.parent();\n          }\n          if (!selfAsParent) {\n            // connect with children\n            parent[0]._private.children.push(node);\n            node._private.parent = parent[0];\n\n            // let the core know we have a compound graph\n            cy_p.hasCompoundNodes = true;\n          }\n        } // else\n      } // if specified parent\n    } // for each node\n\n    if (elements.length > 0) {\n      var restored = elements.length === self.length ? self : new Collection(cy, elements);\n      for (var _i5 = 0; _i5 < restored.length; _i5++) {\n        var _ele3 = restored[_i5];\n        if (_ele3.isNode()) {\n          continue;\n        }\n\n        // adding an edge invalidates the traversal caches for the parallel edges\n        _ele3.parallelEdges().clearTraversalCache();\n\n        // adding an edge invalidates the traversal cache for the connected nodes\n        _ele3.source().clearTraversalCache();\n        _ele3.target().clearTraversalCache();\n      }\n      var toUpdateStyle;\n      if (cy_p.hasCompoundNodes) {\n        toUpdateStyle = cy.collection().merge(restored).merge(restored.connectedNodes()).merge(restored.parent());\n      } else {\n        toUpdateStyle = restored;\n      }\n      toUpdateStyle.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(notifyRenderer);\n      if (notifyRenderer) {\n        restored.emitAndNotify('add');\n      } else if (addToPool) {\n        restored.emit('add');\n      }\n    }\n    return self; // chainability\n  };\n\n  elesfn$1.removed = function () {\n    var ele = this[0];\n    return ele && ele._private.removed;\n  };\n  elesfn$1.inside = function () {\n    var ele = this[0];\n    return ele && !ele._private.removed;\n  };\n  elesfn$1.remove = function () {\n    var notifyRenderer = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    var removeFromPool = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    var self = this;\n    var elesToRemove = [];\n    var elesToRemoveIds = {};\n    var cy = self._private.cy;\n\n    // add connected edges\n    function addConnectedEdges(node) {\n      var edges = node._private.edges;\n      for (var i = 0; i < edges.length; i++) {\n        add(edges[i]);\n      }\n    }\n\n    // add descendant nodes\n    function addChildren(node) {\n      var children = node._private.children;\n      for (var i = 0; i < children.length; i++) {\n        add(children[i]);\n      }\n    }\n    function add(ele) {\n      var alreadyAdded = elesToRemoveIds[ele.id()];\n      if (removeFromPool && ele.removed() || alreadyAdded) {\n        return;\n      } else {\n        elesToRemoveIds[ele.id()] = true;\n      }\n      if (ele.isNode()) {\n        elesToRemove.push(ele); // nodes are removed last\n\n        addConnectedEdges(ele);\n        addChildren(ele);\n      } else {\n        elesToRemove.unshift(ele); // edges are removed first\n      }\n    }\n\n    // make the list of elements to remove\n    // (may be removing more than specified due to connected edges etc)\n\n    for (var i = 0, l = self.length; i < l; i++) {\n      var ele = self[i];\n      add(ele);\n    }\n    function removeEdgeRef(node, edge) {\n      var connectedEdges = node._private.edges;\n      removeFromArray(connectedEdges, edge);\n\n      // removing an edges invalidates the traversal cache for its nodes\n      node.clearTraversalCache();\n    }\n    function removeParallelRef(pllEdge) {\n      // removing an edge invalidates the traversal caches for the parallel edges\n      pllEdge.clearTraversalCache();\n    }\n    var alteredParents = [];\n    alteredParents.ids = {};\n    function removeChildRef(parent, ele) {\n      ele = ele[0];\n      parent = parent[0];\n      var children = parent._private.children;\n      var pid = parent.id();\n      removeFromArray(children, ele); // remove parent => child ref\n\n      ele._private.parent = null; // remove child => parent ref\n\n      if (!alteredParents.ids[pid]) {\n        alteredParents.ids[pid] = true;\n        alteredParents.push(parent);\n      }\n    }\n    self.dirtyCompoundBoundsCache();\n    if (removeFromPool) {\n      cy.removeFromPool(elesToRemove); // remove from core pool\n    }\n\n    for (var _i6 = 0; _i6 < elesToRemove.length; _i6++) {\n      var _ele4 = elesToRemove[_i6];\n      if (_ele4.isEdge()) {\n        // remove references to this edge in its connected nodes\n        var src = _ele4.source()[0];\n        var tgt = _ele4.target()[0];\n        removeEdgeRef(src, _ele4);\n        removeEdgeRef(tgt, _ele4);\n        var pllEdges = _ele4.parallelEdges();\n        for (var j = 0; j < pllEdges.length; j++) {\n          var pllEdge = pllEdges[j];\n          removeParallelRef(pllEdge);\n          if (pllEdge.isBundledBezier()) {\n            pllEdge.dirtyBoundingBoxCache();\n          }\n        }\n      } else {\n        // remove reference to parent\n        var parent = _ele4.parent();\n        if (parent.length !== 0) {\n          removeChildRef(parent, _ele4);\n        }\n      }\n      if (removeFromPool) {\n        // mark as removed\n        _ele4._private.removed = true;\n      }\n    }\n\n    // check to see if we have a compound graph or not\n    var elesStillInside = cy._private.elements;\n    cy._private.hasCompoundNodes = false;\n    for (var _i7 = 0; _i7 < elesStillInside.length; _i7++) {\n      var _ele5 = elesStillInside[_i7];\n      if (_ele5.isParent()) {\n        cy._private.hasCompoundNodes = true;\n        break;\n      }\n    }\n    var removedElements = new Collection(this.cy(), elesToRemove);\n    if (removedElements.size() > 0) {\n      // must manually notify since trigger won't do this automatically once removed\n\n      if (notifyRenderer) {\n        removedElements.emitAndNotify('remove');\n      } else if (removeFromPool) {\n        removedElements.emit('remove');\n      }\n    }\n\n    // the parents who were modified by the removal need their style updated\n    for (var _i8 = 0; _i8 < alteredParents.length; _i8++) {\n      var _ele6 = alteredParents[_i8];\n      if (!removeFromPool || !_ele6.removed()) {\n        _ele6.updateStyle();\n      }\n    }\n    return removedElements;\n  };\n  elesfn$1.move = function (struct) {\n    var cy = this._private.cy;\n    var eles = this;\n\n    // just clean up refs, caches, etc. in the same way as when removing and then restoring\n    // (our calls to remove/restore do not remove from the graph or make events)\n    var notifyRenderer = false;\n    var modifyPool = false;\n    var toString = function toString(id) {\n      return id == null ? id : '' + id;\n    }; // id must be string\n\n    if (struct.source !== undefined || struct.target !== undefined) {\n      var srcId = toString(struct.source);\n      var tgtId = toString(struct.target);\n      var srcExists = srcId != null && cy.hasElementWithId(srcId);\n      var tgtExists = tgtId != null && cy.hasElementWithId(tgtId);\n      if (srcExists || tgtExists) {\n        cy.batch(function () {\n          // avoid duplicate style updates\n          eles.remove(notifyRenderer, modifyPool); // clean up refs etc.\n          eles.emitAndNotify('moveout');\n          for (var i = 0; i < eles.length; i++) {\n            var ele = eles[i];\n            var _data5 = ele._private.data;\n            if (ele.isEdge()) {\n              if (srcExists) {\n                _data5.source = srcId;\n              }\n              if (tgtExists) {\n                _data5.target = tgtId;\n              }\n            }\n          }\n          eles.restore(notifyRenderer, modifyPool); // make new refs, style, etc.\n        });\n\n        eles.emitAndNotify('move');\n      }\n    } else if (struct.parent !== undefined) {\n      // move node to new parent\n      var parentId = toString(struct.parent);\n      var parentExists = parentId === null || cy.hasElementWithId(parentId);\n      if (parentExists) {\n        var pidToAssign = parentId === null ? undefined : parentId;\n        cy.batch(function () {\n          // avoid duplicate style updates\n          var updated = eles.remove(notifyRenderer, modifyPool); // clean up refs etc.\n          updated.emitAndNotify('moveout');\n          for (var i = 0; i < eles.length; i++) {\n            var ele = eles[i];\n            var _data6 = ele._private.data;\n            if (ele.isNode()) {\n              _data6.parent = pidToAssign;\n            }\n          }\n          updated.restore(notifyRenderer, modifyPool); // make new refs, style, etc.\n        });\n\n        eles.emitAndNotify('move');\n      }\n    }\n    return this;\n  };\n  [elesfn$j, elesfn$i, elesfn$h, elesfn$g, elesfn$f, data, elesfn$d, dimensions, elesfn$9, elesfn$8, elesfn$7, elesfn$6, elesfn$5, elesfn$4, elesfn$3, elesfn$2].forEach(function (props) {\n    extend(elesfn$1, props);\n  });\n\n  var corefn$9 = {\n    add: function add(opts) {\n      var elements;\n      var cy = this;\n\n      // add the elements\n      if (elementOrCollection(opts)) {\n        var eles = opts;\n        if (eles._private.cy === cy) {\n          // same instance => just restore\n          elements = eles.restore();\n        } else {\n          // otherwise, copy from json\n          var jsons = [];\n          for (var i = 0; i < eles.length; i++) {\n            var ele = eles[i];\n            jsons.push(ele.json());\n          }\n          elements = new Collection(cy, jsons);\n        }\n      }\n\n      // specify an array of options\n      else if (array(opts)) {\n        var _jsons = opts;\n        elements = new Collection(cy, _jsons);\n      }\n\n      // specify via opts.nodes and opts.edges\n      else if (plainObject(opts) && (array(opts.nodes) || array(opts.edges))) {\n        var elesByGroup = opts;\n        var _jsons2 = [];\n        var grs = ['nodes', 'edges'];\n        for (var _i = 0, il = grs.length; _i < il; _i++) {\n          var group = grs[_i];\n          var elesArray = elesByGroup[group];\n          if (array(elesArray)) {\n            for (var j = 0, jl = elesArray.length; j < jl; j++) {\n              var json = extend({\n                group: group\n              }, elesArray[j]);\n              _jsons2.push(json);\n            }\n          }\n        }\n        elements = new Collection(cy, _jsons2);\n      }\n\n      // specify options for one element\n      else {\n        var _json = opts;\n        elements = new Element(cy, _json).collection();\n      }\n      return elements;\n    },\n    remove: function remove(collection) {\n      if (elementOrCollection(collection)) ; else if (string(collection)) {\n        var selector = collection;\n        collection = this.$(selector);\n      }\n      return collection.remove();\n    }\n  };\n\n  /* global Float32Array */\n\n  /*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */\n  function generateCubicBezier(mX1, mY1, mX2, mY2) {\n    var NEWTON_ITERATIONS = 4,\n      NEWTON_MIN_SLOPE = 0.001,\n      SUBDIVISION_PRECISION = 0.0000001,\n      SUBDIVISION_MAX_ITERATIONS = 10,\n      kSplineTableSize = 11,\n      kSampleStepSize = 1.0 / (kSplineTableSize - 1.0),\n      float32ArraySupported = typeof Float32Array !== 'undefined';\n\n    /* Must contain four arguments. */\n    if (arguments.length !== 4) {\n      return false;\n    }\n\n    /* Arguments must be numbers. */\n    for (var i = 0; i < 4; ++i) {\n      if (typeof arguments[i] !== \"number\" || isNaN(arguments[i]) || !isFinite(arguments[i])) {\n        return false;\n      }\n    }\n\n    /* X values must be in the [0, 1] range. */\n    mX1 = Math.min(mX1, 1);\n    mX2 = Math.min(mX2, 1);\n    mX1 = Math.max(mX1, 0);\n    mX2 = Math.max(mX2, 0);\n    var mSampleValues = float32ArraySupported ? new Float32Array(kSplineTableSize) : new Array(kSplineTableSize);\n    function A(aA1, aA2) {\n      return 1.0 - 3.0 * aA2 + 3.0 * aA1;\n    }\n    function B(aA1, aA2) {\n      return 3.0 * aA2 - 6.0 * aA1;\n    }\n    function C(aA1) {\n      return 3.0 * aA1;\n    }\n    function calcBezier(aT, aA1, aA2) {\n      return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT;\n    }\n    function getSlope(aT, aA1, aA2) {\n      return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1);\n    }\n    function newtonRaphsonIterate(aX, aGuessT) {\n      for (var _i = 0; _i < NEWTON_ITERATIONS; ++_i) {\n        var currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) {\n          return aGuessT;\n        }\n        var currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n      return aGuessT;\n    }\n    function calcSampleValues() {\n      for (var _i2 = 0; _i2 < kSplineTableSize; ++_i2) {\n        mSampleValues[_i2] = calcBezier(_i2 * kSampleStepSize, mX1, mX2);\n      }\n    }\n    function binarySubdivide(aX, aA, aB) {\n      var currentX,\n        currentT,\n        i = 0;\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) {\n          aB = currentT;\n        } else {\n          aA = currentT;\n        }\n      } while (Math.abs(currentX) > SUBDIVISION_PRECISION && ++i < SUBDIVISION_MAX_ITERATIONS);\n      return currentT;\n    }\n    function getTForX(aX) {\n      var intervalStart = 0.0,\n        currentSample = 1,\n        lastSample = kSplineTableSize - 1;\n      for (; currentSample !== lastSample && mSampleValues[currentSample] <= aX; ++currentSample) {\n        intervalStart += kSampleStepSize;\n      }\n      --currentSample;\n      var dist = (aX - mSampleValues[currentSample]) / (mSampleValues[currentSample + 1] - mSampleValues[currentSample]),\n        guessForT = intervalStart + dist * kSampleStepSize,\n        initialSlope = getSlope(guessForT, mX1, mX2);\n      if (initialSlope >= NEWTON_MIN_SLOPE) {\n        return newtonRaphsonIterate(aX, guessForT);\n      } else if (initialSlope === 0.0) {\n        return guessForT;\n      } else {\n        return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize);\n      }\n    }\n    var _precomputed = false;\n    function precompute() {\n      _precomputed = true;\n      if (mX1 !== mY1 || mX2 !== mY2) {\n        calcSampleValues();\n      }\n    }\n    var f = function f(aX) {\n      if (!_precomputed) {\n        precompute();\n      }\n      if (mX1 === mY1 && mX2 === mY2) {\n        return aX;\n      }\n      if (aX === 0) {\n        return 0;\n      }\n      if (aX === 1) {\n        return 1;\n      }\n      return calcBezier(getTForX(aX), mY1, mY2);\n    };\n    f.getControlPoints = function () {\n      return [{\n        x: mX1,\n        y: mY1\n      }, {\n        x: mX2,\n        y: mY2\n      }];\n    };\n    var str = \"generateBezier(\" + [mX1, mY1, mX2, mY2] + \")\";\n    f.toString = function () {\n      return str;\n    };\n    return f;\n  }\n\n  /*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */\n  /* Given a tension, friction, and duration, a simulation at 60FPS will first run without a defined duration in order to calculate the full path. A second pass\n     then adjusts the time delta -- using the relation between actual time and duration -- to calculate the path for the duration-constrained animation. */\n  var generateSpringRK4 = function () {\n    function springAccelerationForState(state) {\n      return -state.tension * state.x - state.friction * state.v;\n    }\n    function springEvaluateStateWithDerivative(initialState, dt, derivative) {\n      var state = {\n        x: initialState.x + derivative.dx * dt,\n        v: initialState.v + derivative.dv * dt,\n        tension: initialState.tension,\n        friction: initialState.friction\n      };\n      return {\n        dx: state.v,\n        dv: springAccelerationForState(state)\n      };\n    }\n    function springIntegrateState(state, dt) {\n      var a = {\n          dx: state.v,\n          dv: springAccelerationForState(state)\n        },\n        b = springEvaluateStateWithDerivative(state, dt * 0.5, a),\n        c = springEvaluateStateWithDerivative(state, dt * 0.5, b),\n        d = springEvaluateStateWithDerivative(state, dt, c),\n        dxdt = 1.0 / 6.0 * (a.dx + 2.0 * (b.dx + c.dx) + d.dx),\n        dvdt = 1.0 / 6.0 * (a.dv + 2.0 * (b.dv + c.dv) + d.dv);\n      state.x = state.x + dxdt * dt;\n      state.v = state.v + dvdt * dt;\n      return state;\n    }\n    return function springRK4Factory(tension, friction, duration) {\n      var initState = {\n          x: -1,\n          v: 0,\n          tension: null,\n          friction: null\n        },\n        path = [0],\n        time_lapsed = 0,\n        tolerance = 1 / 10000,\n        DT = 16 / 1000,\n        have_duration,\n        dt,\n        last_state;\n      tension = parseFloat(tension) || 500;\n      friction = parseFloat(friction) || 20;\n      duration = duration || null;\n      initState.tension = tension;\n      initState.friction = friction;\n      have_duration = duration !== null;\n\n      /* Calculate the actual time it takes for this animation to complete with the provided conditions. */\n      if (have_duration) {\n        /* Run the simulation without a duration. */\n        time_lapsed = springRK4Factory(tension, friction);\n        /* Compute the adjusted time delta. */\n        dt = time_lapsed / duration * DT;\n      } else {\n        dt = DT;\n      }\n      for (;;) {\n        /* Next/step function .*/\n        last_state = springIntegrateState(last_state || initState, dt);\n        /* Store the position. */\n        path.push(1 + last_state.x);\n        time_lapsed += 16;\n        /* If the change threshold is reached, break. */\n        if (!(Math.abs(last_state.x) > tolerance && Math.abs(last_state.v) > tolerance)) {\n          break;\n        }\n      }\n\n      /* If duration is not defined, return the actual time required for completing this animation. Otherwise, return a closure that holds the\n         computed path and returns a snapshot of the position according to a given percentComplete. */\n      return !have_duration ? time_lapsed : function (percentComplete) {\n        return path[percentComplete * (path.length - 1) | 0];\n      };\n    };\n  }();\n\n  var cubicBezier = function cubicBezier(t1, p1, t2, p2) {\n    var bezier = generateCubicBezier(t1, p1, t2, p2);\n    return function (start, end, percent) {\n      return start + (end - start) * bezier(percent);\n    };\n  };\n  var easings = {\n    'linear': function linear(start, end, percent) {\n      return start + (end - start) * percent;\n    },\n    // default easings\n    'ease': cubicBezier(0.25, 0.1, 0.25, 1),\n    'ease-in': cubicBezier(0.42, 0, 1, 1),\n    'ease-out': cubicBezier(0, 0, 0.58, 1),\n    'ease-in-out': cubicBezier(0.42, 0, 0.58, 1),\n    // sine\n    'ease-in-sine': cubicBezier(0.47, 0, 0.745, 0.715),\n    'ease-out-sine': cubicBezier(0.39, 0.575, 0.565, 1),\n    'ease-in-out-sine': cubicBezier(0.445, 0.05, 0.55, 0.95),\n    // quad\n    'ease-in-quad': cubicBezier(0.55, 0.085, 0.68, 0.53),\n    'ease-out-quad': cubicBezier(0.25, 0.46, 0.45, 0.94),\n    'ease-in-out-quad': cubicBezier(0.455, 0.03, 0.515, 0.955),\n    // cubic\n    'ease-in-cubic': cubicBezier(0.55, 0.055, 0.675, 0.19),\n    'ease-out-cubic': cubicBezier(0.215, 0.61, 0.355, 1),\n    'ease-in-out-cubic': cubicBezier(0.645, 0.045, 0.355, 1),\n    // quart\n    'ease-in-quart': cubicBezier(0.895, 0.03, 0.685, 0.22),\n    'ease-out-quart': cubicBezier(0.165, 0.84, 0.44, 1),\n    'ease-in-out-quart': cubicBezier(0.77, 0, 0.175, 1),\n    // quint\n    'ease-in-quint': cubicBezier(0.755, 0.05, 0.855, 0.06),\n    'ease-out-quint': cubicBezier(0.23, 1, 0.32, 1),\n    'ease-in-out-quint': cubicBezier(0.86, 0, 0.07, 1),\n    // expo\n    'ease-in-expo': cubicBezier(0.95, 0.05, 0.795, 0.035),\n    'ease-out-expo': cubicBezier(0.19, 1, 0.22, 1),\n    'ease-in-out-expo': cubicBezier(1, 0, 0, 1),\n    // circ\n    'ease-in-circ': cubicBezier(0.6, 0.04, 0.98, 0.335),\n    'ease-out-circ': cubicBezier(0.075, 0.82, 0.165, 1),\n    'ease-in-out-circ': cubicBezier(0.785, 0.135, 0.15, 0.86),\n    // user param easings...\n\n    'spring': function spring(tension, friction, duration) {\n      if (duration === 0) {\n        // can't get a spring w/ duration 0\n        return easings.linear; // duration 0 => jump to end so impl doesn't matter\n      }\n\n      var spring = generateSpringRK4(tension, friction, duration);\n      return function (start, end, percent) {\n        return start + (end - start) * spring(percent);\n      };\n    },\n    'cubic-bezier': cubicBezier\n  };\n\n  function getEasedValue(type, start, end, percent, easingFn) {\n    if (percent === 1) {\n      return end;\n    }\n    if (start === end) {\n      return end;\n    }\n    var val = easingFn(start, end, percent);\n    if (type == null) {\n      return val;\n    }\n    if (type.roundValue || type.color) {\n      val = Math.round(val);\n    }\n    if (type.min !== undefined) {\n      val = Math.max(val, type.min);\n    }\n    if (type.max !== undefined) {\n      val = Math.min(val, type.max);\n    }\n    return val;\n  }\n  function getValue(prop, spec) {\n    if (prop.pfValue != null || prop.value != null) {\n      if (prop.pfValue != null && (spec == null || spec.type.units !== '%')) {\n        return prop.pfValue;\n      } else {\n        return prop.value;\n      }\n    } else {\n      return prop;\n    }\n  }\n  function ease(startProp, endProp, percent, easingFn, propSpec) {\n    var type = propSpec != null ? propSpec.type : null;\n    if (percent < 0) {\n      percent = 0;\n    } else if (percent > 1) {\n      percent = 1;\n    }\n    var start = getValue(startProp, propSpec);\n    var end = getValue(endProp, propSpec);\n    if (number$1(start) && number$1(end)) {\n      return getEasedValue(type, start, end, percent, easingFn);\n    } else if (array(start) && array(end)) {\n      var easedArr = [];\n      for (var i = 0; i < end.length; i++) {\n        var si = start[i];\n        var ei = end[i];\n        if (si != null && ei != null) {\n          var val = getEasedValue(type, si, ei, percent, easingFn);\n          easedArr.push(val);\n        } else {\n          easedArr.push(ei);\n        }\n      }\n      return easedArr;\n    }\n    return undefined;\n  }\n\n  function step$1(self, ani, now, isCore) {\n    var isEles = !isCore;\n    var _p = self._private;\n    var ani_p = ani._private;\n    var pEasing = ani_p.easing;\n    var startTime = ani_p.startTime;\n    var cy = isCore ? self : self.cy();\n    var style = cy.style();\n    if (!ani_p.easingImpl) {\n      if (pEasing == null) {\n        // use default\n        ani_p.easingImpl = easings['linear'];\n      } else {\n        // then define w/ name\n        var easingVals;\n        if (string(pEasing)) {\n          var easingProp = style.parse('transition-timing-function', pEasing);\n          easingVals = easingProp.value;\n        } else {\n          // then assume preparsed array\n          easingVals = pEasing;\n        }\n        var name, args;\n        if (string(easingVals)) {\n          name = easingVals;\n          args = [];\n        } else {\n          name = easingVals[1];\n          args = easingVals.slice(2).map(function (n) {\n            return +n;\n          });\n        }\n        if (args.length > 0) {\n          // create with args\n          if (name === 'spring') {\n            args.push(ani_p.duration); // need duration to generate spring\n          }\n\n          ani_p.easingImpl = easings[name].apply(null, args);\n        } else {\n          // static impl by name\n          ani_p.easingImpl = easings[name];\n        }\n      }\n    }\n    var easing = ani_p.easingImpl;\n    var percent;\n    if (ani_p.duration === 0) {\n      percent = 1;\n    } else {\n      percent = (now - startTime) / ani_p.duration;\n    }\n    if (ani_p.applying) {\n      percent = ani_p.progress;\n    }\n    if (percent < 0) {\n      percent = 0;\n    } else if (percent > 1) {\n      percent = 1;\n    }\n    if (ani_p.delay == null) {\n      // then update\n\n      var startPos = ani_p.startPosition;\n      var endPos = ani_p.position;\n      if (endPos && isEles && !self.locked()) {\n        var newPos = {};\n        if (valid(startPos.x, endPos.x)) {\n          newPos.x = ease(startPos.x, endPos.x, percent, easing);\n        }\n        if (valid(startPos.y, endPos.y)) {\n          newPos.y = ease(startPos.y, endPos.y, percent, easing);\n        }\n        self.position(newPos);\n      }\n      var startPan = ani_p.startPan;\n      var endPan = ani_p.pan;\n      var pan = _p.pan;\n      var animatingPan = endPan != null && isCore;\n      if (animatingPan) {\n        if (valid(startPan.x, endPan.x)) {\n          pan.x = ease(startPan.x, endPan.x, percent, easing);\n        }\n        if (valid(startPan.y, endPan.y)) {\n          pan.y = ease(startPan.y, endPan.y, percent, easing);\n        }\n        self.emit('pan');\n      }\n      var startZoom = ani_p.startZoom;\n      var endZoom = ani_p.zoom;\n      var animatingZoom = endZoom != null && isCore;\n      if (animatingZoom) {\n        if (valid(startZoom, endZoom)) {\n          _p.zoom = bound(_p.minZoom, ease(startZoom, endZoom, percent, easing), _p.maxZoom);\n        }\n        self.emit('zoom');\n      }\n      if (animatingPan || animatingZoom) {\n        self.emit('viewport');\n      }\n      var props = ani_p.style;\n      if (props && props.length > 0 && isEles) {\n        for (var i = 0; i < props.length; i++) {\n          var prop = props[i];\n          var _name = prop.name;\n          var end = prop;\n          var start = ani_p.startStyle[_name];\n          var propSpec = style.properties[start.name];\n          var easedVal = ease(start, end, percent, easing, propSpec);\n          style.overrideBypass(self, _name, easedVal);\n        } // for props\n\n        self.emit('style');\n      } // if\n    }\n\n    ani_p.progress = percent;\n    return percent;\n  }\n  function valid(start, end) {\n    if (start == null || end == null) {\n      return false;\n    }\n    if (number$1(start) && number$1(end)) {\n      return true;\n    } else if (start && end) {\n      return true;\n    }\n    return false;\n  }\n\n  function startAnimation(self, ani, now, isCore) {\n    var ani_p = ani._private;\n    ani_p.started = true;\n    ani_p.startTime = now - ani_p.progress * ani_p.duration;\n  }\n\n  function stepAll(now, cy) {\n    var eles = cy._private.aniEles;\n    var doneEles = [];\n    function stepOne(ele, isCore) {\n      var _p = ele._private;\n      var current = _p.animation.current;\n      var queue = _p.animation.queue;\n      var ranAnis = false;\n\n      // if nothing currently animating, get something from the queue\n      if (current.length === 0) {\n        var next = queue.shift();\n        if (next) {\n          current.push(next);\n        }\n      }\n      var callbacks = function callbacks(_callbacks) {\n        for (var j = _callbacks.length - 1; j >= 0; j--) {\n          var cb = _callbacks[j];\n          cb();\n        }\n        _callbacks.splice(0, _callbacks.length);\n      };\n\n      // step and remove if done\n      for (var i = current.length - 1; i >= 0; i--) {\n        var ani = current[i];\n        var ani_p = ani._private;\n        if (ani_p.stopped) {\n          current.splice(i, 1);\n          ani_p.hooked = false;\n          ani_p.playing = false;\n          ani_p.started = false;\n          callbacks(ani_p.frames);\n          continue;\n        }\n        if (!ani_p.playing && !ani_p.applying) {\n          continue;\n        }\n\n        // an apply() while playing shouldn't do anything\n        if (ani_p.playing && ani_p.applying) {\n          ani_p.applying = false;\n        }\n        if (!ani_p.started) {\n          startAnimation(ele, ani, now);\n        }\n        step$1(ele, ani, now, isCore);\n        if (ani_p.applying) {\n          ani_p.applying = false;\n        }\n        callbacks(ani_p.frames);\n        if (ani_p.step != null) {\n          ani_p.step(now);\n        }\n        if (ani.completed()) {\n          current.splice(i, 1);\n          ani_p.hooked = false;\n          ani_p.playing = false;\n          ani_p.started = false;\n          callbacks(ani_p.completes);\n        }\n        ranAnis = true;\n      }\n      if (!isCore && current.length === 0 && queue.length === 0) {\n        doneEles.push(ele);\n      }\n      return ranAnis;\n    } // stepElement\n\n    // handle all eles\n    var ranEleAni = false;\n    for (var e = 0; e < eles.length; e++) {\n      var ele = eles[e];\n      var handledThisEle = stepOne(ele);\n      ranEleAni = ranEleAni || handledThisEle;\n    } // each element\n\n    var ranCoreAni = stepOne(cy, true);\n\n    // notify renderer\n    if (ranEleAni || ranCoreAni) {\n      if (eles.length > 0) {\n        cy.notify('draw', eles);\n      } else {\n        cy.notify('draw');\n      }\n    }\n\n    // remove elements from list of currently animating if its queues are empty\n    eles.unmerge(doneEles);\n    cy.emit('step');\n  } // stepAll\n\n  var corefn$8 = {\n    // pull in animation functions\n    animate: define.animate(),\n    animation: define.animation(),\n    animated: define.animated(),\n    clearQueue: define.clearQueue(),\n    delay: define.delay(),\n    delayAnimation: define.delayAnimation(),\n    stop: define.stop(),\n    addToAnimationPool: function addToAnimationPool(eles) {\n      var cy = this;\n      if (!cy.styleEnabled()) {\n        return;\n      } // save cycles when no style used\n\n      cy._private.aniEles.merge(eles);\n    },\n    stopAnimationLoop: function stopAnimationLoop() {\n      this._private.animationsRunning = false;\n    },\n    startAnimationLoop: function startAnimationLoop() {\n      var cy = this;\n      cy._private.animationsRunning = true;\n      if (!cy.styleEnabled()) {\n        return;\n      } // save cycles when no style used\n\n      // NB the animation loop will exec in headless environments if style enabled\n      // and explicit cy.destroy() is necessary to stop the loop\n\n      function headlessStep() {\n        if (!cy._private.animationsRunning) {\n          return;\n        }\n        requestAnimationFrame(function animationStep(now) {\n          stepAll(now, cy);\n          headlessStep();\n        });\n      }\n      var renderer = cy.renderer();\n      if (renderer && renderer.beforeRender) {\n        // let the renderer schedule animations\n        renderer.beforeRender(function rendererAnimationStep(willDraw, now) {\n          stepAll(now, cy);\n        }, renderer.beforeRenderPriorities.animations);\n      } else {\n        // manage the animation loop ourselves\n        headlessStep(); // first call\n      }\n    }\n  };\n\n  var emitterOptions = {\n    qualifierCompare: function qualifierCompare(selector1, selector2) {\n      if (selector1 == null || selector2 == null) {\n        return selector1 == null && selector2 == null;\n      } else {\n        return selector1.sameText(selector2);\n      }\n    },\n    eventMatches: function eventMatches(cy, listener, eventObj) {\n      var selector = listener.qualifier;\n      if (selector != null) {\n        return cy !== eventObj.target && element(eventObj.target) && selector.matches(eventObj.target);\n      }\n      return true;\n    },\n    addEventFields: function addEventFields(cy, evt) {\n      evt.cy = cy;\n      evt.target = cy;\n    },\n    callbackContext: function callbackContext(cy, listener, eventObj) {\n      return listener.qualifier != null ? eventObj.target : cy;\n    }\n  };\n  var argSelector = function argSelector(arg) {\n    if (string(arg)) {\n      return new Selector(arg);\n    } else {\n      return arg;\n    }\n  };\n  var elesfn = {\n    createEmitter: function createEmitter() {\n      var _p = this._private;\n      if (!_p.emitter) {\n        _p.emitter = new Emitter(emitterOptions, this);\n      }\n      return this;\n    },\n    emitter: function emitter() {\n      return this._private.emitter;\n    },\n    on: function on(events, selector, callback) {\n      this.emitter().on(events, argSelector(selector), callback);\n      return this;\n    },\n    removeListener: function removeListener(events, selector, callback) {\n      this.emitter().removeListener(events, argSelector(selector), callback);\n      return this;\n    },\n    removeAllListeners: function removeAllListeners() {\n      this.emitter().removeAllListeners();\n      return this;\n    },\n    one: function one(events, selector, callback) {\n      this.emitter().one(events, argSelector(selector), callback);\n      return this;\n    },\n    once: function once(events, selector, callback) {\n      this.emitter().one(events, argSelector(selector), callback);\n      return this;\n    },\n    emit: function emit(events, extraParams) {\n      this.emitter().emit(events, extraParams);\n      return this;\n    },\n    emitAndNotify: function emitAndNotify(event, eles) {\n      this.emit(event);\n      this.notify(event, eles);\n      return this;\n    }\n  };\n  define.eventAliasesOn(elesfn);\n\n  var corefn$7 = {\n    png: function png(options) {\n      var renderer = this._private.renderer;\n      options = options || {};\n      return renderer.png(options);\n    },\n    jpg: function jpg(options) {\n      var renderer = this._private.renderer;\n      options = options || {};\n      options.bg = options.bg || '#fff';\n      return renderer.jpg(options);\n    }\n  };\n  corefn$7.jpeg = corefn$7.jpg;\n\n  var corefn$6 = {\n    layout: function layout(options) {\n      var cy = this;\n      if (options == null) {\n        error('Layout options must be specified to make a layout');\n        return;\n      }\n      if (options.name == null) {\n        error('A `name` must be specified to make a layout');\n        return;\n      }\n      var name = options.name;\n      var Layout = cy.extension('layout', name);\n      if (Layout == null) {\n        error('No such layout `' + name + '` found.  Did you forget to import it and `cytoscape.use()` it?');\n        return;\n      }\n      var eles;\n      if (string(options.eles)) {\n        eles = cy.$(options.eles);\n      } else {\n        eles = options.eles != null ? options.eles : cy.$();\n      }\n      var layout = new Layout(extend({}, options, {\n        cy: cy,\n        eles: eles\n      }));\n      return layout;\n    }\n  };\n  corefn$6.createLayout = corefn$6.makeLayout = corefn$6.layout;\n\n  var corefn$5 = {\n    notify: function notify(eventName, eventEles) {\n      var _p = this._private;\n      if (this.batching()) {\n        _p.batchNotifications = _p.batchNotifications || {};\n        var eles = _p.batchNotifications[eventName] = _p.batchNotifications[eventName] || this.collection();\n        if (eventEles != null) {\n          eles.merge(eventEles);\n        }\n        return; // notifications are disabled during batching\n      }\n\n      if (!_p.notificationsEnabled) {\n        return;\n      } // exit on disabled\n\n      var renderer = this.renderer();\n\n      // exit if destroy() called on core or renderer in between frames #1499 #1528\n      if (this.destroyed() || !renderer) {\n        return;\n      }\n      renderer.notify(eventName, eventEles);\n    },\n    notifications: function notifications(bool) {\n      var p = this._private;\n      if (bool === undefined) {\n        return p.notificationsEnabled;\n      } else {\n        p.notificationsEnabled = bool ? true : false;\n      }\n      return this;\n    },\n    noNotifications: function noNotifications(callback) {\n      this.notifications(false);\n      callback();\n      this.notifications(true);\n    },\n    batching: function batching() {\n      return this._private.batchCount > 0;\n    },\n    startBatch: function startBatch() {\n      var _p = this._private;\n      if (_p.batchCount == null) {\n        _p.batchCount = 0;\n      }\n      if (_p.batchCount === 0) {\n        _p.batchStyleEles = this.collection();\n        _p.batchNotifications = {};\n      }\n      _p.batchCount++;\n      return this;\n    },\n    endBatch: function endBatch() {\n      var _p = this._private;\n      if (_p.batchCount === 0) {\n        return this;\n      }\n      _p.batchCount--;\n      if (_p.batchCount === 0) {\n        // update style for dirty eles\n        _p.batchStyleEles.updateStyle();\n        var renderer = this.renderer();\n\n        // notify the renderer of queued eles and event types\n        Object.keys(_p.batchNotifications).forEach(function (eventName) {\n          var eles = _p.batchNotifications[eventName];\n          if (eles.empty()) {\n            renderer.notify(eventName);\n          } else {\n            renderer.notify(eventName, eles);\n          }\n        });\n      }\n      return this;\n    },\n    batch: function batch(callback) {\n      this.startBatch();\n      callback();\n      this.endBatch();\n      return this;\n    },\n    // for backwards compatibility\n    batchData: function batchData(map) {\n      var cy = this;\n      return this.batch(function () {\n        var ids = Object.keys(map);\n        for (var i = 0; i < ids.length; i++) {\n          var id = ids[i];\n          var data = map[id];\n          var ele = cy.getElementById(id);\n          ele.data(data);\n        }\n      });\n    }\n  };\n\n  var rendererDefaults = defaults$g({\n    hideEdgesOnViewport: false,\n    textureOnViewport: false,\n    motionBlur: false,\n    motionBlurOpacity: 0.05,\n    pixelRatio: undefined,\n    desktopTapThreshold: 4,\n    touchTapThreshold: 8,\n    wheelSensitivity: 1,\n    debug: false,\n    showFps: false\n  });\n  var corefn$4 = {\n    renderTo: function renderTo(context, zoom, pan, pxRatio) {\n      var r = this._private.renderer;\n      r.renderTo(context, zoom, pan, pxRatio);\n      return this;\n    },\n    renderer: function renderer() {\n      return this._private.renderer;\n    },\n    forceRender: function forceRender() {\n      this.notify('draw');\n      return this;\n    },\n    resize: function resize() {\n      this.invalidateSize();\n      this.emitAndNotify('resize');\n      return this;\n    },\n    initRenderer: function initRenderer(options) {\n      var cy = this;\n      var RendererProto = cy.extension('renderer', options.name);\n      if (RendererProto == null) {\n        error(\"Can not initialise: No such renderer `\".concat(options.name, \"` found. Did you forget to import it and `cytoscape.use()` it?\"));\n        return;\n      }\n      if (options.wheelSensitivity !== undefined) {\n        warn(\"You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.\");\n      }\n      var rOpts = rendererDefaults(options);\n      rOpts.cy = cy;\n      cy._private.renderer = new RendererProto(rOpts);\n      this.notify('init');\n    },\n    destroyRenderer: function destroyRenderer() {\n      var cy = this;\n      cy.notify('destroy'); // destroy the renderer\n\n      var domEle = cy.container();\n      if (domEle) {\n        domEle._cyreg = null;\n        while (domEle.childNodes.length > 0) {\n          domEle.removeChild(domEle.childNodes[0]);\n        }\n      }\n      cy._private.renderer = null; // to be extra safe, remove the ref\n      cy.mutableElements().forEach(function (ele) {\n        var _p = ele._private;\n        _p.rscratch = {};\n        _p.rstyle = {};\n        _p.animation.current = [];\n        _p.animation.queue = [];\n      });\n    },\n    onRender: function onRender(fn) {\n      return this.on('render', fn);\n    },\n    offRender: function offRender(fn) {\n      return this.off('render', fn);\n    }\n  };\n  corefn$4.invalidateDimensions = corefn$4.resize;\n\n  var corefn$3 = {\n    // get a collection\n    // - empty collection on no args\n    // - collection of elements in the graph on selector arg\n    // - guarantee a returned collection when elements or collection specified\n    collection: function collection(eles, opts) {\n      if (string(eles)) {\n        return this.$(eles);\n      } else if (elementOrCollection(eles)) {\n        return eles.collection();\n      } else if (array(eles)) {\n        if (!opts) {\n          opts = {};\n        }\n        return new Collection(this, eles, opts.unique, opts.removed);\n      }\n      return new Collection(this);\n    },\n    nodes: function nodes(selector) {\n      var nodes = this.$(function (ele) {\n        return ele.isNode();\n      });\n      if (selector) {\n        return nodes.filter(selector);\n      }\n      return nodes;\n    },\n    edges: function edges(selector) {\n      var edges = this.$(function (ele) {\n        return ele.isEdge();\n      });\n      if (selector) {\n        return edges.filter(selector);\n      }\n      return edges;\n    },\n    // search the graph like jQuery\n    $: function $(selector) {\n      var eles = this._private.elements;\n      if (selector) {\n        return eles.filter(selector);\n      } else {\n        return eles.spawnSelf();\n      }\n    },\n    mutableElements: function mutableElements() {\n      return this._private.elements;\n    }\n  };\n\n  // aliases\n  corefn$3.elements = corefn$3.filter = corefn$3.$;\n\n  var styfn$8 = {};\n\n  // keys for style blocks, e.g. ttfftt\n  var TRUE = 't';\n  var FALSE = 'f';\n\n  // (potentially expensive calculation)\n  // apply the style to the element based on\n  // - its bypass\n  // - what selectors match it\n  styfn$8.apply = function (eles) {\n    var self = this;\n    var _p = self._private;\n    var cy = _p.cy;\n    var updatedEles = cy.collection();\n    for (var ie = 0; ie < eles.length; ie++) {\n      var ele = eles[ie];\n      var cxtMeta = self.getContextMeta(ele);\n      if (cxtMeta.empty) {\n        continue;\n      }\n      var cxtStyle = self.getContextStyle(cxtMeta);\n      var app = self.applyContextStyle(cxtMeta, cxtStyle, ele);\n      if (ele._private.appliedInitStyle) {\n        self.updateTransitions(ele, app.diffProps);\n      } else {\n        ele._private.appliedInitStyle = true;\n      }\n      var hintsDiff = self.updateStyleHints(ele);\n      if (hintsDiff) {\n        updatedEles.push(ele);\n      }\n    } // for elements\n\n    return updatedEles;\n  };\n  styfn$8.getPropertiesDiff = function (oldCxtKey, newCxtKey) {\n    var self = this;\n    var cache = self._private.propDiffs = self._private.propDiffs || {};\n    var dualCxtKey = oldCxtKey + '-' + newCxtKey;\n    var cachedVal = cache[dualCxtKey];\n    if (cachedVal) {\n      return cachedVal;\n    }\n    var diffProps = [];\n    var addedProp = {};\n    for (var i = 0; i < self.length; i++) {\n      var cxt = self[i];\n      var oldHasCxt = oldCxtKey[i] === TRUE;\n      var newHasCxt = newCxtKey[i] === TRUE;\n      var cxtHasDiffed = oldHasCxt !== newHasCxt;\n      var cxtHasMappedProps = cxt.mappedProperties.length > 0;\n      if (cxtHasDiffed || newHasCxt && cxtHasMappedProps) {\n        var props = void 0;\n        if (cxtHasDiffed && cxtHasMappedProps) {\n          props = cxt.properties; // suffices b/c mappedProperties is a subset of properties\n        } else if (cxtHasDiffed) {\n          props = cxt.properties; // need to check them all\n        } else if (cxtHasMappedProps) {\n          props = cxt.mappedProperties; // only need to check mapped\n        }\n\n        for (var j = 0; j < props.length; j++) {\n          var prop = props[j];\n          var name = prop.name;\n\n          // if a later context overrides this property, then the fact that this context has switched/diffed doesn't matter\n          // (semi expensive check since it makes this function O(n^2) on context length, but worth it since overall result\n          // is cached)\n          var laterCxtOverrides = false;\n          for (var k = i + 1; k < self.length; k++) {\n            var laterCxt = self[k];\n            var hasLaterCxt = newCxtKey[k] === TRUE;\n            if (!hasLaterCxt) {\n              continue;\n            } // can't override unless the context is active\n\n            laterCxtOverrides = laterCxt.properties[prop.name] != null;\n            if (laterCxtOverrides) {\n              break;\n            } // exit early as long as one later context overrides\n          }\n\n          if (!addedProp[name] && !laterCxtOverrides) {\n            addedProp[name] = true;\n            diffProps.push(name);\n          }\n        } // for props\n      } // if\n    } // for contexts\n\n    cache[dualCxtKey] = diffProps;\n    return diffProps;\n  };\n  styfn$8.getContextMeta = function (ele) {\n    var self = this;\n    var cxtKey = '';\n    var diffProps;\n    var prevKey = ele._private.styleCxtKey || '';\n\n    // get the cxt key\n    for (var i = 0; i < self.length; i++) {\n      var context = self[i];\n      var contextSelectorMatches = context.selector && context.selector.matches(ele); // NB: context.selector may be null for 'core'\n\n      if (contextSelectorMatches) {\n        cxtKey += TRUE;\n      } else {\n        cxtKey += FALSE;\n      }\n    } // for context\n\n    diffProps = self.getPropertiesDiff(prevKey, cxtKey);\n    ele._private.styleCxtKey = cxtKey;\n    return {\n      key: cxtKey,\n      diffPropNames: diffProps,\n      empty: diffProps.length === 0\n    };\n  };\n\n  // gets a computed ele style object based on matched contexts\n  styfn$8.getContextStyle = function (cxtMeta) {\n    var cxtKey = cxtMeta.key;\n    var self = this;\n    var cxtStyles = this._private.contextStyles = this._private.contextStyles || {};\n\n    // if already computed style, returned cached copy\n    if (cxtStyles[cxtKey]) {\n      return cxtStyles[cxtKey];\n    }\n    var style = {\n      _private: {\n        key: cxtKey\n      }\n    };\n    for (var i = 0; i < self.length; i++) {\n      var cxt = self[i];\n      var hasCxt = cxtKey[i] === TRUE;\n      if (!hasCxt) {\n        continue;\n      }\n      for (var j = 0; j < cxt.properties.length; j++) {\n        var prop = cxt.properties[j];\n        style[prop.name] = prop;\n      }\n    }\n    cxtStyles[cxtKey] = style;\n    return style;\n  };\n  styfn$8.applyContextStyle = function (cxtMeta, cxtStyle, ele) {\n    var self = this;\n    var diffProps = cxtMeta.diffPropNames;\n    var retDiffProps = {};\n    var types = self.types;\n    for (var i = 0; i < diffProps.length; i++) {\n      var diffPropName = diffProps[i];\n      var cxtProp = cxtStyle[diffPropName];\n      var eleProp = ele.pstyle(diffPropName);\n      if (!cxtProp) {\n        // no context prop means delete\n        if (!eleProp) {\n          continue; // no existing prop means nothing needs to be removed\n          // nb affects initial application on mapped values like control-point-distances\n        } else if (eleProp.bypass) {\n          cxtProp = {\n            name: diffPropName,\n            deleteBypassed: true\n          };\n        } else {\n          cxtProp = {\n            name: diffPropName,\n            \"delete\": true\n          };\n        }\n      }\n\n      // save cycles when the context prop doesn't need to be applied\n      if (eleProp === cxtProp) {\n        continue;\n      }\n\n      // save cycles when a mapped context prop doesn't need to be applied\n      if (cxtProp.mapped === types.fn // context prop is function mapper\n      && eleProp != null // some props can be null even by default (e.g. a prop that overrides another one)\n      && eleProp.mapping != null // ele prop is a concrete value from from a mapper\n      && eleProp.mapping.value === cxtProp.value // the current prop on the ele is a flat prop value for the function mapper\n      ) {\n        // NB don't write to cxtProp, as it's shared among eles (stored in stylesheet)\n        var mapping = eleProp.mapping; // can write to mapping, as it's a per-ele copy\n        var fnValue = mapping.fnValue = cxtProp.value(ele); // temporarily cache the value in case of a miss\n\n        if (fnValue === mapping.prevFnValue) {\n          continue;\n        }\n      }\n      var retDiffProp = retDiffProps[diffPropName] = {\n        prev: eleProp\n      };\n      self.applyParsedProperty(ele, cxtProp);\n      retDiffProp.next = ele.pstyle(diffPropName);\n      if (retDiffProp.next && retDiffProp.next.bypass) {\n        retDiffProp.next = retDiffProp.next.bypassed;\n      }\n    }\n    return {\n      diffProps: retDiffProps\n    };\n  };\n  styfn$8.updateStyleHints = function (ele) {\n    var _p = ele._private;\n    var self = this;\n    var propNames = self.propertyGroupNames;\n    var propGrKeys = self.propertyGroupKeys;\n    var propHash = function propHash(ele, propNames, seedKey) {\n      return self.getPropertiesHash(ele, propNames, seedKey);\n    };\n    var oldStyleKey = _p.styleKey;\n    if (ele.removed()) {\n      return false;\n    }\n    var isNode = _p.group === 'nodes';\n\n    // get the style key hashes per prop group\n    // but lazily -- only use non-default prop values to reduce the number of hashes\n    //\n\n    var overriddenStyles = ele._private.style;\n    propNames = Object.keys(overriddenStyles);\n    for (var i = 0; i < propGrKeys.length; i++) {\n      var grKey = propGrKeys[i];\n      _p.styleKeys[grKey] = [DEFAULT_HASH_SEED, DEFAULT_HASH_SEED_ALT];\n    }\n    var updateGrKey1 = function updateGrKey1(val, grKey) {\n      return _p.styleKeys[grKey][0] = hashInt(val, _p.styleKeys[grKey][0]);\n    };\n    var updateGrKey2 = function updateGrKey2(val, grKey) {\n      return _p.styleKeys[grKey][1] = hashIntAlt(val, _p.styleKeys[grKey][1]);\n    };\n    var updateGrKey = function updateGrKey(val, grKey) {\n      updateGrKey1(val, grKey);\n      updateGrKey2(val, grKey);\n    };\n    var updateGrKeyWStr = function updateGrKeyWStr(strVal, grKey) {\n      for (var j = 0; j < strVal.length; j++) {\n        var ch = strVal.charCodeAt(j);\n        updateGrKey1(ch, grKey);\n        updateGrKey2(ch, grKey);\n      }\n    };\n\n    // - hashing works on 32 bit ints b/c we use bitwise ops\n    // - small numbers get cut off (e.g. 0.123 is seen as 0 by the hashing function)\n    // - raise up small numbers so more significant digits are seen by hashing\n    // - make small numbers larger than a normal value to avoid collisions\n    // - works in practice and it's relatively cheap\n    var N = 2000000000;\n    var cleanNum = function cleanNum(val) {\n      return -128 < val && val < 128 && Math.floor(val) !== val ? N - (val * 1024 | 0) : val;\n    };\n    for (var _i = 0; _i < propNames.length; _i++) {\n      var name = propNames[_i];\n      var parsedProp = overriddenStyles[name];\n      if (parsedProp == null) {\n        continue;\n      }\n      var propInfo = this.properties[name];\n      var type = propInfo.type;\n      var _grKey = propInfo.groupKey;\n      var normalizedNumberVal = void 0;\n      if (propInfo.hashOverride != null) {\n        normalizedNumberVal = propInfo.hashOverride(ele, parsedProp);\n      } else if (parsedProp.pfValue != null) {\n        normalizedNumberVal = parsedProp.pfValue;\n      }\n\n      // might not be a number if it allows enums\n      var numberVal = propInfo.enums == null ? parsedProp.value : null;\n      var haveNormNum = normalizedNumberVal != null;\n      var haveUnitedNum = numberVal != null;\n      var haveNum = haveNormNum || haveUnitedNum;\n      var units = parsedProp.units;\n\n      // numbers are cheaper to hash than strings\n      // 1 hash op vs n hash ops (for length n string)\n      if (type.number && haveNum && !type.multiple) {\n        var v = haveNormNum ? normalizedNumberVal : numberVal;\n        updateGrKey(cleanNum(v), _grKey);\n        if (!haveNormNum && units != null) {\n          updateGrKeyWStr(units, _grKey);\n        }\n      } else {\n        updateGrKeyWStr(parsedProp.strValue, _grKey);\n      }\n    }\n\n    // overall style key\n    //\n\n    var hash = [DEFAULT_HASH_SEED, DEFAULT_HASH_SEED_ALT];\n    for (var _i2 = 0; _i2 < propGrKeys.length; _i2++) {\n      var _grKey2 = propGrKeys[_i2];\n      var grHash = _p.styleKeys[_grKey2];\n      hash[0] = hashInt(grHash[0], hash[0]);\n      hash[1] = hashIntAlt(grHash[1], hash[1]);\n    }\n    _p.styleKey = combineHashes(hash[0], hash[1]);\n\n    // label dims\n    //\n\n    var sk = _p.styleKeys;\n    _p.labelDimsKey = combineHashesArray(sk.labelDimensions);\n    var labelKeys = propHash(ele, ['label'], sk.labelDimensions);\n    _p.labelKey = combineHashesArray(labelKeys);\n    _p.labelStyleKey = combineHashesArray(hashArrays(sk.commonLabel, labelKeys));\n    if (!isNode) {\n      var sourceLabelKeys = propHash(ele, ['source-label'], sk.labelDimensions);\n      _p.sourceLabelKey = combineHashesArray(sourceLabelKeys);\n      _p.sourceLabelStyleKey = combineHashesArray(hashArrays(sk.commonLabel, sourceLabelKeys));\n      var targetLabelKeys = propHash(ele, ['target-label'], sk.labelDimensions);\n      _p.targetLabelKey = combineHashesArray(targetLabelKeys);\n      _p.targetLabelStyleKey = combineHashesArray(hashArrays(sk.commonLabel, targetLabelKeys));\n    }\n\n    // node\n    //\n\n    if (isNode) {\n      var _p$styleKeys = _p.styleKeys,\n        nodeBody = _p$styleKeys.nodeBody,\n        nodeBorder = _p$styleKeys.nodeBorder,\n        backgroundImage = _p$styleKeys.backgroundImage,\n        compound = _p$styleKeys.compound,\n        pie = _p$styleKeys.pie;\n      var nodeKeys = [nodeBody, nodeBorder, backgroundImage, compound, pie].filter(function (k) {\n        return k != null;\n      }).reduce(hashArrays, [DEFAULT_HASH_SEED, DEFAULT_HASH_SEED_ALT]);\n      _p.nodeKey = combineHashesArray(nodeKeys);\n      _p.hasPie = pie != null && pie[0] !== DEFAULT_HASH_SEED && pie[1] !== DEFAULT_HASH_SEED_ALT;\n    }\n    return oldStyleKey !== _p.styleKey;\n  };\n  styfn$8.clearStyleHints = function (ele) {\n    var _p = ele._private;\n    _p.styleCxtKey = '';\n    _p.styleKeys = {};\n    _p.styleKey = null;\n    _p.labelKey = null;\n    _p.labelStyleKey = null;\n    _p.sourceLabelKey = null;\n    _p.sourceLabelStyleKey = null;\n    _p.targetLabelKey = null;\n    _p.targetLabelStyleKey = null;\n    _p.nodeKey = null;\n    _p.hasPie = null;\n  };\n\n  // apply a property to the style (for internal use)\n  // returns whether application was successful\n  //\n  // now, this function flattens the property, and here's how:\n  //\n  // for parsedProp:{ bypass: true, deleteBypass: true }\n  // no property is generated, instead the bypass property in the\n  // element's style is replaced by what's pointed to by the `bypassed`\n  // field in the bypass property (i.e. restoring the property the\n  // bypass was overriding)\n  //\n  // for parsedProp:{ mapped: truthy }\n  // the generated flattenedProp:{ mapping: prop }\n  //\n  // for parsedProp:{ bypass: true }\n  // the generated flattenedProp:{ bypassed: parsedProp }\n  styfn$8.applyParsedProperty = function (ele, parsedProp) {\n    var self = this;\n    var prop = parsedProp;\n    var style = ele._private.style;\n    var flatProp;\n    var types = self.types;\n    var type = self.properties[prop.name].type;\n    var propIsBypass = prop.bypass;\n    var origProp = style[prop.name];\n    var origPropIsBypass = origProp && origProp.bypass;\n    var _p = ele._private;\n    var flatPropMapping = 'mapping';\n    var getVal = function getVal(p) {\n      if (p == null) {\n        return null;\n      } else if (p.pfValue != null) {\n        return p.pfValue;\n      } else {\n        return p.value;\n      }\n    };\n    var checkTriggers = function checkTriggers() {\n      var fromVal = getVal(origProp);\n      var toVal = getVal(prop);\n      self.checkTriggers(ele, prop.name, fromVal, toVal);\n    };\n    if (prop && prop.name.substr(0, 3) === 'pie') {\n      warn('The pie style properties are deprecated.  Create charts using background images instead.');\n    }\n\n    // edge sanity checks to prevent the client from making serious mistakes\n    if (parsedProp.name === 'curve-style' && ele.isEdge() && (\n    // loops must be bundled beziers\n    parsedProp.value !== 'bezier' && ele.isLoop() ||\n    // edges connected to compound nodes can not be haystacks\n    parsedProp.value === 'haystack' && (ele.source().isParent() || ele.target().isParent()))) {\n      prop = parsedProp = this.parse(parsedProp.name, 'bezier', propIsBypass);\n    }\n    if (prop[\"delete\"]) {\n      // delete the property and use the default value on falsey value\n      style[prop.name] = undefined;\n      checkTriggers();\n      return true;\n    }\n    if (prop.deleteBypassed) {\n      // delete the property that the\n      if (!origProp) {\n        checkTriggers();\n        return true; // can't delete if no prop\n      } else if (origProp.bypass) {\n        // delete bypassed\n        origProp.bypassed = undefined;\n        checkTriggers();\n        return true;\n      } else {\n        return false; // we're unsuccessful deleting the bypassed\n      }\n    }\n\n    // check if we need to delete the current bypass\n    if (prop.deleteBypass) {\n      // then this property is just here to indicate we need to delete\n      if (!origProp) {\n        checkTriggers();\n        return true; // property is already not defined\n      } else if (origProp.bypass) {\n        // then replace the bypass property with the original\n        // because the bypassed property was already applied (and therefore parsed), we can just replace it (no reapplying necessary)\n        style[prop.name] = origProp.bypassed;\n        checkTriggers();\n        return true;\n      } else {\n        return false; // we're unsuccessful deleting the bypass\n      }\n    }\n\n    var printMappingErr = function printMappingErr() {\n      warn('Do not assign mappings to elements without corresponding data (i.e. ele `' + ele.id() + '` has no mapping for property `' + prop.name + '` with data field `' + prop.field + '`); try a `[' + prop.field + ']` selector to limit scope to elements with `' + prop.field + '` defined');\n    };\n\n    // put the property in the style objects\n    switch (prop.mapped) {\n      // flatten the property if mapped\n      case types.mapData:\n        {\n          // flatten the field (e.g. data.foo.bar)\n          var fields = prop.field.split('.');\n          var fieldVal = _p.data;\n          for (var i = 0; i < fields.length && fieldVal; i++) {\n            var field = fields[i];\n            fieldVal = fieldVal[field];\n          }\n          if (fieldVal == null) {\n            printMappingErr();\n            return false;\n          }\n          var percent;\n          if (!number$1(fieldVal)) {\n            // then don't apply and fall back on the existing style\n            warn('Do not use continuous mappers without specifying numeric data (i.e. `' + prop.field + ': ' + fieldVal + '` for `' + ele.id() + '` is non-numeric)');\n            return false;\n          } else {\n            var fieldWidth = prop.fieldMax - prop.fieldMin;\n            if (fieldWidth === 0) {\n              // safety check -- not strictly necessary as no props of zero range should be passed here\n              percent = 0;\n            } else {\n              percent = (fieldVal - prop.fieldMin) / fieldWidth;\n            }\n          }\n\n          // make sure to bound percent value\n          if (percent < 0) {\n            percent = 0;\n          } else if (percent > 1) {\n            percent = 1;\n          }\n          if (type.color) {\n            var r1 = prop.valueMin[0];\n            var r2 = prop.valueMax[0];\n            var g1 = prop.valueMin[1];\n            var g2 = prop.valueMax[1];\n            var b1 = prop.valueMin[2];\n            var b2 = prop.valueMax[2];\n            var a1 = prop.valueMin[3] == null ? 1 : prop.valueMin[3];\n            var a2 = prop.valueMax[3] == null ? 1 : prop.valueMax[3];\n            var clr = [Math.round(r1 + (r2 - r1) * percent), Math.round(g1 + (g2 - g1) * percent), Math.round(b1 + (b2 - b1) * percent), Math.round(a1 + (a2 - a1) * percent)];\n            flatProp = {\n              // colours are simple, so just create the flat property instead of expensive string parsing\n              bypass: prop.bypass,\n              // we're a bypass if the mapping property is a bypass\n              name: prop.name,\n              value: clr,\n              strValue: 'rgb(' + clr[0] + ', ' + clr[1] + ', ' + clr[2] + ')'\n            };\n          } else if (type.number) {\n            var calcValue = prop.valueMin + (prop.valueMax - prop.valueMin) * percent;\n            flatProp = this.parse(prop.name, calcValue, prop.bypass, flatPropMapping);\n          } else {\n            return false; // can only map to colours and numbers\n          }\n\n          if (!flatProp) {\n            // if we can't flatten the property, then don't apply the property and fall back on the existing style\n            printMappingErr();\n            return false;\n          }\n          flatProp.mapping = prop; // keep a reference to the mapping\n          prop = flatProp; // the flattened (mapped) property is the one we want\n\n          break;\n        }\n\n      // direct mapping\n      case types.data:\n        {\n          // flatten the field (e.g. data.foo.bar)\n          var _fields = prop.field.split('.');\n          var _fieldVal = _p.data;\n          for (var _i3 = 0; _i3 < _fields.length && _fieldVal; _i3++) {\n            var _field = _fields[_i3];\n            _fieldVal = _fieldVal[_field];\n          }\n          if (_fieldVal != null) {\n            flatProp = this.parse(prop.name, _fieldVal, prop.bypass, flatPropMapping);\n          }\n          if (!flatProp) {\n            // if we can't flatten the property, then don't apply and fall back on the existing style\n            printMappingErr();\n            return false;\n          }\n          flatProp.mapping = prop; // keep a reference to the mapping\n          prop = flatProp; // the flattened (mapped) property is the one we want\n\n          break;\n        }\n      case types.fn:\n        {\n          var fn = prop.value;\n          var fnRetVal = prop.fnValue != null ? prop.fnValue : fn(ele); // check for cached value before calling function\n\n          prop.prevFnValue = fnRetVal;\n          if (fnRetVal == null) {\n            warn('Custom function mappers may not return null (i.e. `' + prop.name + '` for ele `' + ele.id() + '` is null)');\n            return false;\n          }\n          flatProp = this.parse(prop.name, fnRetVal, prop.bypass, flatPropMapping);\n          if (!flatProp) {\n            warn('Custom function mappers may not return invalid values for the property type (i.e. `' + prop.name + '` for ele `' + ele.id() + '` is invalid)');\n            return false;\n          }\n          flatProp.mapping = copy(prop); // keep a reference to the mapping\n          prop = flatProp; // the flattened (mapped) property is the one we want\n\n          break;\n        }\n      case undefined:\n        break;\n      // just set the property\n\n      default:\n        return false;\n      // not a valid mapping\n    }\n\n    // if the property is a bypass property, then link the resultant property to the original one\n    if (propIsBypass) {\n      if (origPropIsBypass) {\n        // then this bypass overrides the existing one\n        prop.bypassed = origProp.bypassed; // steal bypassed prop from old bypass\n      } else {\n        // then link the orig prop to the new bypass\n        prop.bypassed = origProp;\n      }\n      style[prop.name] = prop; // and set\n    } else {\n      // prop is not bypass\n      if (origPropIsBypass) {\n        // then keep the orig prop (since it's a bypass) and link to the new prop\n        origProp.bypassed = prop;\n      } else {\n        // then just replace the old prop with the new one\n        style[prop.name] = prop;\n      }\n    }\n    checkTriggers();\n    return true;\n  };\n  styfn$8.cleanElements = function (eles, keepBypasses) {\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      this.clearStyleHints(ele);\n      ele.dirtyCompoundBoundsCache();\n      ele.dirtyBoundingBoxCache();\n      if (!keepBypasses) {\n        ele._private.style = {};\n      } else {\n        var style = ele._private.style;\n        var propNames = Object.keys(style);\n        for (var j = 0; j < propNames.length; j++) {\n          var propName = propNames[j];\n          var eleProp = style[propName];\n          if (eleProp != null) {\n            if (eleProp.bypass) {\n              eleProp.bypassed = null;\n            } else {\n              style[propName] = null;\n            }\n          }\n        }\n      }\n    }\n  };\n\n  // updates the visual style for all elements (useful for manual style modification after init)\n  styfn$8.update = function () {\n    var cy = this._private.cy;\n    var eles = cy.mutableElements();\n    eles.updateStyle();\n  };\n\n  // diffProps : { name => { prev, next } }\n  styfn$8.updateTransitions = function (ele, diffProps) {\n    var self = this;\n    var _p = ele._private;\n    var props = ele.pstyle('transition-property').value;\n    var duration = ele.pstyle('transition-duration').pfValue;\n    var delay = ele.pstyle('transition-delay').pfValue;\n    if (props.length > 0 && duration > 0) {\n      var style = {};\n\n      // build up the style to animate towards\n      var anyPrev = false;\n      for (var i = 0; i < props.length; i++) {\n        var prop = props[i];\n        var styProp = ele.pstyle(prop);\n        var diffProp = diffProps[prop];\n        if (!diffProp) {\n          continue;\n        }\n        var prevProp = diffProp.prev;\n        var fromProp = prevProp;\n        var toProp = diffProp.next != null ? diffProp.next : styProp;\n        var diff = false;\n        var initVal = void 0;\n        var initDt = 0.000001; // delta time % value for initVal (allows animating out of init zero opacity)\n\n        if (!fromProp) {\n          continue;\n        }\n\n        // consider px values\n        if (number$1(fromProp.pfValue) && number$1(toProp.pfValue)) {\n          diff = toProp.pfValue - fromProp.pfValue; // nonzero is truthy\n          initVal = fromProp.pfValue + initDt * diff;\n\n          // consider numerical values\n        } else if (number$1(fromProp.value) && number$1(toProp.value)) {\n          diff = toProp.value - fromProp.value; // nonzero is truthy\n          initVal = fromProp.value + initDt * diff;\n\n          // consider colour values\n        } else if (array(fromProp.value) && array(toProp.value)) {\n          diff = fromProp.value[0] !== toProp.value[0] || fromProp.value[1] !== toProp.value[1] || fromProp.value[2] !== toProp.value[2];\n          initVal = fromProp.strValue;\n        }\n\n        // the previous value is good for an animation only if it's different\n        if (diff) {\n          style[prop] = toProp.strValue; // to val\n          this.applyBypass(ele, prop, initVal); // from val\n          anyPrev = true;\n        }\n      } // end if props allow ani\n\n      // can't transition if there's nothing previous to transition from\n      if (!anyPrev) {\n        return;\n      }\n      _p.transitioning = true;\n      new Promise$1(function (resolve) {\n        if (delay > 0) {\n          ele.delayAnimation(delay).play().promise().then(resolve);\n        } else {\n          resolve();\n        }\n      }).then(function () {\n        return ele.animation({\n          style: style,\n          duration: duration,\n          easing: ele.pstyle('transition-timing-function').value,\n          queue: false\n        }).play().promise();\n      }).then(function () {\n        // if( !isBypass ){\n        self.removeBypasses(ele, props);\n        ele.emitAndNotify('style');\n        // }\n\n        _p.transitioning = false;\n      });\n    } else if (_p.transitioning) {\n      this.removeBypasses(ele, props);\n      ele.emitAndNotify('style');\n      _p.transitioning = false;\n    }\n  };\n  styfn$8.checkTrigger = function (ele, name, fromValue, toValue, getTrigger, onTrigger) {\n    var prop = this.properties[name];\n    var triggerCheck = getTrigger(prop);\n    if (triggerCheck != null && triggerCheck(fromValue, toValue)) {\n      onTrigger(prop);\n    }\n  };\n  styfn$8.checkZOrderTrigger = function (ele, name, fromValue, toValue) {\n    var _this = this;\n    this.checkTrigger(ele, name, fromValue, toValue, function (prop) {\n      return prop.triggersZOrder;\n    }, function () {\n      _this._private.cy.notify('zorder', ele);\n    });\n  };\n  styfn$8.checkBoundsTrigger = function (ele, name, fromValue, toValue) {\n    this.checkTrigger(ele, name, fromValue, toValue, function (prop) {\n      return prop.triggersBounds;\n    }, function (prop) {\n      ele.dirtyCompoundBoundsCache();\n      ele.dirtyBoundingBoxCache();\n\n      // if the prop change makes the bb of pll bezier edges invalid,\n      // then dirty the pll edge bb cache as well\n      if (\n      // only for beziers -- so performance of other edges isn't affected\n      prop.triggersBoundsOfParallelBeziers && (name === 'curve-style' && (fromValue === 'bezier' || toValue === 'bezier') || name === 'display' && (fromValue === 'none' || toValue === 'none'))) {\n        ele.parallelEdges().forEach(function (pllEdge) {\n          if (pllEdge.isBundledBezier()) {\n            pllEdge.dirtyBoundingBoxCache();\n          }\n        });\n      }\n    });\n  };\n  styfn$8.checkTriggers = function (ele, name, fromValue, toValue) {\n    ele.dirtyStyleCache();\n    this.checkZOrderTrigger(ele, name, fromValue, toValue);\n    this.checkBoundsTrigger(ele, name, fromValue, toValue);\n  };\n\n  var styfn$7 = {};\n\n  // bypasses are applied to an existing style on an element, and just tacked on temporarily\n  // returns true iff application was successful for at least 1 specified property\n  styfn$7.applyBypass = function (eles, name, value, updateTransitions) {\n    var self = this;\n    var props = [];\n    var isBypass = true;\n\n    // put all the properties (can specify one or many) in an array after parsing them\n    if (name === '*' || name === '**') {\n      // apply to all property names\n\n      if (value !== undefined) {\n        for (var i = 0; i < self.properties.length; i++) {\n          var prop = self.properties[i];\n          var _name = prop.name;\n          var parsedProp = this.parse(_name, value, true);\n          if (parsedProp) {\n            props.push(parsedProp);\n          }\n        }\n      }\n    } else if (string(name)) {\n      // then parse the single property\n      var _parsedProp = this.parse(name, value, true);\n      if (_parsedProp) {\n        props.push(_parsedProp);\n      }\n    } else if (plainObject(name)) {\n      // then parse each property\n      var specifiedProps = name;\n      updateTransitions = value;\n      var names = Object.keys(specifiedProps);\n      for (var _i = 0; _i < names.length; _i++) {\n        var _name2 = names[_i];\n        var _value = specifiedProps[_name2];\n        if (_value === undefined) {\n          // try camel case name too\n          _value = specifiedProps[dash2camel(_name2)];\n        }\n        if (_value !== undefined) {\n          var _parsedProp2 = this.parse(_name2, _value, true);\n          if (_parsedProp2) {\n            props.push(_parsedProp2);\n          }\n        }\n      }\n    } else {\n      // can't do anything without well defined properties\n      return false;\n    }\n\n    // we've failed if there are no valid properties\n    if (props.length === 0) {\n      return false;\n    }\n\n    // now, apply the bypass properties on the elements\n    var ret = false; // return true if at least one succesful bypass applied\n    for (var _i2 = 0; _i2 < eles.length; _i2++) {\n      // for each ele\n      var ele = eles[_i2];\n      var diffProps = {};\n      var diffProp = void 0;\n      for (var j = 0; j < props.length; j++) {\n        // for each prop\n        var _prop = props[j];\n        if (updateTransitions) {\n          var prevProp = ele.pstyle(_prop.name);\n          diffProp = diffProps[_prop.name] = {\n            prev: prevProp\n          };\n        }\n        ret = this.applyParsedProperty(ele, copy(_prop)) || ret;\n        if (updateTransitions) {\n          diffProp.next = ele.pstyle(_prop.name);\n        }\n      } // for props\n\n      if (ret) {\n        this.updateStyleHints(ele);\n      }\n      if (updateTransitions) {\n        this.updateTransitions(ele, diffProps, isBypass);\n      }\n    } // for eles\n\n    return ret;\n  };\n\n  // only useful in specific cases like animation\n  styfn$7.overrideBypass = function (eles, name, value) {\n    name = camel2dash(name);\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var prop = ele._private.style[name];\n      var type = this.properties[name].type;\n      var isColor = type.color;\n      var isMulti = type.mutiple;\n      var oldValue = !prop ? null : prop.pfValue != null ? prop.pfValue : prop.value;\n      if (!prop || !prop.bypass) {\n        // need a bypass if one doesn't exist\n        this.applyBypass(ele, name, value);\n      } else {\n        prop.value = value;\n        if (prop.pfValue != null) {\n          prop.pfValue = value;\n        }\n        if (isColor) {\n          prop.strValue = 'rgb(' + value.join(',') + ')';\n        } else if (isMulti) {\n          prop.strValue = value.join(' ');\n        } else {\n          prop.strValue = '' + value;\n        }\n        this.updateStyleHints(ele);\n      }\n      this.checkTriggers(ele, name, oldValue, value);\n    }\n  };\n  styfn$7.removeAllBypasses = function (eles, updateTransitions) {\n    return this.removeBypasses(eles, this.propertyNames, updateTransitions);\n  };\n  styfn$7.removeBypasses = function (eles, props, updateTransitions) {\n    var isBypass = true;\n    for (var j = 0; j < eles.length; j++) {\n      var ele = eles[j];\n      var diffProps = {};\n      for (var i = 0; i < props.length; i++) {\n        var name = props[i];\n        var prop = this.properties[name];\n        var prevProp = ele.pstyle(prop.name);\n        if (!prevProp || !prevProp.bypass) {\n          // if a bypass doesn't exist for the prop, nothing needs to be removed\n          continue;\n        }\n        var value = ''; // empty => remove bypass\n        var parsedProp = this.parse(name, value, true);\n        var diffProp = diffProps[prop.name] = {\n          prev: prevProp\n        };\n        this.applyParsedProperty(ele, parsedProp);\n        diffProp.next = ele.pstyle(prop.name);\n      } // for props\n\n      this.updateStyleHints(ele);\n      if (updateTransitions) {\n        this.updateTransitions(ele, diffProps, isBypass);\n      }\n    } // for eles\n  };\n\n  var styfn$6 = {};\n\n  // gets what an em size corresponds to in pixels relative to a dom element\n  styfn$6.getEmSizeInPixels = function () {\n    var px = this.containerCss('font-size');\n    if (px != null) {\n      return parseFloat(px);\n    } else {\n      return 1; // for headless\n    }\n  };\n\n  // gets css property from the core container\n  styfn$6.containerCss = function (propName) {\n    var cy = this._private.cy;\n    var domElement = cy.container();\n    var containerWindow = cy.window();\n    if (containerWindow && domElement && containerWindow.getComputedStyle) {\n      return containerWindow.getComputedStyle(domElement).getPropertyValue(propName);\n    }\n  };\n\n  var styfn$5 = {};\n\n  // gets the rendered style for an element\n  styfn$5.getRenderedStyle = function (ele, prop) {\n    if (prop) {\n      return this.getStylePropertyValue(ele, prop, true);\n    } else {\n      return this.getRawStyle(ele, true);\n    }\n  };\n\n  // gets the raw style for an element\n  styfn$5.getRawStyle = function (ele, isRenderedVal) {\n    var self = this;\n    ele = ele[0]; // insure it's an element\n\n    if (ele) {\n      var rstyle = {};\n      for (var i = 0; i < self.properties.length; i++) {\n        var prop = self.properties[i];\n        var val = self.getStylePropertyValue(ele, prop.name, isRenderedVal);\n        if (val != null) {\n          rstyle[prop.name] = val;\n          rstyle[dash2camel(prop.name)] = val;\n        }\n      }\n      return rstyle;\n    }\n  };\n  styfn$5.getIndexedStyle = function (ele, property, subproperty, index) {\n    var pstyle = ele.pstyle(property)[subproperty][index];\n    return pstyle != null ? pstyle : ele.cy().style().getDefaultProperty(property)[subproperty][0];\n  };\n  styfn$5.getStylePropertyValue = function (ele, propName, isRenderedVal) {\n    var self = this;\n    ele = ele[0]; // insure it's an element\n\n    if (ele) {\n      var prop = self.properties[propName];\n      if (prop.alias) {\n        prop = prop.pointsTo;\n      }\n      var type = prop.type;\n      var styleProp = ele.pstyle(prop.name);\n      if (styleProp) {\n        var value = styleProp.value,\n          units = styleProp.units,\n          strValue = styleProp.strValue;\n        if (isRenderedVal && type.number && value != null && number$1(value)) {\n          var zoom = ele.cy().zoom();\n          var getRenderedValue = function getRenderedValue(val) {\n            return val * zoom;\n          };\n          var getValueStringWithUnits = function getValueStringWithUnits(val, units) {\n            return getRenderedValue(val) + units;\n          };\n          var isArrayValue = array(value);\n          var haveUnits = isArrayValue ? units.every(function (u) {\n            return u != null;\n          }) : units != null;\n          if (haveUnits) {\n            if (isArrayValue) {\n              return value.map(function (v, i) {\n                return getValueStringWithUnits(v, units[i]);\n              }).join(' ');\n            } else {\n              return getValueStringWithUnits(value, units);\n            }\n          } else {\n            if (isArrayValue) {\n              return value.map(function (v) {\n                return string(v) ? v : '' + getRenderedValue(v);\n              }).join(' ');\n            } else {\n              return '' + getRenderedValue(value);\n            }\n          }\n        } else if (strValue != null) {\n          return strValue;\n        }\n      }\n      return null;\n    }\n  };\n  styfn$5.getAnimationStartStyle = function (ele, aniProps) {\n    var rstyle = {};\n    for (var i = 0; i < aniProps.length; i++) {\n      var aniProp = aniProps[i];\n      var name = aniProp.name;\n      var styleProp = ele.pstyle(name);\n      if (styleProp !== undefined) {\n        // then make a prop of it\n        if (plainObject(styleProp)) {\n          styleProp = this.parse(name, styleProp.strValue);\n        } else {\n          styleProp = this.parse(name, styleProp);\n        }\n      }\n      if (styleProp) {\n        rstyle[name] = styleProp;\n      }\n    }\n    return rstyle;\n  };\n  styfn$5.getPropsList = function (propsObj) {\n    var self = this;\n    var rstyle = [];\n    var style = propsObj;\n    var props = self.properties;\n    if (style) {\n      var names = Object.keys(style);\n      for (var i = 0; i < names.length; i++) {\n        var name = names[i];\n        var val = style[name];\n        var prop = props[name] || props[camel2dash(name)];\n        var styleProp = this.parse(prop.name, val);\n        if (styleProp) {\n          rstyle.push(styleProp);\n        }\n      }\n    }\n    return rstyle;\n  };\n  styfn$5.getNonDefaultPropertiesHash = function (ele, propNames, seed) {\n    var hash = seed.slice();\n    var name, val, strVal, chVal;\n    var i, j;\n    for (i = 0; i < propNames.length; i++) {\n      name = propNames[i];\n      val = ele.pstyle(name, false);\n      if (val == null) {\n        continue;\n      } else if (val.pfValue != null) {\n        hash[0] = hashInt(chVal, hash[0]);\n        hash[1] = hashIntAlt(chVal, hash[1]);\n      } else {\n        strVal = val.strValue;\n        for (j = 0; j < strVal.length; j++) {\n          chVal = strVal.charCodeAt(j);\n          hash[0] = hashInt(chVal, hash[0]);\n          hash[1] = hashIntAlt(chVal, hash[1]);\n        }\n      }\n    }\n    return hash;\n  };\n  styfn$5.getPropertiesHash = styfn$5.getNonDefaultPropertiesHash;\n\n  var styfn$4 = {};\n  styfn$4.appendFromJson = function (json) {\n    var style = this;\n    for (var i = 0; i < json.length; i++) {\n      var context = json[i];\n      var selector = context.selector;\n      var props = context.style || context.css;\n      var names = Object.keys(props);\n      style.selector(selector); // apply selector\n\n      for (var j = 0; j < names.length; j++) {\n        var name = names[j];\n        var value = props[name];\n        style.css(name, value); // apply property\n      }\n    }\n\n    return style;\n  };\n\n  // accessible cy.style() function\n  styfn$4.fromJson = function (json) {\n    var style = this;\n    style.resetToDefault();\n    style.appendFromJson(json);\n    return style;\n  };\n\n  // get json from cy.style() api\n  styfn$4.json = function () {\n    var json = [];\n    for (var i = this.defaultLength; i < this.length; i++) {\n      var cxt = this[i];\n      var selector = cxt.selector;\n      var props = cxt.properties;\n      var css = {};\n      for (var j = 0; j < props.length; j++) {\n        var prop = props[j];\n        css[prop.name] = prop.strValue;\n      }\n      json.push({\n        selector: !selector ? 'core' : selector.toString(),\n        style: css\n      });\n    }\n    return json;\n  };\n\n  var styfn$3 = {};\n  styfn$3.appendFromString = function (string) {\n    var self = this;\n    var style = this;\n    var remaining = '' + string;\n    var selAndBlockStr;\n    var blockRem;\n    var propAndValStr;\n\n    // remove comments from the style string\n    remaining = remaining.replace(/[/][*](\\s|.)+?[*][/]/g, '');\n    function removeSelAndBlockFromRemaining() {\n      // remove the parsed selector and block from the remaining text to parse\n      if (remaining.length > selAndBlockStr.length) {\n        remaining = remaining.substr(selAndBlockStr.length);\n      } else {\n        remaining = '';\n      }\n    }\n    function removePropAndValFromRem() {\n      // remove the parsed property and value from the remaining block text to parse\n      if (blockRem.length > propAndValStr.length) {\n        blockRem = blockRem.substr(propAndValStr.length);\n      } else {\n        blockRem = '';\n      }\n    }\n    for (;;) {\n      var nothingLeftToParse = remaining.match(/^\\s*$/);\n      if (nothingLeftToParse) {\n        break;\n      }\n      var selAndBlock = remaining.match(/^\\s*((?:.|\\s)+?)\\s*\\{((?:.|\\s)+?)\\}/);\n      if (!selAndBlock) {\n        warn('Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: ' + remaining);\n        break;\n      }\n      selAndBlockStr = selAndBlock[0];\n\n      // parse the selector\n      var selectorStr = selAndBlock[1];\n      if (selectorStr !== 'core') {\n        var selector = new Selector(selectorStr);\n        if (selector.invalid) {\n          warn('Skipping parsing of block: Invalid selector found in string stylesheet: ' + selectorStr);\n\n          // skip this selector and block\n          removeSelAndBlockFromRemaining();\n          continue;\n        }\n      }\n\n      // parse the block of properties and values\n      var blockStr = selAndBlock[2];\n      var invalidBlock = false;\n      blockRem = blockStr;\n      var props = [];\n      for (;;) {\n        var _nothingLeftToParse = blockRem.match(/^\\s*$/);\n        if (_nothingLeftToParse) {\n          break;\n        }\n        var propAndVal = blockRem.match(/^\\s*(.+?)\\s*:\\s*(.+?)(?:\\s*;|\\s*$)/);\n        if (!propAndVal) {\n          warn('Skipping parsing of block: Invalid formatting of style property and value definitions found in:' + blockStr);\n          invalidBlock = true;\n          break;\n        }\n        propAndValStr = propAndVal[0];\n        var propStr = propAndVal[1];\n        var valStr = propAndVal[2];\n        var prop = self.properties[propStr];\n        if (!prop) {\n          warn('Skipping property: Invalid property name in: ' + propAndValStr);\n\n          // skip this property in the block\n          removePropAndValFromRem();\n          continue;\n        }\n        var parsedProp = style.parse(propStr, valStr);\n        if (!parsedProp) {\n          warn('Skipping property: Invalid property definition in: ' + propAndValStr);\n\n          // skip this property in the block\n          removePropAndValFromRem();\n          continue;\n        }\n        props.push({\n          name: propStr,\n          val: valStr\n        });\n        removePropAndValFromRem();\n      }\n      if (invalidBlock) {\n        removeSelAndBlockFromRemaining();\n        break;\n      }\n\n      // put the parsed block in the style\n      style.selector(selectorStr);\n      for (var i = 0; i < props.length; i++) {\n        var _prop = props[i];\n        style.css(_prop.name, _prop.val);\n      }\n      removeSelAndBlockFromRemaining();\n    }\n    return style;\n  };\n  styfn$3.fromString = function (string) {\n    var style = this;\n    style.resetToDefault();\n    style.appendFromString(string);\n    return style;\n  };\n\n  var styfn$2 = {};\n  (function () {\n    var number$1 = number;\n    var rgba = rgbaNoBackRefs;\n    var hsla = hslaNoBackRefs;\n    var hex3$1 = hex3;\n    var hex6$1 = hex6;\n    var data = function data(prefix) {\n      return '^' + prefix + '\\\\s*\\\\(\\\\s*([\\\\w\\\\.]+)\\\\s*\\\\)$';\n    };\n    var mapData = function mapData(prefix) {\n      var mapArg = number$1 + '|\\\\w+|' + rgba + '|' + hsla + '|' + hex3$1 + '|' + hex6$1;\n      return '^' + prefix + '\\\\s*\\\\(([\\\\w\\\\.]+)\\\\s*\\\\,\\\\s*(' + number$1 + ')\\\\s*\\\\,\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + mapArg + ')\\\\s*\\\\,\\\\s*(' + mapArg + ')\\\\)$';\n    };\n    var urlRegexes = ['^url\\\\s*\\\\(\\\\s*[\\'\"]?(.+?)[\\'\"]?\\\\s*\\\\)$', '^(none)$', '^(.+)$'];\n\n    // each visual style property has a type and needs to be validated according to it\n    styfn$2.types = {\n      time: {\n        number: true,\n        min: 0,\n        units: 's|ms',\n        implicitUnits: 'ms'\n      },\n      percent: {\n        number: true,\n        min: 0,\n        max: 100,\n        units: '%',\n        implicitUnits: '%'\n      },\n      percentages: {\n        number: true,\n        min: 0,\n        max: 100,\n        units: '%',\n        implicitUnits: '%',\n        multiple: true\n      },\n      zeroOneNumber: {\n        number: true,\n        min: 0,\n        max: 1,\n        unitless: true\n      },\n      zeroOneNumbers: {\n        number: true,\n        min: 0,\n        max: 1,\n        unitless: true,\n        multiple: true\n      },\n      nOneOneNumber: {\n        number: true,\n        min: -1,\n        max: 1,\n        unitless: true\n      },\n      nonNegativeInt: {\n        number: true,\n        min: 0,\n        integer: true,\n        unitless: true\n      },\n      nonNegativeNumber: {\n        number: true,\n        min: 0,\n        unitless: true\n      },\n      position: {\n        enums: ['parent', 'origin']\n      },\n      nodeSize: {\n        number: true,\n        min: 0,\n        enums: ['label']\n      },\n      number: {\n        number: true,\n        unitless: true\n      },\n      numbers: {\n        number: true,\n        unitless: true,\n        multiple: true\n      },\n      positiveNumber: {\n        number: true,\n        unitless: true,\n        min: 0,\n        strictMin: true\n      },\n      size: {\n        number: true,\n        min: 0\n      },\n      bidirectionalSize: {\n        number: true\n      },\n      // allows negative\n      bidirectionalSizeMaybePercent: {\n        number: true,\n        allowPercent: true\n      },\n      // allows negative\n      bidirectionalSizes: {\n        number: true,\n        multiple: true\n      },\n      // allows negative\n      sizeMaybePercent: {\n        number: true,\n        min: 0,\n        allowPercent: true\n      },\n      axisDirection: {\n        enums: ['horizontal', 'leftward', 'rightward', 'vertical', 'upward', 'downward', 'auto']\n      },\n      paddingRelativeTo: {\n        enums: ['width', 'height', 'average', 'min', 'max']\n      },\n      bgWH: {\n        number: true,\n        min: 0,\n        allowPercent: true,\n        enums: ['auto'],\n        multiple: true\n      },\n      bgPos: {\n        number: true,\n        allowPercent: true,\n        multiple: true\n      },\n      bgRelativeTo: {\n        enums: ['inner', 'include-padding'],\n        multiple: true\n      },\n      bgRepeat: {\n        enums: ['repeat', 'repeat-x', 'repeat-y', 'no-repeat'],\n        multiple: true\n      },\n      bgFit: {\n        enums: ['none', 'contain', 'cover'],\n        multiple: true\n      },\n      bgCrossOrigin: {\n        enums: ['anonymous', 'use-credentials', 'null'],\n        multiple: true\n      },\n      bgClip: {\n        enums: ['none', 'node'],\n        multiple: true\n      },\n      bgContainment: {\n        enums: ['inside', 'over'],\n        multiple: true\n      },\n      color: {\n        color: true\n      },\n      colors: {\n        color: true,\n        multiple: true\n      },\n      fill: {\n        enums: ['solid', 'linear-gradient', 'radial-gradient']\n      },\n      bool: {\n        enums: ['yes', 'no']\n      },\n      bools: {\n        enums: ['yes', 'no'],\n        multiple: true\n      },\n      lineStyle: {\n        enums: ['solid', 'dotted', 'dashed']\n      },\n      lineCap: {\n        enums: ['butt', 'round', 'square']\n      },\n      borderStyle: {\n        enums: ['solid', 'dotted', 'dashed', 'double']\n      },\n      curveStyle: {\n        enums: ['bezier', 'unbundled-bezier', 'haystack', 'segments', 'straight', 'straight-triangle', 'taxi']\n      },\n      fontFamily: {\n        regex: '^([\\\\w- \\\\\"]+(?:\\\\s*,\\\\s*[\\\\w- \\\\\"]+)*)$'\n      },\n      fontStyle: {\n        enums: ['italic', 'normal', 'oblique']\n      },\n      fontWeight: {\n        enums: ['normal', 'bold', 'bolder', 'lighter', '100', '200', '300', '400', '500', '600', '800', '900', 100, 200, 300, 400, 500, 600, 700, 800, 900]\n      },\n      textDecoration: {\n        enums: ['none', 'underline', 'overline', 'line-through']\n      },\n      textTransform: {\n        enums: ['none', 'uppercase', 'lowercase']\n      },\n      textWrap: {\n        enums: ['none', 'wrap', 'ellipsis']\n      },\n      textOverflowWrap: {\n        enums: ['whitespace', 'anywhere']\n      },\n      textBackgroundShape: {\n        enums: ['rectangle', 'roundrectangle', 'round-rectangle']\n      },\n      nodeShape: {\n        enums: ['rectangle', 'roundrectangle', 'round-rectangle', 'cutrectangle', 'cut-rectangle', 'bottomroundrectangle', 'bottom-round-rectangle', 'barrel', 'ellipse', 'triangle', 'round-triangle', 'square', 'pentagon', 'round-pentagon', 'hexagon', 'round-hexagon', 'concavehexagon', 'concave-hexagon', 'heptagon', 'round-heptagon', 'octagon', 'round-octagon', 'tag', 'round-tag', 'star', 'diamond', 'round-diamond', 'vee', 'rhomboid', 'right-rhomboid', 'polygon']\n      },\n      overlayShape: {\n        enums: ['roundrectangle', 'round-rectangle', 'ellipse']\n      },\n      compoundIncludeLabels: {\n        enums: ['include', 'exclude']\n      },\n      arrowShape: {\n        enums: ['tee', 'triangle', 'triangle-tee', 'circle-triangle', 'triangle-cross', 'triangle-backcurve', 'vee', 'square', 'circle', 'diamond', 'chevron', 'none']\n      },\n      arrowFill: {\n        enums: ['filled', 'hollow']\n      },\n      display: {\n        enums: ['element', 'none']\n      },\n      visibility: {\n        enums: ['hidden', 'visible']\n      },\n      zCompoundDepth: {\n        enums: ['bottom', 'orphan', 'auto', 'top']\n      },\n      zIndexCompare: {\n        enums: ['auto', 'manual']\n      },\n      valign: {\n        enums: ['top', 'center', 'bottom']\n      },\n      halign: {\n        enums: ['left', 'center', 'right']\n      },\n      justification: {\n        enums: ['left', 'center', 'right', 'auto']\n      },\n      text: {\n        string: true\n      },\n      data: {\n        mapping: true,\n        regex: data('data')\n      },\n      layoutData: {\n        mapping: true,\n        regex: data('layoutData')\n      },\n      scratch: {\n        mapping: true,\n        regex: data('scratch')\n      },\n      mapData: {\n        mapping: true,\n        regex: mapData('mapData')\n      },\n      mapLayoutData: {\n        mapping: true,\n        regex: mapData('mapLayoutData')\n      },\n      mapScratch: {\n        mapping: true,\n        regex: mapData('mapScratch')\n      },\n      fn: {\n        mapping: true,\n        fn: true\n      },\n      url: {\n        regexes: urlRegexes,\n        singleRegexMatchValue: true\n      },\n      urls: {\n        regexes: urlRegexes,\n        singleRegexMatchValue: true,\n        multiple: true\n      },\n      propList: {\n        propList: true\n      },\n      angle: {\n        number: true,\n        units: 'deg|rad',\n        implicitUnits: 'rad'\n      },\n      textRotation: {\n        number: true,\n        units: 'deg|rad',\n        implicitUnits: 'rad',\n        enums: ['none', 'autorotate']\n      },\n      polygonPointList: {\n        number: true,\n        multiple: true,\n        evenMultiple: true,\n        min: -1,\n        max: 1,\n        unitless: true\n      },\n      edgeDistances: {\n        enums: ['intersection', 'node-position', 'endpoints']\n      },\n      edgeEndpoint: {\n        number: true,\n        multiple: true,\n        units: '%|px|em|deg|rad',\n        implicitUnits: 'px',\n        enums: ['inside-to-node', 'outside-to-node', 'outside-to-node-or-label', 'outside-to-line', 'outside-to-line-or-label'],\n        singleEnum: true,\n        validate: function validate(valArr, unitsArr) {\n          switch (valArr.length) {\n            case 2:\n              // can be % or px only\n              return unitsArr[0] !== 'deg' && unitsArr[0] !== 'rad' && unitsArr[1] !== 'deg' && unitsArr[1] !== 'rad';\n            case 1:\n              // can be enum, deg, or rad only\n              return string(valArr[0]) || unitsArr[0] === 'deg' || unitsArr[0] === 'rad';\n            default:\n              return false;\n          }\n        }\n      },\n      easing: {\n        regexes: ['^(spring)\\\\s*\\\\(\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*\\\\)$', '^(cubic-bezier)\\\\s*\\\\(\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*,\\\\s*(' + number$1 + ')\\\\s*\\\\)$'],\n        enums: ['linear', 'ease', 'ease-in', 'ease-out', 'ease-in-out', 'ease-in-sine', 'ease-out-sine', 'ease-in-out-sine', 'ease-in-quad', 'ease-out-quad', 'ease-in-out-quad', 'ease-in-cubic', 'ease-out-cubic', 'ease-in-out-cubic', 'ease-in-quart', 'ease-out-quart', 'ease-in-out-quart', 'ease-in-quint', 'ease-out-quint', 'ease-in-out-quint', 'ease-in-expo', 'ease-out-expo', 'ease-in-out-expo', 'ease-in-circ', 'ease-out-circ', 'ease-in-out-circ']\n      },\n      gradientDirection: {\n        enums: ['to-bottom', 'to-top', 'to-left', 'to-right', 'to-bottom-right', 'to-bottom-left', 'to-top-right', 'to-top-left', 'to-right-bottom', 'to-left-bottom', 'to-right-top', 'to-left-top' // different order\n        ]\n      },\n\n      boundsExpansion: {\n        number: true,\n        multiple: true,\n        min: 0,\n        validate: function validate(valArr) {\n          var length = valArr.length;\n          return length === 1 || length === 2 || length === 4;\n        }\n      }\n    };\n    var diff = {\n      zeroNonZero: function zeroNonZero(val1, val2) {\n        if ((val1 == null || val2 == null) && val1 !== val2) {\n          return true; // null cases could represent any value\n        }\n        if (val1 == 0 && val2 != 0) {\n          return true;\n        } else if (val1 != 0 && val2 == 0) {\n          return true;\n        } else {\n          return false;\n        }\n      },\n      any: function any(val1, val2) {\n        return val1 != val2;\n      },\n      emptyNonEmpty: function emptyNonEmpty(str1, str2) {\n        var empty1 = emptyString(str1);\n        var empty2 = emptyString(str2);\n        return empty1 && !empty2 || !empty1 && empty2;\n      }\n    };\n\n    // define visual style properties\n    //\n    // - n.b. adding a new group of props may require updates to updateStyleHints()\n    // - adding new props to an existing group gets handled automatically\n\n    var t = styfn$2.types;\n    var mainLabel = [{\n      name: 'label',\n      type: t.text,\n      triggersBounds: diff.any,\n      triggersZOrder: diff.emptyNonEmpty\n    }, {\n      name: 'text-rotation',\n      type: t.textRotation,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-margin-x',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-margin-y',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }];\n    var sourceLabel = [{\n      name: 'source-label',\n      type: t.text,\n      triggersBounds: diff.any\n    }, {\n      name: 'source-text-rotation',\n      type: t.textRotation,\n      triggersBounds: diff.any\n    }, {\n      name: 'source-text-margin-x',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'source-text-margin-y',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'source-text-offset',\n      type: t.size,\n      triggersBounds: diff.any\n    }];\n    var targetLabel = [{\n      name: 'target-label',\n      type: t.text,\n      triggersBounds: diff.any\n    }, {\n      name: 'target-text-rotation',\n      type: t.textRotation,\n      triggersBounds: diff.any\n    }, {\n      name: 'target-text-margin-x',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'target-text-margin-y',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'target-text-offset',\n      type: t.size,\n      triggersBounds: diff.any\n    }];\n    var labelDimensions = [{\n      name: 'font-family',\n      type: t.fontFamily,\n      triggersBounds: diff.any\n    }, {\n      name: 'font-style',\n      type: t.fontStyle,\n      triggersBounds: diff.any\n    }, {\n      name: 'font-weight',\n      type: t.fontWeight,\n      triggersBounds: diff.any\n    }, {\n      name: 'font-size',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-transform',\n      type: t.textTransform,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-wrap',\n      type: t.textWrap,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-overflow-wrap',\n      type: t.textOverflowWrap,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-max-width',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-outline-width',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'line-height',\n      type: t.positiveNumber,\n      triggersBounds: diff.any\n    }];\n    var commonLabel = [{\n      name: 'text-valign',\n      type: t.valign,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-halign',\n      type: t.halign,\n      triggersBounds: diff.any\n    }, {\n      name: 'color',\n      type: t.color\n    }, {\n      name: 'text-outline-color',\n      type: t.color\n    }, {\n      name: 'text-outline-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'text-background-color',\n      type: t.color\n    }, {\n      name: 'text-background-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'text-background-padding',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-border-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'text-border-color',\n      type: t.color\n    }, {\n      name: 'text-border-width',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-border-style',\n      type: t.borderStyle,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-background-shape',\n      type: t.textBackgroundShape,\n      triggersBounds: diff.any\n    }, {\n      name: 'text-justification',\n      type: t.justification\n    }];\n    var behavior = [{\n      name: 'events',\n      type: t.bool,\n      triggersZOrder: diff.any\n    }, {\n      name: 'text-events',\n      type: t.bool,\n      triggersZOrder: diff.any\n    }];\n    var visibility = [{\n      name: 'display',\n      type: t.display,\n      triggersZOrder: diff.any,\n      triggersBounds: diff.any,\n      triggersBoundsOfParallelBeziers: true\n    }, {\n      name: 'visibility',\n      type: t.visibility,\n      triggersZOrder: diff.any\n    }, {\n      name: 'opacity',\n      type: t.zeroOneNumber,\n      triggersZOrder: diff.zeroNonZero\n    }, {\n      name: 'text-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'min-zoomed-font-size',\n      type: t.size\n    }, {\n      name: 'z-compound-depth',\n      type: t.zCompoundDepth,\n      triggersZOrder: diff.any\n    }, {\n      name: 'z-index-compare',\n      type: t.zIndexCompare,\n      triggersZOrder: diff.any\n    }, {\n      name: 'z-index',\n      type: t.number,\n      triggersZOrder: diff.any\n    }];\n    var overlay = [{\n      name: 'overlay-padding',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'overlay-color',\n      type: t.color\n    }, {\n      name: 'overlay-opacity',\n      type: t.zeroOneNumber,\n      triggersBounds: diff.zeroNonZero\n    }, {\n      name: 'overlay-shape',\n      type: t.overlayShape,\n      triggersBounds: diff.any\n    }];\n    var underlay = [{\n      name: 'underlay-padding',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'underlay-color',\n      type: t.color\n    }, {\n      name: 'underlay-opacity',\n      type: t.zeroOneNumber,\n      triggersBounds: diff.zeroNonZero\n    }, {\n      name: 'underlay-shape',\n      type: t.overlayShape,\n      triggersBounds: diff.any\n    }];\n    var transition = [{\n      name: 'transition-property',\n      type: t.propList\n    }, {\n      name: 'transition-duration',\n      type: t.time\n    }, {\n      name: 'transition-delay',\n      type: t.time\n    }, {\n      name: 'transition-timing-function',\n      type: t.easing\n    }];\n    var nodeSizeHashOverride = function nodeSizeHashOverride(ele, parsedProp) {\n      if (parsedProp.value === 'label') {\n        return -ele.poolIndex(); // no hash key hits is using label size (hitrate for perf probably low anyway)\n      } else {\n        return parsedProp.pfValue;\n      }\n    };\n    var nodeBody = [{\n      name: 'height',\n      type: t.nodeSize,\n      triggersBounds: diff.any,\n      hashOverride: nodeSizeHashOverride\n    }, {\n      name: 'width',\n      type: t.nodeSize,\n      triggersBounds: diff.any,\n      hashOverride: nodeSizeHashOverride\n    }, {\n      name: 'shape',\n      type: t.nodeShape,\n      triggersBounds: diff.any\n    }, {\n      name: 'shape-polygon-points',\n      type: t.polygonPointList,\n      triggersBounds: diff.any\n    }, {\n      name: 'background-color',\n      type: t.color\n    }, {\n      name: 'background-fill',\n      type: t.fill\n    }, {\n      name: 'background-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'background-blacken',\n      type: t.nOneOneNumber\n    }, {\n      name: 'background-gradient-stop-colors',\n      type: t.colors\n    }, {\n      name: 'background-gradient-stop-positions',\n      type: t.percentages\n    }, {\n      name: 'background-gradient-direction',\n      type: t.gradientDirection\n    }, {\n      name: 'padding',\n      type: t.sizeMaybePercent,\n      triggersBounds: diff.any\n    }, {\n      name: 'padding-relative-to',\n      type: t.paddingRelativeTo,\n      triggersBounds: diff.any\n    }, {\n      name: 'bounds-expansion',\n      type: t.boundsExpansion,\n      triggersBounds: diff.any\n    }];\n    var nodeBorder = [{\n      name: 'border-color',\n      type: t.color\n    }, {\n      name: 'border-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'border-width',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'border-style',\n      type: t.borderStyle\n    }];\n    var backgroundImage = [{\n      name: 'background-image',\n      type: t.urls\n    }, {\n      name: 'background-image-crossorigin',\n      type: t.bgCrossOrigin\n    }, {\n      name: 'background-image-opacity',\n      type: t.zeroOneNumbers\n    }, {\n      name: 'background-image-containment',\n      type: t.bgContainment\n    }, {\n      name: 'background-image-smoothing',\n      type: t.bools\n    }, {\n      name: 'background-position-x',\n      type: t.bgPos\n    }, {\n      name: 'background-position-y',\n      type: t.bgPos\n    }, {\n      name: 'background-width-relative-to',\n      type: t.bgRelativeTo\n    }, {\n      name: 'background-height-relative-to',\n      type: t.bgRelativeTo\n    }, {\n      name: 'background-repeat',\n      type: t.bgRepeat\n    }, {\n      name: 'background-fit',\n      type: t.bgFit\n    }, {\n      name: 'background-clip',\n      type: t.bgClip\n    }, {\n      name: 'background-width',\n      type: t.bgWH\n    }, {\n      name: 'background-height',\n      type: t.bgWH\n    }, {\n      name: 'background-offset-x',\n      type: t.bgPos\n    }, {\n      name: 'background-offset-y',\n      type: t.bgPos\n    }];\n    var compound = [{\n      name: 'position',\n      type: t.position,\n      triggersBounds: diff.any\n    }, {\n      name: 'compound-sizing-wrt-labels',\n      type: t.compoundIncludeLabels,\n      triggersBounds: diff.any\n    }, {\n      name: 'min-width',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'min-width-bias-left',\n      type: t.sizeMaybePercent,\n      triggersBounds: diff.any\n    }, {\n      name: 'min-width-bias-right',\n      type: t.sizeMaybePercent,\n      triggersBounds: diff.any\n    }, {\n      name: 'min-height',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'min-height-bias-top',\n      type: t.sizeMaybePercent,\n      triggersBounds: diff.any\n    }, {\n      name: 'min-height-bias-bottom',\n      type: t.sizeMaybePercent,\n      triggersBounds: diff.any\n    }];\n    var edgeLine = [{\n      name: 'line-style',\n      type: t.lineStyle\n    }, {\n      name: 'line-color',\n      type: t.color\n    }, {\n      name: 'line-fill',\n      type: t.fill\n    }, {\n      name: 'line-cap',\n      type: t.lineCap\n    }, {\n      name: 'line-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'line-dash-pattern',\n      type: t.numbers\n    }, {\n      name: 'line-dash-offset',\n      type: t.number\n    }, {\n      name: 'line-gradient-stop-colors',\n      type: t.colors\n    }, {\n      name: 'line-gradient-stop-positions',\n      type: t.percentages\n    }, {\n      name: 'curve-style',\n      type: t.curveStyle,\n      triggersBounds: diff.any,\n      triggersBoundsOfParallelBeziers: true\n    }, {\n      name: 'haystack-radius',\n      type: t.zeroOneNumber,\n      triggersBounds: diff.any\n    }, {\n      name: 'source-endpoint',\n      type: t.edgeEndpoint,\n      triggersBounds: diff.any\n    }, {\n      name: 'target-endpoint',\n      type: t.edgeEndpoint,\n      triggersBounds: diff.any\n    }, {\n      name: 'control-point-step-size',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'control-point-distances',\n      type: t.bidirectionalSizes,\n      triggersBounds: diff.any\n    }, {\n      name: 'control-point-weights',\n      type: t.numbers,\n      triggersBounds: diff.any\n    }, {\n      name: 'segment-distances',\n      type: t.bidirectionalSizes,\n      triggersBounds: diff.any\n    }, {\n      name: 'segment-weights',\n      type: t.numbers,\n      triggersBounds: diff.any\n    }, {\n      name: 'taxi-turn',\n      type: t.bidirectionalSizeMaybePercent,\n      triggersBounds: diff.any\n    }, {\n      name: 'taxi-turn-min-distance',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'taxi-direction',\n      type: t.axisDirection,\n      triggersBounds: diff.any\n    }, {\n      name: 'edge-distances',\n      type: t.edgeDistances,\n      triggersBounds: diff.any\n    }, {\n      name: 'arrow-scale',\n      type: t.positiveNumber,\n      triggersBounds: diff.any\n    }, {\n      name: 'loop-direction',\n      type: t.angle,\n      triggersBounds: diff.any\n    }, {\n      name: 'loop-sweep',\n      type: t.angle,\n      triggersBounds: diff.any\n    }, {\n      name: 'source-distance-from-node',\n      type: t.size,\n      triggersBounds: diff.any\n    }, {\n      name: 'target-distance-from-node',\n      type: t.size,\n      triggersBounds: diff.any\n    }];\n    var ghost = [{\n      name: 'ghost',\n      type: t.bool,\n      triggersBounds: diff.any\n    }, {\n      name: 'ghost-offset-x',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'ghost-offset-y',\n      type: t.bidirectionalSize,\n      triggersBounds: diff.any\n    }, {\n      name: 'ghost-opacity',\n      type: t.zeroOneNumber\n    }];\n    var core = [{\n      name: 'selection-box-color',\n      type: t.color\n    }, {\n      name: 'selection-box-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'selection-box-border-color',\n      type: t.color\n    }, {\n      name: 'selection-box-border-width',\n      type: t.size\n    }, {\n      name: 'active-bg-color',\n      type: t.color\n    }, {\n      name: 'active-bg-opacity',\n      type: t.zeroOneNumber\n    }, {\n      name: 'active-bg-size',\n      type: t.size\n    }, {\n      name: 'outside-texture-bg-color',\n      type: t.color\n    }, {\n      name: 'outside-texture-bg-opacity',\n      type: t.zeroOneNumber\n    }];\n\n    // pie backgrounds for nodes\n    var pie = [];\n    styfn$2.pieBackgroundN = 16; // because the pie properties are numbered, give access to a constant N (for renderer use)\n    pie.push({\n      name: 'pie-size',\n      type: t.sizeMaybePercent\n    });\n    for (var i = 1; i <= styfn$2.pieBackgroundN; i++) {\n      pie.push({\n        name: 'pie-' + i + '-background-color',\n        type: t.color\n      });\n      pie.push({\n        name: 'pie-' + i + '-background-size',\n        type: t.percent\n      });\n      pie.push({\n        name: 'pie-' + i + '-background-opacity',\n        type: t.zeroOneNumber\n      });\n    }\n\n    // edge arrows\n    var edgeArrow = [];\n    var arrowPrefixes = styfn$2.arrowPrefixes = ['source', 'mid-source', 'target', 'mid-target'];\n    [{\n      name: 'arrow-shape',\n      type: t.arrowShape,\n      triggersBounds: diff.any\n    }, {\n      name: 'arrow-color',\n      type: t.color\n    }, {\n      name: 'arrow-fill',\n      type: t.arrowFill\n    }].forEach(function (prop) {\n      arrowPrefixes.forEach(function (prefix) {\n        var name = prefix + '-' + prop.name;\n        var type = prop.type,\n          triggersBounds = prop.triggersBounds;\n        edgeArrow.push({\n          name: name,\n          type: type,\n          triggersBounds: triggersBounds\n        });\n      });\n    }, {});\n    var props = styfn$2.properties = [].concat(behavior, transition, visibility, overlay, underlay, ghost, commonLabel, labelDimensions, mainLabel, sourceLabel, targetLabel, nodeBody, nodeBorder, backgroundImage, pie, compound, edgeLine, edgeArrow, core);\n    var propGroups = styfn$2.propertyGroups = {\n      // common to all eles\n      behavior: behavior,\n      transition: transition,\n      visibility: visibility,\n      overlay: overlay,\n      underlay: underlay,\n      ghost: ghost,\n      // labels\n      commonLabel: commonLabel,\n      labelDimensions: labelDimensions,\n      mainLabel: mainLabel,\n      sourceLabel: sourceLabel,\n      targetLabel: targetLabel,\n      // node props\n      nodeBody: nodeBody,\n      nodeBorder: nodeBorder,\n      backgroundImage: backgroundImage,\n      pie: pie,\n      compound: compound,\n      // edge props\n      edgeLine: edgeLine,\n      edgeArrow: edgeArrow,\n      core: core\n    };\n    var propGroupNames = styfn$2.propertyGroupNames = {};\n    var propGroupKeys = styfn$2.propertyGroupKeys = Object.keys(propGroups);\n    propGroupKeys.forEach(function (key) {\n      propGroupNames[key] = propGroups[key].map(function (prop) {\n        return prop.name;\n      });\n      propGroups[key].forEach(function (prop) {\n        return prop.groupKey = key;\n      });\n    });\n\n    // define aliases\n    var aliases = styfn$2.aliases = [{\n      name: 'content',\n      pointsTo: 'label'\n    }, {\n      name: 'control-point-distance',\n      pointsTo: 'control-point-distances'\n    }, {\n      name: 'control-point-weight',\n      pointsTo: 'control-point-weights'\n    }, {\n      name: 'edge-text-rotation',\n      pointsTo: 'text-rotation'\n    }, {\n      name: 'padding-left',\n      pointsTo: 'padding'\n    }, {\n      name: 'padding-right',\n      pointsTo: 'padding'\n    }, {\n      name: 'padding-top',\n      pointsTo: 'padding'\n    }, {\n      name: 'padding-bottom',\n      pointsTo: 'padding'\n    }];\n\n    // list of property names\n    styfn$2.propertyNames = props.map(function (p) {\n      return p.name;\n    });\n\n    // allow access of properties by name ( e.g. style.properties.height )\n    for (var _i = 0; _i < props.length; _i++) {\n      var prop = props[_i];\n      props[prop.name] = prop; // allow lookup by name\n    }\n\n    // map aliases\n    for (var _i2 = 0; _i2 < aliases.length; _i2++) {\n      var alias = aliases[_i2];\n      var pointsToProp = props[alias.pointsTo];\n      var aliasProp = {\n        name: alias.name,\n        alias: true,\n        pointsTo: pointsToProp\n      };\n\n      // add alias prop for parsing\n      props.push(aliasProp);\n      props[alias.name] = aliasProp; // allow lookup by name\n    }\n  })();\n\n  styfn$2.getDefaultProperty = function (name) {\n    return this.getDefaultProperties()[name];\n  };\n  styfn$2.getDefaultProperties = function () {\n    var _p = this._private;\n    if (_p.defaultProperties != null) {\n      return _p.defaultProperties;\n    }\n    var rawProps = extend({\n      // core props\n      'selection-box-color': '#ddd',\n      'selection-box-opacity': 0.65,\n      'selection-box-border-color': '#aaa',\n      'selection-box-border-width': 1,\n      'active-bg-color': 'black',\n      'active-bg-opacity': 0.15,\n      'active-bg-size': 30,\n      'outside-texture-bg-color': '#000',\n      'outside-texture-bg-opacity': 0.125,\n      // common node/edge props\n      'events': 'yes',\n      'text-events': 'no',\n      'text-valign': 'top',\n      'text-halign': 'center',\n      'text-justification': 'auto',\n      'line-height': 1,\n      'color': '#000',\n      'text-outline-color': '#000',\n      'text-outline-width': 0,\n      'text-outline-opacity': 1,\n      'text-opacity': 1,\n      'text-decoration': 'none',\n      'text-transform': 'none',\n      'text-wrap': 'none',\n      'text-overflow-wrap': 'whitespace',\n      'text-max-width': 9999,\n      'text-background-color': '#000',\n      'text-background-opacity': 0,\n      'text-background-shape': 'rectangle',\n      'text-background-padding': 0,\n      'text-border-opacity': 0,\n      'text-border-width': 0,\n      'text-border-style': 'solid',\n      'text-border-color': '#000',\n      'font-family': 'Helvetica Neue, Helvetica, sans-serif',\n      'font-style': 'normal',\n      'font-weight': 'normal',\n      'font-size': 16,\n      'min-zoomed-font-size': 0,\n      'text-rotation': 'none',\n      'source-text-rotation': 'none',\n      'target-text-rotation': 'none',\n      'visibility': 'visible',\n      'display': 'element',\n      'opacity': 1,\n      'z-compound-depth': 'auto',\n      'z-index-compare': 'auto',\n      'z-index': 0,\n      'label': '',\n      'text-margin-x': 0,\n      'text-margin-y': 0,\n      'source-label': '',\n      'source-text-offset': 0,\n      'source-text-margin-x': 0,\n      'source-text-margin-y': 0,\n      'target-label': '',\n      'target-text-offset': 0,\n      'target-text-margin-x': 0,\n      'target-text-margin-y': 0,\n      'overlay-opacity': 0,\n      'overlay-color': '#000',\n      'overlay-padding': 10,\n      'overlay-shape': 'round-rectangle',\n      'underlay-opacity': 0,\n      'underlay-color': '#000',\n      'underlay-padding': 10,\n      'underlay-shape': 'round-rectangle',\n      'transition-property': 'none',\n      'transition-duration': 0,\n      'transition-delay': 0,\n      'transition-timing-function': 'linear',\n      // node props\n      'background-blacken': 0,\n      'background-color': '#999',\n      'background-fill': 'solid',\n      'background-opacity': 1,\n      'background-image': 'none',\n      'background-image-crossorigin': 'anonymous',\n      'background-image-opacity': 1,\n      'background-image-containment': 'inside',\n      'background-image-smoothing': 'yes',\n      'background-position-x': '50%',\n      'background-position-y': '50%',\n      'background-offset-x': 0,\n      'background-offset-y': 0,\n      'background-width-relative-to': 'include-padding',\n      'background-height-relative-to': 'include-padding',\n      'background-repeat': 'no-repeat',\n      'background-fit': 'none',\n      'background-clip': 'node',\n      'background-width': 'auto',\n      'background-height': 'auto',\n      'border-color': '#000',\n      'border-opacity': 1,\n      'border-width': 0,\n      'border-style': 'solid',\n      'height': 30,\n      'width': 30,\n      'shape': 'ellipse',\n      'shape-polygon-points': '-1, -1,   1, -1,   1, 1,   -1, 1',\n      'bounds-expansion': 0,\n      // node gradient\n      'background-gradient-direction': 'to-bottom',\n      'background-gradient-stop-colors': '#999',\n      'background-gradient-stop-positions': '0%',\n      // ghost props\n      'ghost': 'no',\n      'ghost-offset-y': 0,\n      'ghost-offset-x': 0,\n      'ghost-opacity': 0,\n      // compound props\n      'padding': 0,\n      'padding-relative-to': 'width',\n      'position': 'origin',\n      'compound-sizing-wrt-labels': 'include',\n      'min-width': 0,\n      'min-width-bias-left': 0,\n      'min-width-bias-right': 0,\n      'min-height': 0,\n      'min-height-bias-top': 0,\n      'min-height-bias-bottom': 0\n    }, {\n      // node pie bg\n      'pie-size': '100%'\n    }, [{\n      name: 'pie-{{i}}-background-color',\n      value: 'black'\n    }, {\n      name: 'pie-{{i}}-background-size',\n      value: '0%'\n    }, {\n      name: 'pie-{{i}}-background-opacity',\n      value: 1\n    }].reduce(function (css, prop) {\n      for (var i = 1; i <= styfn$2.pieBackgroundN; i++) {\n        var name = prop.name.replace('{{i}}', i);\n        var val = prop.value;\n        css[name] = val;\n      }\n      return css;\n    }, {}), {\n      // edge props\n      'line-style': 'solid',\n      'line-color': '#999',\n      'line-fill': 'solid',\n      'line-cap': 'butt',\n      'line-opacity': 1,\n      'line-gradient-stop-colors': '#999',\n      'line-gradient-stop-positions': '0%',\n      'control-point-step-size': 40,\n      'control-point-weights': 0.5,\n      'segment-weights': 0.5,\n      'segment-distances': 20,\n      'taxi-turn': '50%',\n      'taxi-turn-min-distance': 10,\n      'taxi-direction': 'auto',\n      'edge-distances': 'intersection',\n      'curve-style': 'haystack',\n      'haystack-radius': 0,\n      'arrow-scale': 1,\n      'loop-direction': '-45deg',\n      'loop-sweep': '-90deg',\n      'source-distance-from-node': 0,\n      'target-distance-from-node': 0,\n      'source-endpoint': 'outside-to-node',\n      'target-endpoint': 'outside-to-node',\n      'line-dash-pattern': [6, 3],\n      'line-dash-offset': 0\n    }, [{\n      name: 'arrow-shape',\n      value: 'none'\n    }, {\n      name: 'arrow-color',\n      value: '#999'\n    }, {\n      name: 'arrow-fill',\n      value: 'filled'\n    }].reduce(function (css, prop) {\n      styfn$2.arrowPrefixes.forEach(function (prefix) {\n        var name = prefix + '-' + prop.name;\n        var val = prop.value;\n        css[name] = val;\n      });\n      return css;\n    }, {}));\n    var parsedProps = {};\n    for (var i = 0; i < this.properties.length; i++) {\n      var prop = this.properties[i];\n      if (prop.pointsTo) {\n        continue;\n      }\n      var name = prop.name;\n      var val = rawProps[name];\n      var parsedProp = this.parse(name, val);\n      parsedProps[name] = parsedProp;\n    }\n    _p.defaultProperties = parsedProps;\n    return _p.defaultProperties;\n  };\n  styfn$2.addDefaultStylesheet = function () {\n    this.selector(':parent').css({\n      'shape': 'rectangle',\n      'padding': 10,\n      'background-color': '#eee',\n      'border-color': '#ccc',\n      'border-width': 1\n    }).selector('edge').css({\n      'width': 3\n    }).selector(':loop').css({\n      'curve-style': 'bezier'\n    }).selector('edge:compound').css({\n      'curve-style': 'bezier',\n      'source-endpoint': 'outside-to-line',\n      'target-endpoint': 'outside-to-line'\n    }).selector(':selected').css({\n      'background-color': '#0169D9',\n      'line-color': '#0169D9',\n      'source-arrow-color': '#0169D9',\n      'target-arrow-color': '#0169D9',\n      'mid-source-arrow-color': '#0169D9',\n      'mid-target-arrow-color': '#0169D9'\n    }).selector(':parent:selected').css({\n      'background-color': '#CCE1F9',\n      'border-color': '#aec8e5'\n    }).selector(':active').css({\n      'overlay-color': 'black',\n      'overlay-padding': 10,\n      'overlay-opacity': 0.25\n    });\n    this.defaultLength = this.length;\n  };\n\n  var styfn$1 = {};\n\n  // a caching layer for property parsing\n  styfn$1.parse = function (name, value, propIsBypass, propIsFlat) {\n    var self = this;\n\n    // function values can't be cached in all cases, and there isn't much benefit of caching them anyway\n    if (fn$6(value)) {\n      return self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n    }\n    var flatKey = propIsFlat === 'mapping' || propIsFlat === true || propIsFlat === false || propIsFlat == null ? 'dontcare' : propIsFlat;\n    var bypassKey = propIsBypass ? 't' : 'f';\n    var valueKey = '' + value;\n    var argHash = hashStrings(name, valueKey, bypassKey, flatKey);\n    var propCache = self.propCache = self.propCache || [];\n    var ret;\n    if (!(ret = propCache[argHash])) {\n      ret = propCache[argHash] = self.parseImplWarn(name, value, propIsBypass, propIsFlat);\n    }\n\n    // - bypasses can't be shared b/c the value can be changed by animations or otherwise overridden\n    // - mappings can't be shared b/c mappings are per-element\n    if (propIsBypass || propIsFlat === 'mapping') {\n      // need a copy since props are mutated later in their lifecycles\n      ret = copy(ret);\n      if (ret) {\n        ret.value = copy(ret.value); // because it could be an array, e.g. colour\n      }\n    }\n\n    return ret;\n  };\n  styfn$1.parseImplWarn = function (name, value, propIsBypass, propIsFlat) {\n    var prop = this.parseImpl(name, value, propIsBypass, propIsFlat);\n    if (!prop && value != null) {\n      warn(\"The style property `\".concat(name, \": \").concat(value, \"` is invalid\"));\n    }\n    if (prop && (prop.name === 'width' || prop.name === 'height') && value === 'label') {\n      warn('The style value of `label` is deprecated for `' + prop.name + '`');\n    }\n    return prop;\n  };\n\n  // parse a property; return null on invalid; return parsed property otherwise\n  // fields :\n  // - name : the name of the property\n  // - value : the parsed, native-typed value of the property\n  // - strValue : a string value that represents the property value in valid css\n  // - bypass : true iff the property is a bypass property\n  styfn$1.parseImpl = function (name, value, propIsBypass, propIsFlat) {\n    var self = this;\n    name = camel2dash(name); // make sure the property name is in dash form (e.g. 'property-name' not 'propertyName')\n\n    var property = self.properties[name];\n    var passedValue = value;\n    var types = self.types;\n    if (!property) {\n      return null;\n    } // return null on property of unknown name\n    if (value === undefined) {\n      return null;\n    } // can't assign undefined\n\n    // the property may be an alias\n    if (property.alias) {\n      property = property.pointsTo;\n      name = property.name;\n    }\n    var valueIsString = string(value);\n    if (valueIsString) {\n      // trim the value to make parsing easier\n      value = value.trim();\n    }\n    var type = property.type;\n    if (!type) {\n      return null;\n    } // no type, no luck\n\n    // check if bypass is null or empty string (i.e. indication to delete bypass property)\n    if (propIsBypass && (value === '' || value === null)) {\n      return {\n        name: name,\n        value: value,\n        bypass: true,\n        deleteBypass: true\n      };\n    }\n\n    // check if value is a function used as a mapper\n    if (fn$6(value)) {\n      return {\n        name: name,\n        value: value,\n        strValue: 'fn',\n        mapped: types.fn,\n        bypass: propIsBypass\n      };\n    }\n\n    // check if value is mapped\n    var data, mapData;\n    if (!valueIsString || propIsFlat || value.length < 7 || value[1] !== 'a') ; else if (value.length >= 7 && value[0] === 'd' && (data = new RegExp(types.data.regex).exec(value))) {\n      if (propIsBypass) {\n        return false;\n      } // mappers not allowed in bypass\n\n      var mapped = types.data;\n      return {\n        name: name,\n        value: data,\n        strValue: '' + value,\n        mapped: mapped,\n        field: data[1],\n        bypass: propIsBypass\n      };\n    } else if (value.length >= 10 && value[0] === 'm' && (mapData = new RegExp(types.mapData.regex).exec(value))) {\n      if (propIsBypass) {\n        return false;\n      } // mappers not allowed in bypass\n      if (type.multiple) {\n        return false;\n      } // impossible to map to num\n\n      var _mapped = types.mapData;\n\n      // we can map only if the type is a colour or a number\n      if (!(type.color || type.number)) {\n        return false;\n      }\n      var valueMin = this.parse(name, mapData[4]); // parse to validate\n      if (!valueMin || valueMin.mapped) {\n        return false;\n      } // can't be invalid or mapped\n\n      var valueMax = this.parse(name, mapData[5]); // parse to validate\n      if (!valueMax || valueMax.mapped) {\n        return false;\n      } // can't be invalid or mapped\n\n      // check if valueMin and valueMax are the same\n      if (valueMin.pfValue === valueMax.pfValue || valueMin.strValue === valueMax.strValue) {\n        warn('`' + name + ': ' + value + '` is not a valid mapper because the output range is zero; converting to `' + name + ': ' + valueMin.strValue + '`');\n        return this.parse(name, valueMin.strValue); // can't make much of a mapper without a range\n      } else if (type.color) {\n        var c1 = valueMin.value;\n        var c2 = valueMax.value;\n        var same = c1[0] === c2[0] // red\n        && c1[1] === c2[1] // green\n        && c1[2] === c2[2] // blue\n        && (\n        // optional alpha\n        c1[3] === c2[3] // same alpha outright\n        || (c1[3] == null || c1[3] === 1 // full opacity for colour 1?\n        ) && (c2[3] == null || c2[3] === 1) // full opacity for colour 2?\n        );\n\n        if (same) {\n          return false;\n        } // can't make a mapper without a range\n      }\n\n      return {\n        name: name,\n        value: mapData,\n        strValue: '' + value,\n        mapped: _mapped,\n        field: mapData[1],\n        fieldMin: parseFloat(mapData[2]),\n        // min & max are numeric\n        fieldMax: parseFloat(mapData[3]),\n        valueMin: valueMin.value,\n        valueMax: valueMax.value,\n        bypass: propIsBypass\n      };\n    }\n    if (type.multiple && propIsFlat !== 'multiple') {\n      var vals;\n      if (valueIsString) {\n        vals = value.split(/\\s+/);\n      } else if (array(value)) {\n        vals = value;\n      } else {\n        vals = [value];\n      }\n      if (type.evenMultiple && vals.length % 2 !== 0) {\n        return null;\n      }\n      var valArr = [];\n      var unitsArr = [];\n      var pfValArr = [];\n      var strVal = '';\n      var hasEnum = false;\n      for (var i = 0; i < vals.length; i++) {\n        var p = self.parse(name, vals[i], propIsBypass, 'multiple');\n        hasEnum = hasEnum || string(p.value);\n        valArr.push(p.value);\n        pfValArr.push(p.pfValue != null ? p.pfValue : p.value);\n        unitsArr.push(p.units);\n        strVal += (i > 0 ? ' ' : '') + p.strValue;\n      }\n      if (type.validate && !type.validate(valArr, unitsArr)) {\n        return null;\n      }\n      if (type.singleEnum && hasEnum) {\n        if (valArr.length === 1 && string(valArr[0])) {\n          return {\n            name: name,\n            value: valArr[0],\n            strValue: valArr[0],\n            bypass: propIsBypass\n          };\n        } else {\n          return null;\n        }\n      }\n      return {\n        name: name,\n        value: valArr,\n        pfValue: pfValArr,\n        strValue: strVal,\n        bypass: propIsBypass,\n        units: unitsArr\n      };\n    }\n\n    // several types also allow enums\n    var checkEnums = function checkEnums() {\n      for (var _i = 0; _i < type.enums.length; _i++) {\n        var en = type.enums[_i];\n        if (en === value) {\n          return {\n            name: name,\n            value: value,\n            strValue: '' + value,\n            bypass: propIsBypass\n          };\n        }\n      }\n      return null;\n    };\n\n    // check the type and return the appropriate object\n    if (type.number) {\n      var units;\n      var implicitUnits = 'px'; // not set => px\n\n      if (type.units) {\n        // use specified units if set\n        units = type.units;\n      }\n      if (type.implicitUnits) {\n        implicitUnits = type.implicitUnits;\n      }\n      if (!type.unitless) {\n        if (valueIsString) {\n          var unitsRegex = 'px|em' + (type.allowPercent ? '|\\\\%' : '');\n          if (units) {\n            unitsRegex = units;\n          } // only allow explicit units if so set\n          var match = value.match('^(' + number + ')(' + unitsRegex + ')?' + '$');\n          if (match) {\n            value = match[1];\n            units = match[2] || implicitUnits;\n          }\n        } else if (!units || type.implicitUnits) {\n          units = implicitUnits; // implicitly px if unspecified\n        }\n      }\n\n      value = parseFloat(value);\n\n      // if not a number and enums not allowed, then the value is invalid\n      if (isNaN(value) && type.enums === undefined) {\n        return null;\n      }\n\n      // check if this number type also accepts special keywords in place of numbers\n      // (i.e. `left`, `auto`, etc)\n      if (isNaN(value) && type.enums !== undefined) {\n        value = passedValue;\n        return checkEnums();\n      }\n\n      // check if value must be an integer\n      if (type.integer && !integer(value)) {\n        return null;\n      }\n\n      // check value is within range\n      if (type.min !== undefined && (value < type.min || type.strictMin && value === type.min) || type.max !== undefined && (value > type.max || type.strictMax && value === type.max)) {\n        return null;\n      }\n      var ret = {\n        name: name,\n        value: value,\n        strValue: '' + value + (units ? units : ''),\n        units: units,\n        bypass: propIsBypass\n      };\n\n      // normalise value in pixels\n      if (type.unitless || units !== 'px' && units !== 'em') {\n        ret.pfValue = value;\n      } else {\n        ret.pfValue = units === 'px' || !units ? value : this.getEmSizeInPixels() * value;\n      }\n\n      // normalise value in ms\n      if (units === 'ms' || units === 's') {\n        ret.pfValue = units === 'ms' ? value : 1000 * value;\n      }\n\n      // normalise value in rad\n      if (units === 'deg' || units === 'rad') {\n        ret.pfValue = units === 'rad' ? value : deg2rad(value);\n      }\n\n      // normalize value in %\n      if (units === '%') {\n        ret.pfValue = value / 100;\n      }\n      return ret;\n    } else if (type.propList) {\n      var props = [];\n      var propsStr = '' + value;\n      if (propsStr === 'none') ; else {\n        // go over each prop\n\n        var propsSplit = propsStr.split(/\\s*,\\s*|\\s+/);\n        for (var _i2 = 0; _i2 < propsSplit.length; _i2++) {\n          var propName = propsSplit[_i2].trim();\n          if (self.properties[propName]) {\n            props.push(propName);\n          } else {\n            warn('`' + propName + '` is not a valid property name');\n          }\n        }\n        if (props.length === 0) {\n          return null;\n        }\n      }\n      return {\n        name: name,\n        value: props,\n        strValue: props.length === 0 ? 'none' : props.join(' '),\n        bypass: propIsBypass\n      };\n    } else if (type.color) {\n      var tuple = color2tuple(value);\n      if (!tuple) {\n        return null;\n      }\n      return {\n        name: name,\n        value: tuple,\n        pfValue: tuple,\n        strValue: 'rgb(' + tuple[0] + ',' + tuple[1] + ',' + tuple[2] + ')',\n        // n.b. no spaces b/c of multiple support\n        bypass: propIsBypass\n      };\n    } else if (type.regex || type.regexes) {\n      // first check enums\n      if (type.enums) {\n        var enumProp = checkEnums();\n        if (enumProp) {\n          return enumProp;\n        }\n      }\n      var regexes = type.regexes ? type.regexes : [type.regex];\n      for (var _i3 = 0; _i3 < regexes.length; _i3++) {\n        var regex = new RegExp(regexes[_i3]); // make a regex from the type string\n        var m = regex.exec(value);\n        if (m) {\n          // regex matches\n          return {\n            name: name,\n            value: type.singleRegexMatchValue ? m[1] : m,\n            strValue: '' + value,\n            bypass: propIsBypass\n          };\n        }\n      }\n      return null; // didn't match any\n    } else if (type.string) {\n      // just return\n      return {\n        name: name,\n        value: '' + value,\n        strValue: '' + value,\n        bypass: propIsBypass\n      };\n    } else if (type.enums) {\n      // check enums last because it's a combo type in others\n      return checkEnums();\n    } else {\n      return null; // not a type we can handle\n    }\n  };\n\n  var Style = function Style(cy) {\n    if (!(this instanceof Style)) {\n      return new Style(cy);\n    }\n    if (!core(cy)) {\n      error('A style must have a core reference');\n      return;\n    }\n    this._private = {\n      cy: cy,\n      coreStyle: {}\n    };\n    this.length = 0;\n    this.resetToDefault();\n  };\n  var styfn = Style.prototype;\n  styfn.instanceString = function () {\n    return 'style';\n  };\n\n  // remove all contexts\n  styfn.clear = function () {\n    var _p = this._private;\n    var cy = _p.cy;\n    var eles = cy.elements();\n    for (var i = 0; i < this.length; i++) {\n      this[i] = undefined;\n    }\n    this.length = 0;\n    _p.contextStyles = {};\n    _p.propDiffs = {};\n    this.cleanElements(eles, true);\n    eles.forEach(function (ele) {\n      var ele_p = ele[0]._private;\n      ele_p.styleDirty = true;\n      ele_p.appliedInitStyle = false;\n    });\n    return this; // chaining\n  };\n\n  styfn.resetToDefault = function () {\n    this.clear();\n    this.addDefaultStylesheet();\n    return this;\n  };\n\n  // builds a style object for the 'core' selector\n  styfn.core = function (propName) {\n    return this._private.coreStyle[propName] || this.getDefaultProperty(propName);\n  };\n\n  // create a new context from the specified selector string and switch to that context\n  styfn.selector = function (selectorStr) {\n    // 'core' is a special case and does not need a selector\n    var selector = selectorStr === 'core' ? null : new Selector(selectorStr);\n    var i = this.length++; // new context means new index\n    this[i] = {\n      selector: selector,\n      properties: [],\n      mappedProperties: [],\n      index: i\n    };\n    return this; // chaining\n  };\n\n  // add one or many css rules to the current context\n  styfn.css = function () {\n    var self = this;\n    var args = arguments;\n    if (args.length === 1) {\n      var map = args[0];\n      for (var i = 0; i < self.properties.length; i++) {\n        var prop = self.properties[i];\n        var mapVal = map[prop.name];\n        if (mapVal === undefined) {\n          mapVal = map[dash2camel(prop.name)];\n        }\n        if (mapVal !== undefined) {\n          this.cssRule(prop.name, mapVal);\n        }\n      }\n    } else if (args.length === 2) {\n      this.cssRule(args[0], args[1]);\n    }\n\n    // do nothing if args are invalid\n\n    return this; // chaining\n  };\n\n  styfn.style = styfn.css;\n\n  // add a single css rule to the current context\n  styfn.cssRule = function (name, value) {\n    // name-value pair\n    var property = this.parse(name, value);\n\n    // add property to current context if valid\n    if (property) {\n      var i = this.length - 1;\n      this[i].properties.push(property);\n      this[i].properties[property.name] = property; // allow access by name as well\n\n      if (property.name.match(/pie-(\\d+)-background-size/) && property.value) {\n        this._private.hasPie = true;\n      }\n      if (property.mapped) {\n        this[i].mappedProperties.push(property);\n      }\n\n      // add to core style if necessary\n      var currentSelectorIsCore = !this[i].selector;\n      if (currentSelectorIsCore) {\n        this._private.coreStyle[property.name] = property;\n      }\n    }\n    return this; // chaining\n  };\n\n  styfn.append = function (style) {\n    if (stylesheet(style)) {\n      style.appendToStyle(this);\n    } else if (array(style)) {\n      this.appendFromJson(style);\n    } else if (string(style)) {\n      this.appendFromString(style);\n    } // you probably wouldn't want to append a Style, since you'd duplicate the default parts\n\n    return this;\n  };\n\n  // static function\n  Style.fromJson = function (cy, json) {\n    var style = new Style(cy);\n    style.fromJson(json);\n    return style;\n  };\n  Style.fromString = function (cy, string) {\n    return new Style(cy).fromString(string);\n  };\n  [styfn$8, styfn$7, styfn$6, styfn$5, styfn$4, styfn$3, styfn$2, styfn$1].forEach(function (props) {\n    extend(styfn, props);\n  });\n  Style.types = styfn.types;\n  Style.properties = styfn.properties;\n  Style.propertyGroups = styfn.propertyGroups;\n  Style.propertyGroupNames = styfn.propertyGroupNames;\n  Style.propertyGroupKeys = styfn.propertyGroupKeys;\n\n  var corefn$2 = {\n    style: function style(newStyle) {\n      if (newStyle) {\n        var s = this.setStyle(newStyle);\n        s.update();\n      }\n      return this._private.style;\n    },\n    setStyle: function setStyle(style) {\n      var _p = this._private;\n      if (stylesheet(style)) {\n        _p.style = style.generateStyle(this);\n      } else if (array(style)) {\n        _p.style = Style.fromJson(this, style);\n      } else if (string(style)) {\n        _p.style = Style.fromString(this, style);\n      } else {\n        _p.style = Style(this);\n      }\n      return _p.style;\n    },\n    // e.g. cy.data() changed => recalc ele mappers\n    updateStyle: function updateStyle() {\n      this.mutableElements().updateStyle(); // just send to all eles\n    }\n  };\n\n  var defaultSelectionType = 'single';\n  var corefn$1 = {\n    autolock: function autolock(bool) {\n      if (bool !== undefined) {\n        this._private.autolock = bool ? true : false;\n      } else {\n        return this._private.autolock;\n      }\n      return this; // chaining\n    },\n\n    autoungrabify: function autoungrabify(bool) {\n      if (bool !== undefined) {\n        this._private.autoungrabify = bool ? true : false;\n      } else {\n        return this._private.autoungrabify;\n      }\n      return this; // chaining\n    },\n\n    autounselectify: function autounselectify(bool) {\n      if (bool !== undefined) {\n        this._private.autounselectify = bool ? true : false;\n      } else {\n        return this._private.autounselectify;\n      }\n      return this; // chaining\n    },\n\n    selectionType: function selectionType(selType) {\n      var _p = this._private;\n      if (_p.selectionType == null) {\n        _p.selectionType = defaultSelectionType;\n      }\n      if (selType !== undefined) {\n        if (selType === 'additive' || selType === 'single') {\n          _p.selectionType = selType;\n        }\n      } else {\n        return _p.selectionType;\n      }\n      return this;\n    },\n    panningEnabled: function panningEnabled(bool) {\n      if (bool !== undefined) {\n        this._private.panningEnabled = bool ? true : false;\n      } else {\n        return this._private.panningEnabled;\n      }\n      return this; // chaining\n    },\n\n    userPanningEnabled: function userPanningEnabled(bool) {\n      if (bool !== undefined) {\n        this._private.userPanningEnabled = bool ? true : false;\n      } else {\n        return this._private.userPanningEnabled;\n      }\n      return this; // chaining\n    },\n\n    zoomingEnabled: function zoomingEnabled(bool) {\n      if (bool !== undefined) {\n        this._private.zoomingEnabled = bool ? true : false;\n      } else {\n        return this._private.zoomingEnabled;\n      }\n      return this; // chaining\n    },\n\n    userZoomingEnabled: function userZoomingEnabled(bool) {\n      if (bool !== undefined) {\n        this._private.userZoomingEnabled = bool ? true : false;\n      } else {\n        return this._private.userZoomingEnabled;\n      }\n      return this; // chaining\n    },\n\n    boxSelectionEnabled: function boxSelectionEnabled(bool) {\n      if (bool !== undefined) {\n        this._private.boxSelectionEnabled = bool ? true : false;\n      } else {\n        return this._private.boxSelectionEnabled;\n      }\n      return this; // chaining\n    },\n\n    pan: function pan() {\n      var args = arguments;\n      var pan = this._private.pan;\n      var dim, val, dims, x, y;\n      switch (args.length) {\n        case 0:\n          // .pan()\n          return pan;\n        case 1:\n          if (string(args[0])) {\n            // .pan('x')\n            dim = args[0];\n            return pan[dim];\n          } else if (plainObject(args[0])) {\n            // .pan({ x: 0, y: 100 })\n            if (!this._private.panningEnabled) {\n              return this;\n            }\n            dims = args[0];\n            x = dims.x;\n            y = dims.y;\n            if (number$1(x)) {\n              pan.x = x;\n            }\n            if (number$1(y)) {\n              pan.y = y;\n            }\n            this.emit('pan viewport');\n          }\n          break;\n        case 2:\n          // .pan('x', 100)\n          if (!this._private.panningEnabled) {\n            return this;\n          }\n          dim = args[0];\n          val = args[1];\n          if ((dim === 'x' || dim === 'y') && number$1(val)) {\n            pan[dim] = val;\n          }\n          this.emit('pan viewport');\n          break;\n        // invalid\n      }\n\n      this.notify('viewport');\n      return this; // chaining\n    },\n\n    panBy: function panBy(arg0, arg1) {\n      var args = arguments;\n      var pan = this._private.pan;\n      var dim, val, dims, x, y;\n      if (!this._private.panningEnabled) {\n        return this;\n      }\n      switch (args.length) {\n        case 1:\n          if (plainObject(arg0)) {\n            // .panBy({ x: 0, y: 100 })\n            dims = args[0];\n            x = dims.x;\n            y = dims.y;\n            if (number$1(x)) {\n              pan.x += x;\n            }\n            if (number$1(y)) {\n              pan.y += y;\n            }\n            this.emit('pan viewport');\n          }\n          break;\n        case 2:\n          // .panBy('x', 100)\n          dim = arg0;\n          val = arg1;\n          if ((dim === 'x' || dim === 'y') && number$1(val)) {\n            pan[dim] += val;\n          }\n          this.emit('pan viewport');\n          break;\n        // invalid\n      }\n\n      this.notify('viewport');\n      return this; // chaining\n    },\n\n    fit: function fit(elements, padding) {\n      var viewportState = this.getFitViewport(elements, padding);\n      if (viewportState) {\n        var _p = this._private;\n        _p.zoom = viewportState.zoom;\n        _p.pan = viewportState.pan;\n        this.emit('pan zoom viewport');\n        this.notify('viewport');\n      }\n      return this; // chaining\n    },\n\n    getFitViewport: function getFitViewport(elements, padding) {\n      if (number$1(elements) && padding === undefined) {\n        // elements is optional\n        padding = elements;\n        elements = undefined;\n      }\n      if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n        return;\n      }\n      var bb;\n      if (string(elements)) {\n        var sel = elements;\n        elements = this.$(sel);\n      } else if (boundingBox(elements)) {\n        // assume bb\n        var bbe = elements;\n        bb = {\n          x1: bbe.x1,\n          y1: bbe.y1,\n          x2: bbe.x2,\n          y2: bbe.y2\n        };\n        bb.w = bb.x2 - bb.x1;\n        bb.h = bb.y2 - bb.y1;\n      } else if (!elementOrCollection(elements)) {\n        elements = this.mutableElements();\n      }\n      if (elementOrCollection(elements) && elements.empty()) {\n        return;\n      } // can't fit to nothing\n\n      bb = bb || elements.boundingBox();\n      var w = this.width();\n      var h = this.height();\n      var zoom;\n      padding = number$1(padding) ? padding : 0;\n      if (!isNaN(w) && !isNaN(h) && w > 0 && h > 0 && !isNaN(bb.w) && !isNaN(bb.h) && bb.w > 0 && bb.h > 0) {\n        zoom = Math.min((w - 2 * padding) / bb.w, (h - 2 * padding) / bb.h);\n\n        // crop zoom\n        zoom = zoom > this._private.maxZoom ? this._private.maxZoom : zoom;\n        zoom = zoom < this._private.minZoom ? this._private.minZoom : zoom;\n        var pan = {\n          // now pan to middle\n          x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n          y: (h - zoom * (bb.y1 + bb.y2)) / 2\n        };\n        return {\n          zoom: zoom,\n          pan: pan\n        };\n      }\n      return;\n    },\n    zoomRange: function zoomRange(min, max) {\n      var _p = this._private;\n      if (max == null) {\n        var opts = min;\n        min = opts.min;\n        max = opts.max;\n      }\n      if (number$1(min) && number$1(max) && min <= max) {\n        _p.minZoom = min;\n        _p.maxZoom = max;\n      } else if (number$1(min) && max === undefined && min <= _p.maxZoom) {\n        _p.minZoom = min;\n      } else if (number$1(max) && min === undefined && max >= _p.minZoom) {\n        _p.maxZoom = max;\n      }\n      return this;\n    },\n    minZoom: function minZoom(zoom) {\n      if (zoom === undefined) {\n        return this._private.minZoom;\n      } else {\n        return this.zoomRange({\n          min: zoom\n        });\n      }\n    },\n    maxZoom: function maxZoom(zoom) {\n      if (zoom === undefined) {\n        return this._private.maxZoom;\n      } else {\n        return this.zoomRange({\n          max: zoom\n        });\n      }\n    },\n    getZoomedViewport: function getZoomedViewport(params) {\n      var _p = this._private;\n      var currentPan = _p.pan;\n      var currentZoom = _p.zoom;\n      var pos; // in rendered px\n      var zoom;\n      var bail = false;\n      if (!_p.zoomingEnabled) {\n        // zooming disabled\n        bail = true;\n      }\n      if (number$1(params)) {\n        // then set the zoom\n        zoom = params;\n      } else if (plainObject(params)) {\n        // then zoom about a point\n        zoom = params.level;\n        if (params.position != null) {\n          pos = modelToRenderedPosition(params.position, currentZoom, currentPan);\n        } else if (params.renderedPosition != null) {\n          pos = params.renderedPosition;\n        }\n        if (pos != null && !_p.panningEnabled) {\n          // panning disabled\n          bail = true;\n        }\n      }\n\n      // crop zoom\n      zoom = zoom > _p.maxZoom ? _p.maxZoom : zoom;\n      zoom = zoom < _p.minZoom ? _p.minZoom : zoom;\n\n      // can't zoom with invalid params\n      if (bail || !number$1(zoom) || zoom === currentZoom || pos != null && (!number$1(pos.x) || !number$1(pos.y))) {\n        return null;\n      }\n      if (pos != null) {\n        // set zoom about position\n        var pan1 = currentPan;\n        var zoom1 = currentZoom;\n        var zoom2 = zoom;\n        var pan2 = {\n          x: -zoom2 / zoom1 * (pos.x - pan1.x) + pos.x,\n          y: -zoom2 / zoom1 * (pos.y - pan1.y) + pos.y\n        };\n        return {\n          zoomed: true,\n          panned: true,\n          zoom: zoom2,\n          pan: pan2\n        };\n      } else {\n        // just set the zoom\n        return {\n          zoomed: true,\n          panned: false,\n          zoom: zoom,\n          pan: currentPan\n        };\n      }\n    },\n    zoom: function zoom(params) {\n      if (params === undefined) {\n        // get\n        return this._private.zoom;\n      } else {\n        // set\n        var vp = this.getZoomedViewport(params);\n        var _p = this._private;\n        if (vp == null || !vp.zoomed) {\n          return this;\n        }\n        _p.zoom = vp.zoom;\n        if (vp.panned) {\n          _p.pan.x = vp.pan.x;\n          _p.pan.y = vp.pan.y;\n        }\n        this.emit('zoom' + (vp.panned ? ' pan' : '') + ' viewport');\n        this.notify('viewport');\n        return this; // chaining\n      }\n    },\n\n    viewport: function viewport(opts) {\n      var _p = this._private;\n      var zoomDefd = true;\n      var panDefd = true;\n      var events = []; // to trigger\n      var zoomFailed = false;\n      var panFailed = false;\n      if (!opts) {\n        return this;\n      }\n      if (!number$1(opts.zoom)) {\n        zoomDefd = false;\n      }\n      if (!plainObject(opts.pan)) {\n        panDefd = false;\n      }\n      if (!zoomDefd && !panDefd) {\n        return this;\n      }\n      if (zoomDefd) {\n        var z = opts.zoom;\n        if (z < _p.minZoom || z > _p.maxZoom || !_p.zoomingEnabled) {\n          zoomFailed = true;\n        } else {\n          _p.zoom = z;\n          events.push('zoom');\n        }\n      }\n      if (panDefd && (!zoomFailed || !opts.cancelOnFailedZoom) && _p.panningEnabled) {\n        var p = opts.pan;\n        if (number$1(p.x)) {\n          _p.pan.x = p.x;\n          panFailed = false;\n        }\n        if (number$1(p.y)) {\n          _p.pan.y = p.y;\n          panFailed = false;\n        }\n        if (!panFailed) {\n          events.push('pan');\n        }\n      }\n      if (events.length > 0) {\n        events.push('viewport');\n        this.emit(events.join(' '));\n        this.notify('viewport');\n      }\n      return this; // chaining\n    },\n\n    center: function center(elements) {\n      var pan = this.getCenterPan(elements);\n      if (pan) {\n        this._private.pan = pan;\n        this.emit('pan viewport');\n        this.notify('viewport');\n      }\n      return this; // chaining\n    },\n\n    getCenterPan: function getCenterPan(elements, zoom) {\n      if (!this._private.panningEnabled) {\n        return;\n      }\n      if (string(elements)) {\n        var selector = elements;\n        elements = this.mutableElements().filter(selector);\n      } else if (!elementOrCollection(elements)) {\n        elements = this.mutableElements();\n      }\n      if (elements.length === 0) {\n        return;\n      } // can't centre pan to nothing\n\n      var bb = elements.boundingBox();\n      var w = this.width();\n      var h = this.height();\n      zoom = zoom === undefined ? this._private.zoom : zoom;\n      var pan = {\n        // middle\n        x: (w - zoom * (bb.x1 + bb.x2)) / 2,\n        y: (h - zoom * (bb.y1 + bb.y2)) / 2\n      };\n      return pan;\n    },\n    reset: function reset() {\n      if (!this._private.panningEnabled || !this._private.zoomingEnabled) {\n        return this;\n      }\n      this.viewport({\n        pan: {\n          x: 0,\n          y: 0\n        },\n        zoom: 1\n      });\n      return this; // chaining\n    },\n\n    invalidateSize: function invalidateSize() {\n      this._private.sizeCache = null;\n    },\n    size: function size() {\n      var _p = this._private;\n      var container = _p.container;\n      var cy = this;\n      return _p.sizeCache = _p.sizeCache || (container ? function () {\n        var style = cy.window().getComputedStyle(container);\n        var val = function val(name) {\n          return parseFloat(style.getPropertyValue(name));\n        };\n        return {\n          width: container.clientWidth - val('padding-left') - val('padding-right'),\n          height: container.clientHeight - val('padding-top') - val('padding-bottom')\n        };\n      }() : {\n        // fallback if no container (not 0 b/c can be used for dividing etc)\n        width: 1,\n        height: 1\n      });\n    },\n    width: function width() {\n      return this.size().width;\n    },\n    height: function height() {\n      return this.size().height;\n    },\n    extent: function extent() {\n      var pan = this._private.pan;\n      var zoom = this._private.zoom;\n      var rb = this.renderedExtent();\n      var b = {\n        x1: (rb.x1 - pan.x) / zoom,\n        x2: (rb.x2 - pan.x) / zoom,\n        y1: (rb.y1 - pan.y) / zoom,\n        y2: (rb.y2 - pan.y) / zoom\n      };\n      b.w = b.x2 - b.x1;\n      b.h = b.y2 - b.y1;\n      return b;\n    },\n    renderedExtent: function renderedExtent() {\n      var width = this.width();\n      var height = this.height();\n      return {\n        x1: 0,\n        y1: 0,\n        x2: width,\n        y2: height,\n        w: width,\n        h: height\n      };\n    },\n    multiClickDebounceTime: function multiClickDebounceTime(_int) {\n      if (_int) this._private.multiClickDebounceTime = _int;else return this._private.multiClickDebounceTime;\n      return this; // chaining\n    }\n  };\n\n  // aliases\n  corefn$1.centre = corefn$1.center;\n\n  // backwards compatibility\n  corefn$1.autolockNodes = corefn$1.autolock;\n  corefn$1.autoungrabifyNodes = corefn$1.autoungrabify;\n\n  var fn = {\n    data: define.data({\n      field: 'data',\n      bindingEvent: 'data',\n      allowBinding: true,\n      allowSetting: true,\n      settingEvent: 'data',\n      settingTriggersEvent: true,\n      triggerFnName: 'trigger',\n      allowGetting: true,\n      updateStyle: true\n    }),\n    removeData: define.removeData({\n      field: 'data',\n      event: 'data',\n      triggerFnName: 'trigger',\n      triggerEvent: true,\n      updateStyle: true\n    }),\n    scratch: define.data({\n      field: 'scratch',\n      bindingEvent: 'scratch',\n      allowBinding: true,\n      allowSetting: true,\n      settingEvent: 'scratch',\n      settingTriggersEvent: true,\n      triggerFnName: 'trigger',\n      allowGetting: true,\n      updateStyle: true\n    }),\n    removeScratch: define.removeData({\n      field: 'scratch',\n      event: 'scratch',\n      triggerFnName: 'trigger',\n      triggerEvent: true,\n      updateStyle: true\n    })\n  };\n\n  // aliases\n  fn.attr = fn.data;\n  fn.removeAttr = fn.removeData;\n\n  var Core = function Core(opts) {\n    var cy = this;\n    opts = extend({}, opts);\n    var container = opts.container;\n\n    // allow for passing a wrapped jquery object\n    // e.g. cytoscape({ container: $('#cy') })\n    if (container && !htmlElement(container) && htmlElement(container[0])) {\n      container = container[0];\n    }\n    var reg = container ? container._cyreg : null; // e.g. already registered some info (e.g. readies) via jquery\n    reg = reg || {};\n    if (reg && reg.cy) {\n      reg.cy.destroy();\n      reg = {}; // old instance => replace reg completely\n    }\n\n    var readies = reg.readies = reg.readies || [];\n    if (container) {\n      container._cyreg = reg;\n    } // make sure container assoc'd reg points to this cy\n    reg.cy = cy;\n    var head = _window !== undefined && container !== undefined && !opts.headless;\n    var options = opts;\n    options.layout = extend({\n      name: head ? 'grid' : 'null'\n    }, options.layout);\n    options.renderer = extend({\n      name: head ? 'canvas' : 'null'\n    }, options.renderer);\n    var defVal = function defVal(def, val, altVal) {\n      if (val !== undefined) {\n        return val;\n      } else if (altVal !== undefined) {\n        return altVal;\n      } else {\n        return def;\n      }\n    };\n    var _p = this._private = {\n      container: container,\n      // html dom ele container\n      ready: false,\n      // whether ready has been triggered\n      options: options,\n      // cached options\n      elements: new Collection(this),\n      // elements in the graph\n      listeners: [],\n      // list of listeners\n      aniEles: new Collection(this),\n      // elements being animated\n      data: options.data || {},\n      // data for the core\n      scratch: {},\n      // scratch object for core\n      layout: null,\n      renderer: null,\n      destroyed: false,\n      // whether destroy was called\n      notificationsEnabled: true,\n      // whether notifications are sent to the renderer\n      minZoom: 1e-50,\n      maxZoom: 1e50,\n      zoomingEnabled: defVal(true, options.zoomingEnabled),\n      userZoomingEnabled: defVal(true, options.userZoomingEnabled),\n      panningEnabled: defVal(true, options.panningEnabled),\n      userPanningEnabled: defVal(true, options.userPanningEnabled),\n      boxSelectionEnabled: defVal(true, options.boxSelectionEnabled),\n      autolock: defVal(false, options.autolock, options.autolockNodes),\n      autoungrabify: defVal(false, options.autoungrabify, options.autoungrabifyNodes),\n      autounselectify: defVal(false, options.autounselectify),\n      styleEnabled: options.styleEnabled === undefined ? head : options.styleEnabled,\n      zoom: number$1(options.zoom) ? options.zoom : 1,\n      pan: {\n        x: plainObject(options.pan) && number$1(options.pan.x) ? options.pan.x : 0,\n        y: plainObject(options.pan) && number$1(options.pan.y) ? options.pan.y : 0\n      },\n      animation: {\n        // object for currently-running animations\n        current: [],\n        queue: []\n      },\n      hasCompoundNodes: false,\n      multiClickDebounceTime: defVal(250, options.multiClickDebounceTime)\n    };\n    this.createEmitter();\n\n    // set selection type\n    this.selectionType(options.selectionType);\n\n    // init zoom bounds\n    this.zoomRange({\n      min: options.minZoom,\n      max: options.maxZoom\n    });\n    var loadExtData = function loadExtData(extData, next) {\n      var anyIsPromise = extData.some(promise);\n      if (anyIsPromise) {\n        return Promise$1.all(extData).then(next); // load all data asynchronously, then exec rest of init\n      } else {\n        next(extData); // exec synchronously for convenience\n      }\n    };\n\n    // start with the default stylesheet so we have something before loading an external stylesheet\n    if (_p.styleEnabled) {\n      cy.setStyle([]);\n    }\n\n    // create the renderer\n    var rendererOptions = extend({}, options, options.renderer); // allow rendering hints in top level options\n    cy.initRenderer(rendererOptions);\n    var setElesAndLayout = function setElesAndLayout(elements, onload, ondone) {\n      cy.notifications(false);\n\n      // remove old elements\n      var oldEles = cy.mutableElements();\n      if (oldEles.length > 0) {\n        oldEles.remove();\n      }\n      if (elements != null) {\n        if (plainObject(elements) || array(elements)) {\n          cy.add(elements);\n        }\n      }\n      cy.one('layoutready', function (e) {\n        cy.notifications(true);\n        cy.emit(e); // we missed this event by turning notifications off, so pass it on\n\n        cy.one('load', onload);\n        cy.emitAndNotify('load');\n      }).one('layoutstop', function () {\n        cy.one('done', ondone);\n        cy.emit('done');\n      });\n      var layoutOpts = extend({}, cy._private.options.layout);\n      layoutOpts.eles = cy.elements();\n      cy.layout(layoutOpts).run();\n    };\n    loadExtData([options.style, options.elements], function (thens) {\n      var initStyle = thens[0];\n      var initEles = thens[1];\n\n      // init style\n      if (_p.styleEnabled) {\n        cy.style().append(initStyle);\n      }\n\n      // initial load\n      setElesAndLayout(initEles, function () {\n        // onready\n        cy.startAnimationLoop();\n        _p.ready = true;\n\n        // if a ready callback is specified as an option, the bind it\n        if (fn$6(options.ready)) {\n          cy.on('ready', options.ready);\n        }\n\n        // bind all the ready handlers registered before creating this instance\n        for (var i = 0; i < readies.length; i++) {\n          var fn = readies[i];\n          cy.on('ready', fn);\n        }\n        if (reg) {\n          reg.readies = [];\n        } // clear b/c we've bound them all and don't want to keep it around in case a new core uses the same div etc\n\n        cy.emit('ready');\n      }, options.done);\n    });\n  };\n  var corefn = Core.prototype; // short alias\n\n  extend(corefn, {\n    instanceString: function instanceString() {\n      return 'core';\n    },\n    isReady: function isReady() {\n      return this._private.ready;\n    },\n    destroyed: function destroyed() {\n      return this._private.destroyed;\n    },\n    ready: function ready(fn) {\n      if (this.isReady()) {\n        this.emitter().emit('ready', [], fn); // just calls fn as though triggered via ready event\n      } else {\n        this.on('ready', fn);\n      }\n      return this;\n    },\n    destroy: function destroy() {\n      var cy = this;\n      if (cy.destroyed()) return;\n      cy.stopAnimationLoop();\n      cy.destroyRenderer();\n      this.emit('destroy');\n      cy._private.destroyed = true;\n      return cy;\n    },\n    hasElementWithId: function hasElementWithId(id) {\n      return this._private.elements.hasElementWithId(id);\n    },\n    getElementById: function getElementById(id) {\n      return this._private.elements.getElementById(id);\n    },\n    hasCompoundNodes: function hasCompoundNodes() {\n      return this._private.hasCompoundNodes;\n    },\n    headless: function headless() {\n      return this._private.renderer.isHeadless();\n    },\n    styleEnabled: function styleEnabled() {\n      return this._private.styleEnabled;\n    },\n    addToPool: function addToPool(eles) {\n      this._private.elements.merge(eles);\n      return this; // chaining\n    },\n\n    removeFromPool: function removeFromPool(eles) {\n      this._private.elements.unmerge(eles);\n      return this;\n    },\n    container: function container() {\n      return this._private.container || null;\n    },\n    window: function window() {\n      var container = this._private.container;\n      if (container == null) return _window;\n      var ownerDocument = this._private.container.ownerDocument;\n      if (ownerDocument === undefined || ownerDocument == null) {\n        return _window;\n      }\n      return ownerDocument.defaultView || _window;\n    },\n    mount: function mount(container) {\n      if (container == null) {\n        return;\n      }\n      var cy = this;\n      var _p = cy._private;\n      var options = _p.options;\n      if (!htmlElement(container) && htmlElement(container[0])) {\n        container = container[0];\n      }\n      cy.stopAnimationLoop();\n      cy.destroyRenderer();\n      _p.container = container;\n      _p.styleEnabled = true;\n      cy.invalidateSize();\n      cy.initRenderer(extend({}, options, options.renderer, {\n        // allow custom renderer name to be re-used, otherwise use canvas\n        name: options.renderer.name === 'null' ? 'canvas' : options.renderer.name\n      }));\n      cy.startAnimationLoop();\n      cy.style(options.style);\n      cy.emit('mount');\n      return cy;\n    },\n    unmount: function unmount() {\n      var cy = this;\n      cy.stopAnimationLoop();\n      cy.destroyRenderer();\n      cy.initRenderer({\n        name: 'null'\n      });\n      cy.emit('unmount');\n      return cy;\n    },\n    options: function options() {\n      return copy(this._private.options);\n    },\n    json: function json(obj) {\n      var cy = this;\n      var _p = cy._private;\n      var eles = cy.mutableElements();\n      var getFreshRef = function getFreshRef(ele) {\n        return cy.getElementById(ele.id());\n      };\n      if (plainObject(obj)) {\n        // set\n\n        cy.startBatch();\n        if (obj.elements) {\n          var idInJson = {};\n          var updateEles = function updateEles(jsons, gr) {\n            var toAdd = [];\n            var toMod = [];\n            for (var i = 0; i < jsons.length; i++) {\n              var json = jsons[i];\n              if (!json.data.id) {\n                warn('cy.json() cannot handle elements without an ID attribute');\n                continue;\n              }\n              var id = '' + json.data.id; // id must be string\n              var ele = cy.getElementById(id);\n              idInJson[id] = true;\n              if (ele.length !== 0) {\n                // existing element should be updated\n                toMod.push({\n                  ele: ele,\n                  json: json\n                });\n              } else {\n                // otherwise should be added\n                if (gr) {\n                  json.group = gr;\n                  toAdd.push(json);\n                } else {\n                  toAdd.push(json);\n                }\n              }\n            }\n            cy.add(toAdd);\n            for (var _i = 0; _i < toMod.length; _i++) {\n              var _toMod$_i = toMod[_i],\n                _ele = _toMod$_i.ele,\n                _json = _toMod$_i.json;\n              _ele.json(_json);\n            }\n          };\n          if (array(obj.elements)) {\n            // elements: []\n            updateEles(obj.elements);\n          } else {\n            // elements: { nodes: [], edges: [] }\n            var grs = ['nodes', 'edges'];\n            for (var i = 0; i < grs.length; i++) {\n              var gr = grs[i];\n              var elements = obj.elements[gr];\n              if (array(elements)) {\n                updateEles(elements, gr);\n              }\n            }\n          }\n          var parentsToRemove = cy.collection();\n          eles.filter(function (ele) {\n            return !idInJson[ele.id()];\n          }).forEach(function (ele) {\n            if (ele.isParent()) {\n              parentsToRemove.merge(ele);\n            } else {\n              ele.remove();\n            }\n          });\n\n          // so that children are not removed w/parent\n          parentsToRemove.forEach(function (ele) {\n            return ele.children().move({\n              parent: null\n            });\n          });\n\n          // intermediate parents may be moved by prior line, so make sure we remove by fresh refs\n          parentsToRemove.forEach(function (ele) {\n            return getFreshRef(ele).remove();\n          });\n        }\n        if (obj.style) {\n          cy.style(obj.style);\n        }\n        if (obj.zoom != null && obj.zoom !== _p.zoom) {\n          cy.zoom(obj.zoom);\n        }\n        if (obj.pan) {\n          if (obj.pan.x !== _p.pan.x || obj.pan.y !== _p.pan.y) {\n            cy.pan(obj.pan);\n          }\n        }\n        if (obj.data) {\n          cy.data(obj.data);\n        }\n        var fields = ['minZoom', 'maxZoom', 'zoomingEnabled', 'userZoomingEnabled', 'panningEnabled', 'userPanningEnabled', 'boxSelectionEnabled', 'autolock', 'autoungrabify', 'autounselectify', 'multiClickDebounceTime'];\n        for (var _i2 = 0; _i2 < fields.length; _i2++) {\n          var f = fields[_i2];\n          if (obj[f] != null) {\n            cy[f](obj[f]);\n          }\n        }\n        cy.endBatch();\n        return this; // chaining\n      } else {\n        // get\n        var flat = !!obj;\n        var json = {};\n        if (flat) {\n          json.elements = this.elements().map(function (ele) {\n            return ele.json();\n          });\n        } else {\n          json.elements = {};\n          eles.forEach(function (ele) {\n            var group = ele.group();\n            if (!json.elements[group]) {\n              json.elements[group] = [];\n            }\n            json.elements[group].push(ele.json());\n          });\n        }\n        if (this._private.styleEnabled) {\n          json.style = cy.style().json();\n        }\n        json.data = copy(cy.data());\n        var options = _p.options;\n        json.zoomingEnabled = _p.zoomingEnabled;\n        json.userZoomingEnabled = _p.userZoomingEnabled;\n        json.zoom = _p.zoom;\n        json.minZoom = _p.minZoom;\n        json.maxZoom = _p.maxZoom;\n        json.panningEnabled = _p.panningEnabled;\n        json.userPanningEnabled = _p.userPanningEnabled;\n        json.pan = copy(_p.pan);\n        json.boxSelectionEnabled = _p.boxSelectionEnabled;\n        json.renderer = copy(options.renderer);\n        json.hideEdgesOnViewport = options.hideEdgesOnViewport;\n        json.textureOnViewport = options.textureOnViewport;\n        json.wheelSensitivity = options.wheelSensitivity;\n        json.motionBlur = options.motionBlur;\n        json.multiClickDebounceTime = options.multiClickDebounceTime;\n        return json;\n      }\n    }\n  });\n  corefn.$id = corefn.getElementById;\n  [corefn$9, corefn$8, elesfn, corefn$7, corefn$6, corefn$5, corefn$4, corefn$3, corefn$2, corefn$1, fn].forEach(function (props) {\n    extend(corefn, props);\n  });\n\n  /* eslint-disable no-unused-vars */\n  var defaults$7 = {\n    fit: true,\n    // whether to fit the viewport to the graph\n    directed: false,\n    // whether the tree is directed downwards (or edges can point in any direction if false)\n    padding: 30,\n    // padding on fit\n    circle: false,\n    // put depths in concentric circles if true, put depths top down if false\n    grid: false,\n    // whether to create an even grid into which the DAG is placed (circle:false only)\n    spacingFactor: 1.75,\n    // positive spacing factor, larger => more space between nodes (N.B. n/a if causes overlap)\n    boundingBox: undefined,\n    // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true,\n    // prevents node overlap, may overflow boundingBox if not enough space\n    nodeDimensionsIncludeLabels: false,\n    // Excludes the label when calculating node bounding boxes for the layout algorithm\n    roots: undefined,\n    // the roots of the trees\n    depthSort: undefined,\n    // a sorting function to order nodes at equal depth. e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n    animate: false,\n    // whether to transition the node positions\n    animationDuration: 500,\n    // duration of animation in ms if enabled\n    animationEasing: undefined,\n    // easing of animation if enabled,\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    ready: undefined,\n    // callback on layoutready\n    stop: undefined,\n    // callback on layoutstop\n    transform: function transform(node, position) {\n      return position;\n    } // transform a given node position. Useful for changing flow direction in discrete layouts\n  };\n\n  var deprecatedOptionDefaults = {\n    maximal: false,\n    // whether to shift nodes down their natural BFS depths in order to avoid upwards edges (DAGS only); setting acyclic to true sets maximal to true also\n    acyclic: false // whether the tree is acyclic and thus a node could be shifted (due to the maximal option) multiple times without causing an infinite loop; setting to true sets maximal to true also; if you are uncertain whether a tree is acyclic, set to false to avoid potential infinite loops\n  };\n\n  /* eslint-enable */\n\n  var getInfo = function getInfo(ele) {\n    return ele.scratch('breadthfirst');\n  };\n  var setInfo = function setInfo(ele, obj) {\n    return ele.scratch('breadthfirst', obj);\n  };\n  function BreadthFirstLayout(options) {\n    this.options = extend({}, defaults$7, deprecatedOptionDefaults, options);\n  }\n  BreadthFirstLayout.prototype.run = function () {\n    var params = this.options;\n    var options = params;\n    var cy = params.cy;\n    var eles = options.eles;\n    var nodes = eles.nodes().filter(function (n) {\n      return !n.isParent();\n    });\n    var graph = eles;\n    var directed = options.directed;\n    var maximal = options.acyclic || options.maximal || options.maximalAdjustments > 0; // maximalAdjustments for compat. w/ old code; also, setting acyclic to true sets maximal to true\n\n    var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    });\n    var roots;\n    if (elementOrCollection(options.roots)) {\n      roots = options.roots;\n    } else if (array(options.roots)) {\n      var rootsArray = [];\n      for (var i = 0; i < options.roots.length; i++) {\n        var id = options.roots[i];\n        var ele = cy.getElementById(id);\n        rootsArray.push(ele);\n      }\n      roots = cy.collection(rootsArray);\n    } else if (string(options.roots)) {\n      roots = cy.$(options.roots);\n    } else {\n      if (directed) {\n        roots = nodes.roots();\n      } else {\n        var components = eles.components();\n        roots = cy.collection();\n        var _loop = function _loop(_i) {\n          var comp = components[_i];\n          var maxDegree = comp.maxDegree(false);\n          var compRoots = comp.filter(function (ele) {\n            return ele.degree(false) === maxDegree;\n          });\n          roots = roots.add(compRoots);\n        };\n        for (var _i = 0; _i < components.length; _i++) {\n          _loop(_i);\n        }\n      }\n    }\n    var depths = [];\n    var foundByBfs = {};\n    var addToDepth = function addToDepth(ele, d) {\n      if (depths[d] == null) {\n        depths[d] = [];\n      }\n      var i = depths[d].length;\n      depths[d].push(ele);\n      setInfo(ele, {\n        index: i,\n        depth: d\n      });\n    };\n    var changeDepth = function changeDepth(ele, newDepth) {\n      var _getInfo = getInfo(ele),\n        depth = _getInfo.depth,\n        index = _getInfo.index;\n      depths[depth][index] = null;\n      addToDepth(ele, newDepth);\n    };\n\n    // find the depths of the nodes\n    graph.bfs({\n      roots: roots,\n      directed: options.directed,\n      visit: function visit(node, edge, pNode, i, depth) {\n        var ele = node[0];\n        var id = ele.id();\n        addToDepth(ele, depth);\n        foundByBfs[id] = true;\n      }\n    });\n\n    // check for nodes not found by bfs\n    var orphanNodes = [];\n    for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n      var _ele = nodes[_i2];\n      if (foundByBfs[_ele.id()]) {\n        continue;\n      } else {\n        orphanNodes.push(_ele);\n      }\n    }\n\n    // assign the nodes a depth and index\n\n    var assignDepthsAt = function assignDepthsAt(i) {\n      var eles = depths[i];\n      for (var j = 0; j < eles.length; j++) {\n        var _ele2 = eles[j];\n        if (_ele2 == null) {\n          eles.splice(j, 1);\n          j--;\n          continue;\n        }\n        setInfo(_ele2, {\n          depth: i,\n          index: j\n        });\n      }\n    };\n    var assignDepths = function assignDepths() {\n      for (var _i3 = 0; _i3 < depths.length; _i3++) {\n        assignDepthsAt(_i3);\n      }\n    };\n    var adjustMaximally = function adjustMaximally(ele, shifted) {\n      var eInfo = getInfo(ele);\n      var incomers = ele.incomers().filter(function (el) {\n        return el.isNode() && eles.has(el);\n      });\n      var maxDepth = -1;\n      var id = ele.id();\n      for (var k = 0; k < incomers.length; k++) {\n        var incmr = incomers[k];\n        var iInfo = getInfo(incmr);\n        maxDepth = Math.max(maxDepth, iInfo.depth);\n      }\n      if (eInfo.depth <= maxDepth) {\n        if (!options.acyclic && shifted[id]) {\n          return null;\n        }\n        var newDepth = maxDepth + 1;\n        changeDepth(ele, newDepth);\n        shifted[id] = newDepth;\n        return true;\n      }\n      return false;\n    };\n\n    // for the directed case, try to make the edges all go down (i.e. depth i => depth i + 1)\n    if (directed && maximal) {\n      var Q = [];\n      var shifted = {};\n      var enqueue = function enqueue(n) {\n        return Q.push(n);\n      };\n      var dequeue = function dequeue() {\n        return Q.shift();\n      };\n      nodes.forEach(function (n) {\n        return Q.push(n);\n      });\n      while (Q.length > 0) {\n        var _ele3 = dequeue();\n        var didShift = adjustMaximally(_ele3, shifted);\n        if (didShift) {\n          _ele3.outgoers().filter(function (el) {\n            return el.isNode() && eles.has(el);\n          }).forEach(enqueue);\n        } else if (didShift === null) {\n          warn('Detected double maximal shift for node `' + _ele3.id() + '`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.');\n          break; // exit on failure\n        }\n      }\n    }\n\n    assignDepths(); // clear holes\n\n    // find min distance we need to leave between nodes\n    var minDistance = 0;\n    if (options.avoidOverlap) {\n      for (var _i4 = 0; _i4 < nodes.length; _i4++) {\n        var n = nodes[_i4];\n        var nbb = n.layoutDimensions(options);\n        var w = nbb.w;\n        var h = nbb.h;\n        minDistance = Math.max(minDistance, w, h);\n      }\n    }\n\n    // get the weighted percent for an element based on its connectivity to other levels\n    var cachedWeightedPercent = {};\n    var getWeightedPercent = function getWeightedPercent(ele) {\n      if (cachedWeightedPercent[ele.id()]) {\n        return cachedWeightedPercent[ele.id()];\n      }\n      var eleDepth = getInfo(ele).depth;\n      var neighbors = ele.neighborhood();\n      var percent = 0;\n      var samples = 0;\n      for (var _i5 = 0; _i5 < neighbors.length; _i5++) {\n        var neighbor = neighbors[_i5];\n        if (neighbor.isEdge() || neighbor.isParent() || !nodes.has(neighbor)) {\n          continue;\n        }\n        var bf = getInfo(neighbor);\n        if (bf == null) {\n          continue;\n        }\n        var index = bf.index;\n        var depth = bf.depth;\n\n        // unassigned neighbours shouldn't affect the ordering\n        if (index == null || depth == null) {\n          continue;\n        }\n        var nDepth = depths[depth].length;\n        if (depth < eleDepth) {\n          // only get influenced by elements above\n          percent += index / nDepth;\n          samples++;\n        }\n      }\n      samples = Math.max(1, samples);\n      percent = percent / samples;\n      if (samples === 0) {\n        // put lone nodes at the start\n        percent = 0;\n      }\n      cachedWeightedPercent[ele.id()] = percent;\n      return percent;\n    };\n\n    // rearrange the indices in each depth level based on connectivity\n\n    var sortFn = function sortFn(a, b) {\n      var apct = getWeightedPercent(a);\n      var bpct = getWeightedPercent(b);\n      var diff = apct - bpct;\n      if (diff === 0) {\n        return ascending(a.id(), b.id()); // make sure sort doesn't have don't-care comparisons\n      } else {\n        return diff;\n      }\n    };\n    if (options.depthSort !== undefined) {\n      sortFn = options.depthSort;\n    }\n\n    // sort each level to make connected nodes closer\n    for (var _i6 = 0; _i6 < depths.length; _i6++) {\n      depths[_i6].sort(sortFn);\n      assignDepthsAt(_i6);\n    }\n\n    // assign orphan nodes to a new top-level depth\n    var orphanDepth = [];\n    for (var _i7 = 0; _i7 < orphanNodes.length; _i7++) {\n      orphanDepth.push(orphanNodes[_i7]);\n    }\n    depths.unshift(orphanDepth);\n    assignDepths();\n    var biggestDepthSize = 0;\n    for (var _i8 = 0; _i8 < depths.length; _i8++) {\n      biggestDepthSize = Math.max(depths[_i8].length, biggestDepthSize);\n    }\n    var center = {\n      x: bb.x1 + bb.w / 2,\n      y: bb.x1 + bb.h / 2\n    };\n    var maxDepthSize = depths.reduce(function (max, eles) {\n      return Math.max(max, eles.length);\n    }, 0);\n    var getPosition = function getPosition(ele) {\n      var _getInfo2 = getInfo(ele),\n        depth = _getInfo2.depth,\n        index = _getInfo2.index;\n      var depthSize = depths[depth].length;\n      var distanceX = Math.max(bb.w / ((options.grid ? maxDepthSize : depthSize) + 1), minDistance);\n      var distanceY = Math.max(bb.h / (depths.length + 1), minDistance);\n      var radiusStepSize = Math.min(bb.w / 2 / depths.length, bb.h / 2 / depths.length);\n      radiusStepSize = Math.max(radiusStepSize, minDistance);\n      if (!options.circle) {\n        var epos = {\n          x: center.x + (index + 1 - (depthSize + 1) / 2) * distanceX,\n          y: (depth + 1) * distanceY\n        };\n        return epos;\n      } else {\n        var radius = radiusStepSize * depth + radiusStepSize - (depths.length > 0 && depths[0].length <= 3 ? radiusStepSize / 2 : 0);\n        var theta = 2 * Math.PI / depths[depth].length * index;\n        if (depth === 0 && depths[0].length === 1) {\n          radius = 1;\n        }\n        return {\n          x: center.x + radius * Math.cos(theta),\n          y: center.y + radius * Math.sin(theta)\n        };\n      }\n    };\n    eles.nodes().layoutPositions(this, options, getPosition);\n    return this; // chaining\n  };\n\n  var defaults$6 = {\n    fit: true,\n    // whether to fit the viewport to the graph\n    padding: 30,\n    // the padding on fit\n    boundingBox: undefined,\n    // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true,\n    // prevents node overlap, may overflow boundingBox and radius if not enough space\n    nodeDimensionsIncludeLabels: false,\n    // Excludes the label when calculating node bounding boxes for the layout algorithm\n    spacingFactor: undefined,\n    // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    radius: undefined,\n    // the radius of the circle\n    startAngle: 3 / 2 * Math.PI,\n    // where nodes start in radians\n    sweep: undefined,\n    // how many radians should be between the first and last node (defaults to full circle)\n    clockwise: true,\n    // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n    sort: undefined,\n    // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n    animate: false,\n    // whether to transition the node positions\n    animationDuration: 500,\n    // duration of animation in ms if enabled\n    animationEasing: undefined,\n    // easing of animation if enabled\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    ready: undefined,\n    // callback on layoutready\n    stop: undefined,\n    // callback on layoutstop\n    transform: function transform(node, position) {\n      return position;\n    } // transform a given node position. Useful for changing flow direction in discrete layouts \n  };\n\n  function CircleLayout(options) {\n    this.options = extend({}, defaults$6, options);\n  }\n  CircleLayout.prototype.run = function () {\n    var params = this.options;\n    var options = params;\n    var cy = params.cy;\n    var eles = options.eles;\n    var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n    var nodes = eles.nodes().not(':parent');\n    if (options.sort) {\n      nodes = nodes.sort(options.sort);\n    }\n    var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    });\n    var center = {\n      x: bb.x1 + bb.w / 2,\n      y: bb.y1 + bb.h / 2\n    };\n    var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / nodes.length : options.sweep;\n    var dTheta = sweep / Math.max(1, nodes.length - 1);\n    var r;\n    var minDistance = 0;\n    for (var i = 0; i < nodes.length; i++) {\n      var n = nodes[i];\n      var nbb = n.layoutDimensions(options);\n      var w = nbb.w;\n      var h = nbb.h;\n      minDistance = Math.max(minDistance, w, h);\n    }\n    if (number$1(options.radius)) {\n      r = options.radius;\n    } else if (nodes.length <= 1) {\n      r = 0;\n    } else {\n      r = Math.min(bb.h, bb.w) / 2 - minDistance;\n    }\n\n    // calculate the radius\n    if (nodes.length > 1 && options.avoidOverlap) {\n      // but only if more than one node (can't overlap)\n      minDistance *= 1.75; // just to have some nice spacing\n\n      var dcos = Math.cos(dTheta) - Math.cos(0);\n      var dsin = Math.sin(dTheta) - Math.sin(0);\n      var rMin = Math.sqrt(minDistance * minDistance / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n      r = Math.max(rMin, r);\n    }\n    var getPos = function getPos(ele, i) {\n      var theta = options.startAngle + i * dTheta * (clockwise ? 1 : -1);\n      var rx = r * Math.cos(theta);\n      var ry = r * Math.sin(theta);\n      var pos = {\n        x: center.x + rx,\n        y: center.y + ry\n      };\n      return pos;\n    };\n    eles.nodes().layoutPositions(this, options, getPos);\n    return this; // chaining\n  };\n\n  var defaults$5 = {\n    fit: true,\n    // whether to fit the viewport to the graph\n    padding: 30,\n    // the padding on fit\n    startAngle: 3 / 2 * Math.PI,\n    // where nodes start in radians\n    sweep: undefined,\n    // how many radians should be between the first and last node (defaults to full circle)\n    clockwise: true,\n    // whether the layout should go clockwise (true) or counterclockwise/anticlockwise (false)\n    equidistant: false,\n    // whether levels have an equal radial distance betwen them, may cause bounding box overflow\n    minNodeSpacing: 10,\n    // min spacing between outside of nodes (used for radius adjustment)\n    boundingBox: undefined,\n    // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true,\n    // prevents node overlap, may overflow boundingBox if not enough space\n    nodeDimensionsIncludeLabels: false,\n    // Excludes the label when calculating node bounding boxes for the layout algorithm\n    height: undefined,\n    // height of layout area (overrides container height)\n    width: undefined,\n    // width of layout area (overrides container width)\n    spacingFactor: undefined,\n    // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    concentric: function concentric(node) {\n      // returns numeric value for each node, placing higher nodes in levels towards the centre\n      return node.degree();\n    },\n    levelWidth: function levelWidth(nodes) {\n      // the variation of concentric values in each level\n      return nodes.maxDegree() / 4;\n    },\n    animate: false,\n    // whether to transition the node positions\n    animationDuration: 500,\n    // duration of animation in ms if enabled\n    animationEasing: undefined,\n    // easing of animation if enabled\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    ready: undefined,\n    // callback on layoutready\n    stop: undefined,\n    // callback on layoutstop\n    transform: function transform(node, position) {\n      return position;\n    } // transform a given node position. Useful for changing flow direction in discrete layouts\n  };\n\n  function ConcentricLayout(options) {\n    this.options = extend({}, defaults$5, options);\n  }\n  ConcentricLayout.prototype.run = function () {\n    var params = this.options;\n    var options = params;\n    var clockwise = options.counterclockwise !== undefined ? !options.counterclockwise : options.clockwise;\n    var cy = params.cy;\n    var eles = options.eles;\n    var nodes = eles.nodes().not(':parent');\n    var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    });\n    var center = {\n      x: bb.x1 + bb.w / 2,\n      y: bb.y1 + bb.h / 2\n    };\n    var nodeValues = []; // { node, value }\n    var maxNodeSize = 0;\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var value = void 0;\n\n      // calculate the node value\n      value = options.concentric(node);\n      nodeValues.push({\n        value: value,\n        node: node\n      });\n\n      // for style mapping\n      node._private.scratch.concentric = value;\n    }\n\n    // in case we used the `concentric` in style\n    nodes.updateStyle();\n\n    // calculate max size now based on potentially updated mappers\n    for (var _i = 0; _i < nodes.length; _i++) {\n      var _node = nodes[_i];\n      var nbb = _node.layoutDimensions(options);\n      maxNodeSize = Math.max(maxNodeSize, nbb.w, nbb.h);\n    }\n\n    // sort node values in descreasing order\n    nodeValues.sort(function (a, b) {\n      return b.value - a.value;\n    });\n    var levelWidth = options.levelWidth(nodes);\n\n    // put the values into levels\n    var levels = [[]];\n    var currentLevel = levels[0];\n    for (var _i2 = 0; _i2 < nodeValues.length; _i2++) {\n      var val = nodeValues[_i2];\n      if (currentLevel.length > 0) {\n        var diff = Math.abs(currentLevel[0].value - val.value);\n        if (diff >= levelWidth) {\n          currentLevel = [];\n          levels.push(currentLevel);\n        }\n      }\n      currentLevel.push(val);\n    }\n\n    // create positions from levels\n\n    var minDist = maxNodeSize + options.minNodeSpacing; // min dist between nodes\n\n    if (!options.avoidOverlap) {\n      // then strictly constrain to bb\n      var firstLvlHasMulti = levels.length > 0 && levels[0].length > 1;\n      var maxR = Math.min(bb.w, bb.h) / 2 - minDist;\n      var rStep = maxR / (levels.length + firstLvlHasMulti ? 1 : 0);\n      minDist = Math.min(minDist, rStep);\n    }\n\n    // find the metrics for each level\n    var r = 0;\n    for (var _i3 = 0; _i3 < levels.length; _i3++) {\n      var level = levels[_i3];\n      var sweep = options.sweep === undefined ? 2 * Math.PI - 2 * Math.PI / level.length : options.sweep;\n      var dTheta = level.dTheta = sweep / Math.max(1, level.length - 1);\n\n      // calculate the radius\n      if (level.length > 1 && options.avoidOverlap) {\n        // but only if more than one node (can't overlap)\n        var dcos = Math.cos(dTheta) - Math.cos(0);\n        var dsin = Math.sin(dTheta) - Math.sin(0);\n        var rMin = Math.sqrt(minDist * minDist / (dcos * dcos + dsin * dsin)); // s.t. no nodes overlapping\n\n        r = Math.max(rMin, r);\n      }\n      level.r = r;\n      r += minDist;\n    }\n    if (options.equidistant) {\n      var rDeltaMax = 0;\n      var _r = 0;\n      for (var _i4 = 0; _i4 < levels.length; _i4++) {\n        var _level = levels[_i4];\n        var rDelta = _level.r - _r;\n        rDeltaMax = Math.max(rDeltaMax, rDelta);\n      }\n      _r = 0;\n      for (var _i5 = 0; _i5 < levels.length; _i5++) {\n        var _level2 = levels[_i5];\n        if (_i5 === 0) {\n          _r = _level2.r;\n        }\n        _level2.r = _r;\n        _r += rDeltaMax;\n      }\n    }\n\n    // calculate the node positions\n    var pos = {}; // id => position\n    for (var _i6 = 0; _i6 < levels.length; _i6++) {\n      var _level3 = levels[_i6];\n      var _dTheta = _level3.dTheta;\n      var _r2 = _level3.r;\n      for (var j = 0; j < _level3.length; j++) {\n        var _val = _level3[j];\n        var theta = options.startAngle + (clockwise ? 1 : -1) * _dTheta * j;\n        var p = {\n          x: center.x + _r2 * Math.cos(theta),\n          y: center.y + _r2 * Math.sin(theta)\n        };\n        pos[_val.node.id()] = p;\n      }\n    }\n\n    // position the nodes\n    eles.nodes().layoutPositions(this, options, function (ele) {\n      var id = ele.id();\n      return pos[id];\n    });\n    return this; // chaining\n  };\n\n  /*\n  The CoSE layout was written by Gerardo Huck.\n  https://www.linkedin.com/in/gerardohuck/\n\n  Based on the following article:\n  http://dl.acm.org/citation.cfm?id=1498047\n\n  Modifications tracked on Github.\n  */\n  var DEBUG;\n\n  /**\n   * @brief :  default layout options\n   */\n  var defaults$4 = {\n    // Called on `layoutready`\n    ready: function ready() {},\n    // Called on `layoutstop`\n    stop: function stop() {},\n    // Whether to animate while running the layout\n    // true : Animate continuously as the layout is running\n    // false : Just show the end result\n    // 'end' : Animate with the end result, from the initial positions to the end positions\n    animate: true,\n    // Easing of the animation for animate:'end'\n    animationEasing: undefined,\n    // The duration of the animation for animate:'end'\n    animationDuration: undefined,\n    // A function that determines whether the node should be animated\n    // All nodes animated by default on animate enabled\n    // Non-animated nodes are positioned immediately when the layout starts\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // The layout animates only after this many milliseconds for animate:true\n    // (prevents flashing on fast runs)\n    animationThreshold: 250,\n    // Number of iterations between consecutive screen positions update\n    refresh: 20,\n    // Whether to fit the network view after when done\n    fit: true,\n    // Padding on fit\n    padding: 30,\n    // Constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    boundingBox: undefined,\n    // Excludes the label when calculating node bounding boxes for the layout algorithm\n    nodeDimensionsIncludeLabels: false,\n    // Randomize the initial positions of the nodes (true) or use existing positions (false)\n    randomize: false,\n    // Extra spacing between components in non-compound graphs\n    componentSpacing: 40,\n    // Node repulsion (non overlapping) multiplier\n    nodeRepulsion: function nodeRepulsion(node) {\n      return 2048;\n    },\n    // Node repulsion (overlapping) multiplier\n    nodeOverlap: 4,\n    // Ideal edge (non nested) length\n    idealEdgeLength: function idealEdgeLength(edge) {\n      return 32;\n    },\n    // Divisor to compute edge forces\n    edgeElasticity: function edgeElasticity(edge) {\n      return 32;\n    },\n    // Nesting factor (multiplier) to compute ideal edge length for nested edges\n    nestingFactor: 1.2,\n    // Gravity force (constant)\n    gravity: 1,\n    // Maximum number of iterations to perform\n    numIter: 1000,\n    // Initial temperature (maximum node displacement)\n    initialTemp: 1000,\n    // Cooling factor (how the temperature is reduced between consecutive iterations\n    coolingFactor: 0.99,\n    // Lower temperature threshold (below this point the layout will end)\n    minTemp: 1.0\n  };\n\n  /**\n   * @brief       : constructor\n   * @arg options : object containing layout options\n   */\n  function CoseLayout(options) {\n    this.options = extend({}, defaults$4, options);\n    this.options.layout = this;\n\n    // Exclude any edge that has a source or target node that is not in the set of passed-in nodes\n    var nodes = this.options.eles.nodes();\n    var edges = this.options.eles.edges();\n    var notEdges = edges.filter(function (e) {\n      var sourceId = e.source().data('id');\n      var targetId = e.target().data('id');\n      var hasSource = nodes.some(function (n) {\n        return n.data('id') === sourceId;\n      });\n      var hasTarget = nodes.some(function (n) {\n        return n.data('id') === targetId;\n      });\n      return !hasSource || !hasTarget;\n    });\n    this.options.eles = this.options.eles.not(notEdges);\n  }\n\n  /**\n   * @brief : runs the layout\n   */\n  CoseLayout.prototype.run = function () {\n    var options = this.options;\n    var cy = options.cy;\n    var layout = this;\n    layout.stopped = false;\n    if (options.animate === true || options.animate === false) {\n      layout.emit({\n        type: 'layoutstart',\n        layout: layout\n      });\n    }\n\n    // Set DEBUG - Global variable\n    if (true === options.debug) {\n      DEBUG = true;\n    } else {\n      DEBUG = false;\n    }\n\n    // Initialize layout info\n    var layoutInfo = createLayoutInfo(cy, layout, options);\n\n    // Show LayoutInfo contents if debugging\n    if (DEBUG) {\n      printLayoutInfo(layoutInfo);\n    }\n\n    // If required, randomize node positions\n    if (options.randomize) {\n      randomizePositions(layoutInfo);\n    }\n    var startTime = performanceNow();\n    var refresh = function refresh() {\n      refreshPositions(layoutInfo, cy, options);\n\n      // Fit the graph if necessary\n      if (true === options.fit) {\n        cy.fit(options.padding);\n      }\n    };\n    var mainLoop = function mainLoop(i) {\n      if (layout.stopped || i >= options.numIter) {\n        // logDebug(\"Layout manually stopped. Stopping computation in step \" + i);\n        return false;\n      }\n\n      // Do one step in the phisical simulation\n      step(layoutInfo, options);\n\n      // Update temperature\n      layoutInfo.temperature = layoutInfo.temperature * options.coolingFactor;\n      // logDebug(\"New temperature: \" + layoutInfo.temperature);\n\n      if (layoutInfo.temperature < options.minTemp) {\n        // logDebug(\"Temperature drop below minimum threshold. Stopping computation in step \" + i);\n        return false;\n      }\n      return true;\n    };\n    var done = function done() {\n      if (options.animate === true || options.animate === false) {\n        refresh();\n\n        // Layout has finished\n        layout.one('layoutstop', options.stop);\n        layout.emit({\n          type: 'layoutstop',\n          layout: layout\n        });\n      } else {\n        var nodes = options.eles.nodes();\n        var getScaledPos = getScaleInBoundsFn(layoutInfo, options, nodes);\n        nodes.layoutPositions(layout, options, getScaledPos);\n      }\n    };\n    var i = 0;\n    var loopRet = true;\n    if (options.animate === true) {\n      var frame = function frame() {\n        var f = 0;\n        while (loopRet && f < options.refresh) {\n          loopRet = mainLoop(i);\n          i++;\n          f++;\n        }\n        if (!loopRet) {\n          // it's done\n          separateComponents(layoutInfo, options);\n          done();\n        } else {\n          var now = performanceNow();\n          if (now - startTime >= options.animationThreshold) {\n            refresh();\n          }\n          requestAnimationFrame(frame);\n        }\n      };\n      frame();\n    } else {\n      while (loopRet) {\n        loopRet = mainLoop(i);\n        i++;\n      }\n      separateComponents(layoutInfo, options);\n      done();\n    }\n    return this; // chaining\n  };\n\n  /**\n   * @brief : called on continuous layouts to stop them before they finish\n   */\n  CoseLayout.prototype.stop = function () {\n    this.stopped = true;\n    if (this.thread) {\n      this.thread.stop();\n    }\n    this.emit('layoutstop');\n    return this; // chaining\n  };\n\n  CoseLayout.prototype.destroy = function () {\n    if (this.thread) {\n      this.thread.stop();\n    }\n    return this; // chaining\n  };\n\n  /**\n   * @brief     : Creates an object which is contains all the data\n   *              used in the layout process\n   * @arg cy    : cytoscape.js object\n   * @return    : layoutInfo object initialized\n   */\n  var createLayoutInfo = function createLayoutInfo(cy, layout, options) {\n    // Shortcut\n    var edges = options.eles.edges();\n    var nodes = options.eles.nodes();\n    var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    });\n    var layoutInfo = {\n      isCompound: cy.hasCompoundNodes(),\n      layoutNodes: [],\n      idToIndex: {},\n      nodeSize: nodes.size(),\n      graphSet: [],\n      indexToGraph: [],\n      layoutEdges: [],\n      edgeSize: edges.size(),\n      temperature: options.initialTemp,\n      clientWidth: bb.w,\n      clientHeight: bb.h,\n      boundingBox: bb\n    };\n    var components = options.eles.components();\n    var id2cmptId = {};\n    for (var i = 0; i < components.length; i++) {\n      var component = components[i];\n      for (var j = 0; j < component.length; j++) {\n        var node = component[j];\n        id2cmptId[node.id()] = i;\n      }\n    }\n\n    // Iterate over all nodes, creating layout nodes\n    for (var i = 0; i < layoutInfo.nodeSize; i++) {\n      var n = nodes[i];\n      var nbb = n.layoutDimensions(options);\n      var tempNode = {};\n      tempNode.isLocked = n.locked();\n      tempNode.id = n.data('id');\n      tempNode.parentId = n.data('parent');\n      tempNode.cmptId = id2cmptId[n.id()];\n      tempNode.children = [];\n      tempNode.positionX = n.position('x');\n      tempNode.positionY = n.position('y');\n      tempNode.offsetX = 0;\n      tempNode.offsetY = 0;\n      tempNode.height = nbb.w;\n      tempNode.width = nbb.h;\n      tempNode.maxX = tempNode.positionX + tempNode.width / 2;\n      tempNode.minX = tempNode.positionX - tempNode.width / 2;\n      tempNode.maxY = tempNode.positionY + tempNode.height / 2;\n      tempNode.minY = tempNode.positionY - tempNode.height / 2;\n      tempNode.padLeft = parseFloat(n.style('padding'));\n      tempNode.padRight = parseFloat(n.style('padding'));\n      tempNode.padTop = parseFloat(n.style('padding'));\n      tempNode.padBottom = parseFloat(n.style('padding'));\n\n      // forces\n      tempNode.nodeRepulsion = fn$6(options.nodeRepulsion) ? options.nodeRepulsion(n) : options.nodeRepulsion;\n\n      // Add new node\n      layoutInfo.layoutNodes.push(tempNode);\n      // Add entry to id-index map\n      layoutInfo.idToIndex[tempNode.id] = i;\n    }\n\n    // Inline implementation of a queue, used for traversing the graph in BFS order\n    var queue = [];\n    var start = 0; // Points to the start the queue\n    var end = -1; // Points to the end of the queue\n\n    var tempGraph = [];\n\n    // Second pass to add child information and\n    // initialize queue for hierarchical traversal\n    for (var i = 0; i < layoutInfo.nodeSize; i++) {\n      var n = layoutInfo.layoutNodes[i];\n      var p_id = n.parentId;\n      // Check if node n has a parent node\n      if (null != p_id) {\n        // Add node Id to parent's list of children\n        layoutInfo.layoutNodes[layoutInfo.idToIndex[p_id]].children.push(n.id);\n      } else {\n        // If a node doesn't have a parent, then it's in the root graph\n        queue[++end] = n.id;\n        tempGraph.push(n.id);\n      }\n    }\n\n    // Add root graph to graphSet\n    layoutInfo.graphSet.push(tempGraph);\n\n    // Traverse the graph, level by level,\n    while (start <= end) {\n      // Get the node to visit and remove it from queue\n      var node_id = queue[start++];\n      var node_ix = layoutInfo.idToIndex[node_id];\n      var node = layoutInfo.layoutNodes[node_ix];\n      var children = node.children;\n      if (children.length > 0) {\n        // Add children nodes as a new graph to graph set\n        layoutInfo.graphSet.push(children);\n        // Add children to que queue to be visited\n        for (var i = 0; i < children.length; i++) {\n          queue[++end] = children[i];\n        }\n      }\n    }\n\n    // Create indexToGraph map\n    for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n      var graph = layoutInfo.graphSet[i];\n      for (var j = 0; j < graph.length; j++) {\n        var index = layoutInfo.idToIndex[graph[j]];\n        layoutInfo.indexToGraph[index] = i;\n      }\n    }\n\n    // Iterate over all edges, creating Layout Edges\n    for (var i = 0; i < layoutInfo.edgeSize; i++) {\n      var e = edges[i];\n      var tempEdge = {};\n      tempEdge.id = e.data('id');\n      tempEdge.sourceId = e.data('source');\n      tempEdge.targetId = e.data('target');\n\n      // Compute ideal length\n      var idealLength = fn$6(options.idealEdgeLength) ? options.idealEdgeLength(e) : options.idealEdgeLength;\n      var elasticity = fn$6(options.edgeElasticity) ? options.edgeElasticity(e) : options.edgeElasticity;\n\n      // Check if it's an inter graph edge\n      var sourceIx = layoutInfo.idToIndex[tempEdge.sourceId];\n      var targetIx = layoutInfo.idToIndex[tempEdge.targetId];\n      var sourceGraph = layoutInfo.indexToGraph[sourceIx];\n      var targetGraph = layoutInfo.indexToGraph[targetIx];\n      if (sourceGraph != targetGraph) {\n        // Find lowest common graph ancestor\n        var lca = findLCA(tempEdge.sourceId, tempEdge.targetId, layoutInfo);\n\n        // Compute sum of node depths, relative to lca graph\n        var lcaGraph = layoutInfo.graphSet[lca];\n        var depth = 0;\n\n        // Source depth\n        var tempNode = layoutInfo.layoutNodes[sourceIx];\n        while (-1 === lcaGraph.indexOf(tempNode.id)) {\n          tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n          depth++;\n        }\n\n        // Target depth\n        tempNode = layoutInfo.layoutNodes[targetIx];\n        while (-1 === lcaGraph.indexOf(tempNode.id)) {\n          tempNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[tempNode.parentId]];\n          depth++;\n        }\n\n        // logDebug('LCA of nodes ' + tempEdge.sourceId + ' and ' + tempEdge.targetId +\n        //  \". Index: \" + lca + \" Contents: \" + lcaGraph.toString() +\n        //  \". Depth: \" + depth);\n\n        // Update idealLength\n        idealLength *= depth * options.nestingFactor;\n      }\n      tempEdge.idealLength = idealLength;\n      tempEdge.elasticity = elasticity;\n      layoutInfo.layoutEdges.push(tempEdge);\n    }\n\n    // Finally, return layoutInfo object\n    return layoutInfo;\n  };\n\n  /**\n   * @brief : This function finds the index of the lowest common\n   *          graph ancestor between 2 nodes in the subtree\n   *          (from the graph hierarchy induced tree) whose\n   *          root is graphIx\n   *\n   * @arg node1: node1's ID\n   * @arg node2: node2's ID\n   * @arg layoutInfo: layoutInfo object\n   *\n   */\n  var findLCA = function findLCA(node1, node2, layoutInfo) {\n    // Find their common ancester, starting from the root graph\n    var res = findLCA_aux(node1, node2, 0, layoutInfo);\n    if (2 > res.count) {\n      // If aux function couldn't find the common ancester,\n      // then it is the root graph\n      return 0;\n    } else {\n      return res.graph;\n    }\n  };\n\n  /**\n   * @brief          : Auxiliary function used for LCA computation\n   *\n   * @arg node1      : node1's ID\n   * @arg node2      : node2's ID\n   * @arg graphIx    : subgraph index\n   * @arg layoutInfo : layoutInfo object\n   *\n   * @return         : object of the form {count: X, graph: Y}, where:\n   *                   X is the number of ancestors (max: 2) found in\n   *                   graphIx (and it's subgraphs),\n   *                   Y is the graph index of the lowest graph containing\n   *                   all X nodes\n   */\n  var findLCA_aux = function findLCA_aux(node1, node2, graphIx, layoutInfo) {\n    var graph = layoutInfo.graphSet[graphIx];\n    // If both nodes belongs to graphIx\n    if (-1 < graph.indexOf(node1) && -1 < graph.indexOf(node2)) {\n      return {\n        count: 2,\n        graph: graphIx\n      };\n    }\n\n    // Make recursive calls for all subgraphs\n    var c = 0;\n    for (var i = 0; i < graph.length; i++) {\n      var nodeId = graph[i];\n      var nodeIx = layoutInfo.idToIndex[nodeId];\n      var children = layoutInfo.layoutNodes[nodeIx].children;\n\n      // If the node has no child, skip it\n      if (0 === children.length) {\n        continue;\n      }\n      var childGraphIx = layoutInfo.indexToGraph[layoutInfo.idToIndex[children[0]]];\n      var result = findLCA_aux(node1, node2, childGraphIx, layoutInfo);\n      if (0 === result.count) {\n        // Neither node1 nor node2 are present in this subgraph\n        continue;\n      } else if (1 === result.count) {\n        // One of (node1, node2) is present in this subgraph\n        c++;\n        if (2 === c) {\n          // We've already found both nodes, no need to keep searching\n          break;\n        }\n      } else {\n        // Both nodes are present in this subgraph\n        return result;\n      }\n    }\n    return {\n      count: c,\n      graph: graphIx\n    };\n  };\n\n  /**\n   * @brief: printsLayoutInfo into js console\n   *         Only used for debbuging\n   */\nvar printLayoutInfo; \n\n  /**\n   * @brief : Randomizes the position of all nodes\n   */\n  var randomizePositions = function randomizePositions(layoutInfo, cy) {\n    var width = layoutInfo.clientWidth;\n    var height = layoutInfo.clientHeight;\n    for (var i = 0; i < layoutInfo.nodeSize; i++) {\n      var n = layoutInfo.layoutNodes[i];\n\n      // No need to randomize compound nodes or locked nodes\n      if (0 === n.children.length && !n.isLocked) {\n        n.positionX = Math.random() * width;\n        n.positionY = Math.random() * height;\n      }\n    }\n  };\n  var getScaleInBoundsFn = function getScaleInBoundsFn(layoutInfo, options, nodes) {\n    var bb = layoutInfo.boundingBox;\n    var coseBB = {\n      x1: Infinity,\n      x2: -Infinity,\n      y1: Infinity,\n      y2: -Infinity\n    };\n    if (options.boundingBox) {\n      nodes.forEach(function (node) {\n        var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[node.data('id')]];\n        coseBB.x1 = Math.min(coseBB.x1, lnode.positionX);\n        coseBB.x2 = Math.max(coseBB.x2, lnode.positionX);\n        coseBB.y1 = Math.min(coseBB.y1, lnode.positionY);\n        coseBB.y2 = Math.max(coseBB.y2, lnode.positionY);\n      });\n      coseBB.w = coseBB.x2 - coseBB.x1;\n      coseBB.h = coseBB.y2 - coseBB.y1;\n    }\n    return function (ele, i) {\n      var lnode = layoutInfo.layoutNodes[layoutInfo.idToIndex[ele.data('id')]];\n      if (options.boundingBox) {\n        // then add extra bounding box constraint\n        var pctX = (lnode.positionX - coseBB.x1) / coseBB.w;\n        var pctY = (lnode.positionY - coseBB.y1) / coseBB.h;\n        return {\n          x: bb.x1 + pctX * bb.w,\n          y: bb.y1 + pctY * bb.h\n        };\n      } else {\n        return {\n          x: lnode.positionX,\n          y: lnode.positionY\n        };\n      }\n    };\n  };\n\n  /**\n   * @brief          : Updates the positions of nodes in the network\n   * @arg layoutInfo : LayoutInfo object\n   * @arg cy         : Cytoscape object\n   * @arg options    : Layout options\n   */\n  var refreshPositions = function refreshPositions(layoutInfo, cy, options) {\n    // var s = 'Refreshing positions';\n    // logDebug(s);\n\n    var layout = options.layout;\n    var nodes = options.eles.nodes();\n    var getScaledPos = getScaleInBoundsFn(layoutInfo, options, nodes);\n    nodes.positions(getScaledPos);\n\n    // Trigger layoutReady only on first call\n    if (true !== layoutInfo.ready) {\n      // s = 'Triggering layoutready';\n      // logDebug(s);\n      layoutInfo.ready = true;\n      layout.one('layoutready', options.ready);\n      layout.emit({\n        type: 'layoutready',\n        layout: this\n      });\n    }\n  };\n\n  /**\n   * @brief : Logs a debug message in JS console, if DEBUG is ON\n   */\n  // var logDebug = function(text) {\n  //   if (DEBUG) {\n  //     console.debug(text);\n  //   }\n  // };\n\n  /**\n   * @brief          : Performs one iteration of the physical simulation\n   * @arg layoutInfo : LayoutInfo object already initialized\n   * @arg cy         : Cytoscape object\n   * @arg options    : Layout options\n   */\n  var step = function step(layoutInfo, options, _step) {\n    // var s = \"\\n\\n###############################\";\n    // s += \"\\nSTEP: \" + step;\n    // s += \"\\n###############################\\n\";\n    // logDebug(s);\n\n    // Calculate node repulsions\n    calculateNodeForces(layoutInfo, options);\n    // Calculate edge forces\n    calculateEdgeForces(layoutInfo);\n    // Calculate gravity forces\n    calculateGravityForces(layoutInfo, options);\n    // Propagate forces from parent to child\n    propagateForces(layoutInfo);\n    // Update positions based on calculated forces\n    updatePositions(layoutInfo);\n  };\n\n  /**\n   * @brief : Computes the node repulsion forces\n   */\n  var calculateNodeForces = function calculateNodeForces(layoutInfo, options) {\n    // Go through each of the graphs in graphSet\n    // Nodes only repel each other if they belong to the same graph\n    // var s = 'calculateNodeForces';\n    // logDebug(s);\n    for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n      var graph = layoutInfo.graphSet[i];\n      var numNodes = graph.length;\n\n      // s = \"Set: \" + graph.toString();\n      // logDebug(s);\n\n      // Now get all the pairs of nodes\n      // Only get each pair once, (A, B) = (B, A)\n      for (var j = 0; j < numNodes; j++) {\n        var node1 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n        for (var k = j + 1; k < numNodes; k++) {\n          var node2 = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[k]]];\n          nodeRepulsion(node1, node2, layoutInfo, options);\n        }\n      }\n    }\n  };\n  var randomDistance = function randomDistance(max) {\n    return -max + 2 * max * Math.random();\n  };\n\n  /**\n   * @brief : Compute the node repulsion forces between a pair of nodes\n   */\n  var nodeRepulsion = function nodeRepulsion(node1, node2, layoutInfo, options) {\n    // var s = \"Node repulsion. Node1: \" + node1.id + \" Node2: \" + node2.id;\n\n    var cmptId1 = node1.cmptId;\n    var cmptId2 = node2.cmptId;\n    if (cmptId1 !== cmptId2 && !layoutInfo.isCompound) {\n      return;\n    }\n\n    // Get direction of line connecting both node centers\n    var directionX = node2.positionX - node1.positionX;\n    var directionY = node2.positionY - node1.positionY;\n    var maxRandDist = 1;\n    // s += \"\\ndirectionX: \" + directionX + \", directionY: \" + directionY;\n\n    // If both centers are the same, apply a random force\n    if (0 === directionX && 0 === directionY) {\n      directionX = randomDistance(maxRandDist);\n      directionY = randomDistance(maxRandDist);\n    }\n    var overlap = nodesOverlap(node1, node2, directionX, directionY);\n    if (overlap > 0) {\n      // s += \"\\nNodes DO overlap.\";\n      // s += \"\\nOverlap: \" + overlap;\n      // If nodes overlap, repulsion force is proportional\n      // to the overlap\n      var force = options.nodeOverlap * overlap;\n\n      // Compute the module and components of the force vector\n      var distance = Math.sqrt(directionX * directionX + directionY * directionY);\n      // s += \"\\nDistance: \" + distance;\n      var forceX = force * directionX / distance;\n      var forceY = force * directionY / distance;\n    } else {\n      // s += \"\\nNodes do NOT overlap.\";\n      // If there's no overlap, force is inversely proportional\n      // to squared distance\n\n      // Get clipping points for both nodes\n      var point1 = findClippingPoint(node1, directionX, directionY);\n      var point2 = findClippingPoint(node2, -1 * directionX, -1 * directionY);\n\n      // Use clipping points to compute distance\n      var distanceX = point2.x - point1.x;\n      var distanceY = point2.y - point1.y;\n      var distanceSqr = distanceX * distanceX + distanceY * distanceY;\n      var distance = Math.sqrt(distanceSqr);\n      // s += \"\\nDistance: \" + distance;\n\n      // Compute the module and components of the force vector\n      var force = (node1.nodeRepulsion + node2.nodeRepulsion) / distanceSqr;\n      var forceX = force * distanceX / distance;\n      var forceY = force * distanceY / distance;\n    }\n\n    // Apply force\n    if (!node1.isLocked) {\n      node1.offsetX -= forceX;\n      node1.offsetY -= forceY;\n    }\n    if (!node2.isLocked) {\n      node2.offsetX += forceX;\n      node2.offsetY += forceY;\n    }\n\n    // s += \"\\nForceX: \" + forceX + \" ForceY: \" + forceY;\n    // logDebug(s);\n\n    return;\n  };\n\n  /**\n   * @brief  : Determines whether two nodes overlap or not\n   * @return : Amount of overlapping (0 => no overlap)\n   */\n  var nodesOverlap = function nodesOverlap(node1, node2, dX, dY) {\n    if (dX > 0) {\n      var overlapX = node1.maxX - node2.minX;\n    } else {\n      var overlapX = node2.maxX - node1.minX;\n    }\n    if (dY > 0) {\n      var overlapY = node1.maxY - node2.minY;\n    } else {\n      var overlapY = node2.maxY - node1.minY;\n    }\n    if (overlapX >= 0 && overlapY >= 0) {\n      return Math.sqrt(overlapX * overlapX + overlapY * overlapY);\n    } else {\n      return 0;\n    }\n  };\n\n  /**\n   * @brief : Finds the point in which an edge (direction dX, dY) intersects\n   *          the rectangular bounding box of it's source/target node\n   */\n  var findClippingPoint = function findClippingPoint(node, dX, dY) {\n    // Shorcuts\n    var X = node.positionX;\n    var Y = node.positionY;\n    var H = node.height || 1;\n    var W = node.width || 1;\n    var dirSlope = dY / dX;\n    var nodeSlope = H / W;\n\n    // var s = 'Computing clipping point of node ' + node.id +\n    //   \" . Height:  \" + H + \", Width: \" + W +\n    //   \"\\nDirection \" + dX + \", \" + dY;\n    //\n    // Compute intersection\n    var res = {};\n\n    // Case: Vertical direction (up)\n    if (0 === dX && 0 < dY) {\n      res.x = X;\n      // s += \"\\nUp direction\";\n      res.y = Y + H / 2;\n      return res;\n    }\n\n    // Case: Vertical direction (down)\n    if (0 === dX && 0 > dY) {\n      res.x = X;\n      res.y = Y + H / 2;\n      // s += \"\\nDown direction\";\n\n      return res;\n    }\n\n    // Case: Intersects the right border\n    if (0 < dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n      res.x = X + W / 2;\n      res.y = Y + W * dY / 2 / dX;\n      // s += \"\\nRightborder\";\n\n      return res;\n    }\n\n    // Case: Intersects the left border\n    if (0 > dX && -1 * nodeSlope <= dirSlope && dirSlope <= nodeSlope) {\n      res.x = X - W / 2;\n      res.y = Y - W * dY / 2 / dX;\n      // s += \"\\nLeftborder\";\n\n      return res;\n    }\n\n    // Case: Intersects the top border\n    if (0 < dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n      res.x = X + H * dX / 2 / dY;\n      res.y = Y + H / 2;\n      // s += \"\\nTop border\";\n\n      return res;\n    }\n\n    // Case: Intersects the bottom border\n    if (0 > dY && (dirSlope <= -1 * nodeSlope || dirSlope >= nodeSlope)) {\n      res.x = X - H * dX / 2 / dY;\n      res.y = Y - H / 2;\n      // s += \"\\nBottom border\";\n\n      return res;\n    }\n\n    // s += \"\\nClipping point found at \" + res.x + \", \" + res.y;\n    // logDebug(s);\n    return res;\n  };\n\n  /**\n   * @brief : Calculates all edge forces\n   */\n  var calculateEdgeForces = function calculateEdgeForces(layoutInfo, options) {\n    // Iterate over all edges\n    for (var i = 0; i < layoutInfo.edgeSize; i++) {\n      // Get edge, source & target nodes\n      var edge = layoutInfo.layoutEdges[i];\n      var sourceIx = layoutInfo.idToIndex[edge.sourceId];\n      var source = layoutInfo.layoutNodes[sourceIx];\n      var targetIx = layoutInfo.idToIndex[edge.targetId];\n      var target = layoutInfo.layoutNodes[targetIx];\n\n      // Get direction of line connecting both node centers\n      var directionX = target.positionX - source.positionX;\n      var directionY = target.positionY - source.positionY;\n\n      // If both centers are the same, do nothing.\n      // A random force has already been applied as node repulsion\n      if (0 === directionX && 0 === directionY) {\n        continue;\n      }\n\n      // Get clipping points for both nodes\n      var point1 = findClippingPoint(source, directionX, directionY);\n      var point2 = findClippingPoint(target, -1 * directionX, -1 * directionY);\n      var lx = point2.x - point1.x;\n      var ly = point2.y - point1.y;\n      var l = Math.sqrt(lx * lx + ly * ly);\n      var force = Math.pow(edge.idealLength - l, 2) / edge.elasticity;\n      if (0 !== l) {\n        var forceX = force * lx / l;\n        var forceY = force * ly / l;\n      } else {\n        var forceX = 0;\n        var forceY = 0;\n      }\n\n      // Add this force to target and source nodes\n      if (!source.isLocked) {\n        source.offsetX += forceX;\n        source.offsetY += forceY;\n      }\n      if (!target.isLocked) {\n        target.offsetX -= forceX;\n        target.offsetY -= forceY;\n      }\n\n      // var s = 'Edge force between nodes ' + source.id + ' and ' + target.id;\n      // s += \"\\nDistance: \" + l + \" Force: (\" + forceX + \", \" + forceY + \")\";\n      // logDebug(s);\n    }\n  };\n\n  /**\n   * @brief : Computes gravity forces for all nodes\n   */\n  var calculateGravityForces = function calculateGravityForces(layoutInfo, options) {\n    if (options.gravity === 0) {\n      return;\n    }\n    var distThreshold = 1;\n\n    // var s = 'calculateGravityForces';\n    // logDebug(s);\n    for (var i = 0; i < layoutInfo.graphSet.length; i++) {\n      var graph = layoutInfo.graphSet[i];\n      var numNodes = graph.length;\n\n      // s = \"Set: \" + graph.toString();\n      // logDebug(s);\n\n      // Compute graph center\n      if (0 === i) {\n        var centerX = layoutInfo.clientHeight / 2;\n        var centerY = layoutInfo.clientWidth / 2;\n      } else {\n        // Get Parent node for this graph, and use its position as center\n        var temp = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[0]]];\n        var parent = layoutInfo.layoutNodes[layoutInfo.idToIndex[temp.parentId]];\n        var centerX = parent.positionX;\n        var centerY = parent.positionY;\n      }\n      // s = \"Center found at: \" + centerX + \", \" + centerY;\n      // logDebug(s);\n\n      // Apply force to all nodes in graph\n      for (var j = 0; j < numNodes; j++) {\n        var node = layoutInfo.layoutNodes[layoutInfo.idToIndex[graph[j]]];\n        // s = \"Node: \" + node.id;\n\n        if (node.isLocked) {\n          continue;\n        }\n        var dx = centerX - node.positionX;\n        var dy = centerY - node.positionY;\n        var d = Math.sqrt(dx * dx + dy * dy);\n        if (d > distThreshold) {\n          var fx = options.gravity * dx / d;\n          var fy = options.gravity * dy / d;\n          node.offsetX += fx;\n          node.offsetY += fy;\n          // s += \": Applied force: \" + fx + \", \" + fy;\n        }\n        // logDebug(s);\n      }\n    }\n  };\n\n  /**\n   * @brief          : This function propagates the existing offsets from\n   *                   parent nodes to its descendents.\n   * @arg layoutInfo : layoutInfo Object\n   * @arg cy         : cytoscape Object\n   * @arg options    : Layout options\n   */\n  var propagateForces = function propagateForces(layoutInfo, options) {\n    // Inline implementation of a queue, used for traversing the graph in BFS order\n    var queue = [];\n    var start = 0; // Points to the start the queue\n    var end = -1; // Points to the end of the queue\n\n    // logDebug('propagateForces');\n\n    // Start by visiting the nodes in the root graph\n    queue.push.apply(queue, layoutInfo.graphSet[0]);\n    end += layoutInfo.graphSet[0].length;\n\n    // Traverse the graph, level by level,\n    while (start <= end) {\n      // Get the node to visit and remove it from queue\n      var nodeId = queue[start++];\n      var nodeIndex = layoutInfo.idToIndex[nodeId];\n      var node = layoutInfo.layoutNodes[nodeIndex];\n      var children = node.children;\n\n      // We only need to process the node if it's compound\n      if (0 < children.length && !node.isLocked) {\n        var offX = node.offsetX;\n        var offY = node.offsetY;\n\n        // var s = \"Propagating offset from parent node : \" + node.id +\n        //   \". OffsetX: \" + offX + \". OffsetY: \" + offY;\n        // s += \"\\n Children: \" + children.toString();\n        // logDebug(s);\n\n        for (var i = 0; i < children.length; i++) {\n          var childNode = layoutInfo.layoutNodes[layoutInfo.idToIndex[children[i]]];\n          // Propagate offset\n          childNode.offsetX += offX;\n          childNode.offsetY += offY;\n          // Add children to queue to be visited\n          queue[++end] = children[i];\n        }\n\n        // Reset parent offsets\n        node.offsetX = 0;\n        node.offsetY = 0;\n      }\n    }\n  };\n\n  /**\n   * @brief : Updates the layout model positions, based on\n   *          the accumulated forces\n   */\n  var updatePositions = function updatePositions(layoutInfo, options) {\n    // var s = 'Updating positions';\n    // logDebug(s);\n\n    // Reset boundaries for compound nodes\n    for (var i = 0; i < layoutInfo.nodeSize; i++) {\n      var n = layoutInfo.layoutNodes[i];\n      if (0 < n.children.length) {\n        // logDebug(\"Resetting boundaries of compound node: \" + n.id);\n        n.maxX = undefined;\n        n.minX = undefined;\n        n.maxY = undefined;\n        n.minY = undefined;\n      }\n    }\n    for (var i = 0; i < layoutInfo.nodeSize; i++) {\n      var n = layoutInfo.layoutNodes[i];\n      if (0 < n.children.length || n.isLocked) {\n        // No need to set compound or locked node position\n        // logDebug(\"Skipping position update of node: \" + n.id);\n        continue;\n      }\n      // s = \"Node: \" + n.id + \" Previous position: (\" +\n      // n.positionX + \", \" + n.positionY + \").\";\n\n      // Limit displacement in order to improve stability\n      var tempForce = limitForce(n.offsetX, n.offsetY, layoutInfo.temperature);\n      n.positionX += tempForce.x;\n      n.positionY += tempForce.y;\n      n.offsetX = 0;\n      n.offsetY = 0;\n      n.minX = n.positionX - n.width;\n      n.maxX = n.positionX + n.width;\n      n.minY = n.positionY - n.height;\n      n.maxY = n.positionY + n.height;\n      // s += \" New Position: (\" + n.positionX + \", \" + n.positionY + \").\";\n      // logDebug(s);\n\n      // Update ancestry boudaries\n      updateAncestryBoundaries(n, layoutInfo);\n    }\n\n    // Update size, position of compund nodes\n    for (var i = 0; i < layoutInfo.nodeSize; i++) {\n      var n = layoutInfo.layoutNodes[i];\n      if (0 < n.children.length && !n.isLocked) {\n        n.positionX = (n.maxX + n.minX) / 2;\n        n.positionY = (n.maxY + n.minY) / 2;\n        n.width = n.maxX - n.minX;\n        n.height = n.maxY - n.minY;\n        // s = \"Updating position, size of compound node \" + n.id;\n        // s += \"\\nPositionX: \" + n.positionX + \", PositionY: \" + n.positionY;\n        // s += \"\\nWidth: \" + n.width + \", Height: \" + n.height;\n        // logDebug(s);\n      }\n    }\n  };\n\n  /**\n   * @brief : Limits a force (forceX, forceY) to be not\n   *          greater (in modulo) than max.\n   8          Preserves force direction.\n    */\n  var limitForce = function limitForce(forceX, forceY, max) {\n    // var s = \"Limiting force: (\" + forceX + \", \" + forceY + \"). Max: \" + max;\n    var force = Math.sqrt(forceX * forceX + forceY * forceY);\n    if (force > max) {\n      var res = {\n        x: max * forceX / force,\n        y: max * forceY / force\n      };\n    } else {\n      var res = {\n        x: forceX,\n        y: forceY\n      };\n    }\n\n    // s += \".\\nResult: (\" + res.x + \", \" + res.y + \")\";\n    // logDebug(s);\n\n    return res;\n  };\n\n  /**\n   * @brief : Function used for keeping track of compound node\n   *          sizes, since they should bound all their subnodes.\n   */\n  var updateAncestryBoundaries = function updateAncestryBoundaries(node, layoutInfo) {\n    // var s = \"Propagating new position/size of node \" + node.id;\n    var parentId = node.parentId;\n    if (null == parentId) {\n      // If there's no parent, we are done\n      // s += \". No parent node.\";\n      // logDebug(s);\n      return;\n    }\n\n    // Get Parent Node\n    var p = layoutInfo.layoutNodes[layoutInfo.idToIndex[parentId]];\n    var flag = false;\n\n    // MaxX\n    if (null == p.maxX || node.maxX + p.padRight > p.maxX) {\n      p.maxX = node.maxX + p.padRight;\n      flag = true;\n      // s += \"\\nNew maxX for parent node \" + p.id + \": \" + p.maxX;\n    }\n\n    // MinX\n    if (null == p.minX || node.minX - p.padLeft < p.minX) {\n      p.minX = node.minX - p.padLeft;\n      flag = true;\n      // s += \"\\nNew minX for parent node \" + p.id + \": \" + p.minX;\n    }\n\n    // MaxY\n    if (null == p.maxY || node.maxY + p.padBottom > p.maxY) {\n      p.maxY = node.maxY + p.padBottom;\n      flag = true;\n      // s += \"\\nNew maxY for parent node \" + p.id + \": \" + p.maxY;\n    }\n\n    // MinY\n    if (null == p.minY || node.minY - p.padTop < p.minY) {\n      p.minY = node.minY - p.padTop;\n      flag = true;\n      // s += \"\\nNew minY for parent node \" + p.id + \": \" + p.minY;\n    }\n\n    // If updated boundaries, propagate changes upward\n    if (flag) {\n      // logDebug(s);\n      return updateAncestryBoundaries(p, layoutInfo);\n    }\n\n    // s += \". No changes in boundaries/position of parent node \" + p.id;\n    // logDebug(s);\n    return;\n  };\n  var separateComponents = function separateComponents(layoutInfo, options) {\n    var nodes = layoutInfo.layoutNodes;\n    var components = [];\n    for (var i = 0; i < nodes.length; i++) {\n      var node = nodes[i];\n      var cid = node.cmptId;\n      var component = components[cid] = components[cid] || [];\n      component.push(node);\n    }\n    var totalA = 0;\n    for (var i = 0; i < components.length; i++) {\n      var c = components[i];\n      if (!c) {\n        continue;\n      }\n      c.x1 = Infinity;\n      c.x2 = -Infinity;\n      c.y1 = Infinity;\n      c.y2 = -Infinity;\n      for (var j = 0; j < c.length; j++) {\n        var n = c[j];\n        c.x1 = Math.min(c.x1, n.positionX - n.width / 2);\n        c.x2 = Math.max(c.x2, n.positionX + n.width / 2);\n        c.y1 = Math.min(c.y1, n.positionY - n.height / 2);\n        c.y2 = Math.max(c.y2, n.positionY + n.height / 2);\n      }\n      c.w = c.x2 - c.x1;\n      c.h = c.y2 - c.y1;\n      totalA += c.w * c.h;\n    }\n    components.sort(function (c1, c2) {\n      return c2.w * c2.h - c1.w * c1.h;\n    });\n    var x = 0;\n    var y = 0;\n    var usedW = 0;\n    var rowH = 0;\n    var maxRowW = Math.sqrt(totalA) * layoutInfo.clientWidth / layoutInfo.clientHeight;\n    for (var i = 0; i < components.length; i++) {\n      var c = components[i];\n      if (!c) {\n        continue;\n      }\n      for (var j = 0; j < c.length; j++) {\n        var n = c[j];\n        if (!n.isLocked) {\n          n.positionX += x - c.x1;\n          n.positionY += y - c.y1;\n        }\n      }\n      x += c.w + options.componentSpacing;\n      usedW += c.w + options.componentSpacing;\n      rowH = Math.max(rowH, c.h);\n      if (usedW > maxRowW) {\n        y += rowH + options.componentSpacing;\n        x = 0;\n        usedW = 0;\n        rowH = 0;\n      }\n    }\n  };\n\n  var defaults$3 = {\n    fit: true,\n    // whether to fit the viewport to the graph\n    padding: 30,\n    // padding used on fit\n    boundingBox: undefined,\n    // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    avoidOverlap: true,\n    // prevents node overlap, may overflow boundingBox if not enough space\n    avoidOverlapPadding: 10,\n    // extra spacing around nodes when avoidOverlap: true\n    nodeDimensionsIncludeLabels: false,\n    // Excludes the label when calculating node bounding boxes for the layout algorithm\n    spacingFactor: undefined,\n    // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    condense: false,\n    // uses all available space on false, uses minimal space on true\n    rows: undefined,\n    // force num of rows in the grid\n    cols: undefined,\n    // force num of columns in the grid\n    position: function position(node) {},\n    // returns { row, col } for element\n    sort: undefined,\n    // a sorting function to order the nodes; e.g. function(a, b){ return a.data('weight') - b.data('weight') }\n    animate: false,\n    // whether to transition the node positions\n    animationDuration: 500,\n    // duration of animation in ms if enabled\n    animationEasing: undefined,\n    // easing of animation if enabled\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    ready: undefined,\n    // callback on layoutready\n    stop: undefined,\n    // callback on layoutstop\n    transform: function transform(node, position) {\n      return position;\n    } // transform a given node position. Useful for changing flow direction in discrete layouts \n  };\n\n  function GridLayout(options) {\n    this.options = extend({}, defaults$3, options);\n  }\n  GridLayout.prototype.run = function () {\n    var params = this.options;\n    var options = params;\n    var cy = params.cy;\n    var eles = options.eles;\n    var nodes = eles.nodes().not(':parent');\n    if (options.sort) {\n      nodes = nodes.sort(options.sort);\n    }\n    var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    });\n    if (bb.h === 0 || bb.w === 0) {\n      eles.nodes().layoutPositions(this, options, function (ele) {\n        return {\n          x: bb.x1,\n          y: bb.y1\n        };\n      });\n    } else {\n      // width/height * splits^2 = cells where splits is number of times to split width\n      var cells = nodes.size();\n      var splits = Math.sqrt(cells * bb.h / bb.w);\n      var rows = Math.round(splits);\n      var cols = Math.round(bb.w / bb.h * splits);\n      var small = function small(val) {\n        if (val == null) {\n          return Math.min(rows, cols);\n        } else {\n          var min = Math.min(rows, cols);\n          if (min == rows) {\n            rows = val;\n          } else {\n            cols = val;\n          }\n        }\n      };\n      var large = function large(val) {\n        if (val == null) {\n          return Math.max(rows, cols);\n        } else {\n          var max = Math.max(rows, cols);\n          if (max == rows) {\n            rows = val;\n          } else {\n            cols = val;\n          }\n        }\n      };\n      var oRows = options.rows;\n      var oCols = options.cols != null ? options.cols : options.columns;\n\n      // if rows or columns were set in options, use those values\n      if (oRows != null && oCols != null) {\n        rows = oRows;\n        cols = oCols;\n      } else if (oRows != null && oCols == null) {\n        rows = oRows;\n        cols = Math.ceil(cells / rows);\n      } else if (oRows == null && oCols != null) {\n        cols = oCols;\n        rows = Math.ceil(cells / cols);\n      }\n\n      // otherwise use the automatic values and adjust accordingly\n\n      // if rounding was up, see if we can reduce rows or columns\n      else if (cols * rows > cells) {\n        var sm = small();\n        var lg = large();\n\n        // reducing the small side takes away the most cells, so try it first\n        if ((sm - 1) * lg >= cells) {\n          small(sm - 1);\n        } else if ((lg - 1) * sm >= cells) {\n          large(lg - 1);\n        }\n      } else {\n        // if rounding was too low, add rows or columns\n        while (cols * rows < cells) {\n          var _sm = small();\n          var _lg = large();\n\n          // try to add to larger side first (adds less in multiplication)\n          if ((_lg + 1) * _sm >= cells) {\n            large(_lg + 1);\n          } else {\n            small(_sm + 1);\n          }\n        }\n      }\n      var cellWidth = bb.w / cols;\n      var cellHeight = bb.h / rows;\n      if (options.condense) {\n        cellWidth = 0;\n        cellHeight = 0;\n      }\n      if (options.avoidOverlap) {\n        for (var i = 0; i < nodes.length; i++) {\n          var node = nodes[i];\n          var pos = node._private.position;\n          if (pos.x == null || pos.y == null) {\n            // for bb\n            pos.x = 0;\n            pos.y = 0;\n          }\n          var nbb = node.layoutDimensions(options);\n          var p = options.avoidOverlapPadding;\n          var w = nbb.w + p;\n          var h = nbb.h + p;\n          cellWidth = Math.max(cellWidth, w);\n          cellHeight = Math.max(cellHeight, h);\n        }\n      }\n      var cellUsed = {}; // e.g. 'c-0-2' => true\n\n      var used = function used(row, col) {\n        return cellUsed['c-' + row + '-' + col] ? true : false;\n      };\n      var use = function use(row, col) {\n        cellUsed['c-' + row + '-' + col] = true;\n      };\n\n      // to keep track of current cell position\n      var row = 0;\n      var col = 0;\n      var moveToNextCell = function moveToNextCell() {\n        col++;\n        if (col >= cols) {\n          col = 0;\n          row++;\n        }\n      };\n\n      // get a cache of all the manual positions\n      var id2manPos = {};\n      for (var _i = 0; _i < nodes.length; _i++) {\n        var _node = nodes[_i];\n        var rcPos = options.position(_node);\n        if (rcPos && (rcPos.row !== undefined || rcPos.col !== undefined)) {\n          // must have at least row or col def'd\n          var _pos = {\n            row: rcPos.row,\n            col: rcPos.col\n          };\n          if (_pos.col === undefined) {\n            // find unused col\n            _pos.col = 0;\n            while (used(_pos.row, _pos.col)) {\n              _pos.col++;\n            }\n          } else if (_pos.row === undefined) {\n            // find unused row\n            _pos.row = 0;\n            while (used(_pos.row, _pos.col)) {\n              _pos.row++;\n            }\n          }\n          id2manPos[_node.id()] = _pos;\n          use(_pos.row, _pos.col);\n        }\n      }\n      var getPos = function getPos(element, i) {\n        var x, y;\n        if (element.locked() || element.isParent()) {\n          return false;\n        }\n\n        // see if we have a manual position set\n        var rcPos = id2manPos[element.id()];\n        if (rcPos) {\n          x = rcPos.col * cellWidth + cellWidth / 2 + bb.x1;\n          y = rcPos.row * cellHeight + cellHeight / 2 + bb.y1;\n        } else {\n          // otherwise set automatically\n\n          while (used(row, col)) {\n            moveToNextCell();\n          }\n          x = col * cellWidth + cellWidth / 2 + bb.x1;\n          y = row * cellHeight + cellHeight / 2 + bb.y1;\n          use(row, col);\n          moveToNextCell();\n        }\n        return {\n          x: x,\n          y: y\n        };\n      };\n      nodes.layoutPositions(this, options, getPos);\n    }\n    return this; // chaining\n  };\n\n  // default layout options\n  var defaults$2 = {\n    ready: function ready() {},\n    // on layoutready\n    stop: function stop() {} // on layoutstop\n  };\n\n  // constructor\n  // options : object containing layout options\n  function NullLayout(options) {\n    this.options = extend({}, defaults$2, options);\n  }\n\n  // runs the layout\n  NullLayout.prototype.run = function () {\n    var options = this.options;\n    var eles = options.eles; // elements to consider in the layout\n    var layout = this;\n\n    // cy is automatically populated for us in the constructor\n    // (disable eslint for next line as this serves as example layout code to external developers)\n    // eslint-disable-next-line no-unused-vars\n    options.cy;\n    layout.emit('layoutstart');\n\n    // puts all nodes at (0, 0)\n    // n.b. most layouts would use layoutPositions(), instead of positions() and manual events\n    eles.nodes().positions(function () {\n      return {\n        x: 0,\n        y: 0\n      };\n    });\n\n    // trigger layoutready when each node has had its position set at least once\n    layout.one('layoutready', options.ready);\n    layout.emit('layoutready');\n\n    // trigger layoutstop when the layout stops (e.g. finishes)\n    layout.one('layoutstop', options.stop);\n    layout.emit('layoutstop');\n    return this; // chaining\n  };\n\n  // called on continuous layouts to stop them before they finish\n  NullLayout.prototype.stop = function () {\n    return this; // chaining\n  };\n\n  var defaults$1 = {\n    positions: undefined,\n    // map of (node id) => (position obj); or function(node){ return somPos; }\n    zoom: undefined,\n    // the zoom level to set (prob want fit = false if set)\n    pan: undefined,\n    // the pan level to set (prob want fit = false if set)\n    fit: true,\n    // whether to fit to viewport\n    padding: 30,\n    // padding on fit\n    spacingFactor: undefined,\n    // Applies a multiplicative factor (>0) to expand or compress the overall area that the nodes take up\n    animate: false,\n    // whether to transition the node positions\n    animationDuration: 500,\n    // duration of animation in ms if enabled\n    animationEasing: undefined,\n    // easing of animation if enabled\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    ready: undefined,\n    // callback on layoutready\n    stop: undefined,\n    // callback on layoutstop\n    transform: function transform(node, position) {\n      return position;\n    } // transform a given node position. Useful for changing flow direction in discrete layouts\n  };\n\n  function PresetLayout(options) {\n    this.options = extend({}, defaults$1, options);\n  }\n  PresetLayout.prototype.run = function () {\n    var options = this.options;\n    var eles = options.eles;\n    var nodes = eles.nodes();\n    var posIsFn = fn$6(options.positions);\n    function getPosition(node) {\n      if (options.positions == null) {\n        return copyPosition(node.position());\n      }\n      if (posIsFn) {\n        return options.positions(node);\n      }\n      var pos = options.positions[node._private.data.id];\n      if (pos == null) {\n        return null;\n      }\n      return pos;\n    }\n    nodes.layoutPositions(this, options, function (node, i) {\n      var position = getPosition(node);\n      if (node.locked() || position == null) {\n        return false;\n      }\n      return position;\n    });\n    return this; // chaining\n  };\n\n  var defaults = {\n    fit: true,\n    // whether to fit to viewport\n    padding: 30,\n    // fit padding\n    boundingBox: undefined,\n    // constrain layout bounds; { x1, y1, x2, y2 } or { x1, y1, w, h }\n    animate: false,\n    // whether to transition the node positions\n    animationDuration: 500,\n    // duration of animation in ms if enabled\n    animationEasing: undefined,\n    // easing of animation if enabled\n    animateFilter: function animateFilter(node, i) {\n      return true;\n    },\n    // a function that determines whether the node should be animated.  All nodes animated by default on animate enabled.  Non-animated nodes are positioned immediately when the layout starts\n    ready: undefined,\n    // callback on layoutready\n    stop: undefined,\n    // callback on layoutstop\n    transform: function transform(node, position) {\n      return position;\n    } // transform a given node position. Useful for changing flow direction in discrete layouts \n  };\n\n  function RandomLayout(options) {\n    this.options = extend({}, defaults, options);\n  }\n  RandomLayout.prototype.run = function () {\n    var options = this.options;\n    var cy = options.cy;\n    var eles = options.eles;\n    var bb = makeBoundingBox(options.boundingBox ? options.boundingBox : {\n      x1: 0,\n      y1: 0,\n      w: cy.width(),\n      h: cy.height()\n    });\n    var getPos = function getPos(node, i) {\n      return {\n        x: bb.x1 + Math.round(Math.random() * bb.w),\n        y: bb.y1 + Math.round(Math.random() * bb.h)\n      };\n    };\n    eles.nodes().layoutPositions(this, options, getPos);\n    return this; // chaining\n  };\n\n  var layout = [{\n    name: 'breadthfirst',\n    impl: BreadthFirstLayout\n  }, {\n    name: 'circle',\n    impl: CircleLayout\n  }, {\n    name: 'concentric',\n    impl: ConcentricLayout\n  }, {\n    name: 'cose',\n    impl: CoseLayout\n  }, {\n    name: 'grid',\n    impl: GridLayout\n  }, {\n    name: 'null',\n    impl: NullLayout\n  }, {\n    name: 'preset',\n    impl: PresetLayout\n  }, {\n    name: 'random',\n    impl: RandomLayout\n  }];\n\n  function NullRenderer(options) {\n    this.options = options;\n    this.notifications = 0; // for testing\n  }\n\n  var noop = function noop() {};\n  var throwImgErr = function throwImgErr() {\n    throw new Error('A headless instance can not render images');\n  };\n  NullRenderer.prototype = {\n    recalculateRenderedStyle: noop,\n    notify: function notify() {\n      this.notifications++;\n    },\n    init: noop,\n    isHeadless: function isHeadless() {\n      return true;\n    },\n    png: throwImgErr,\n    jpg: throwImgErr\n  };\n\n  var BRp$f = {};\n  BRp$f.arrowShapeWidth = 0.3;\n  BRp$f.registerArrowShapes = function () {\n    var arrowShapes = this.arrowShapes = {};\n    var renderer = this;\n\n    // Contract for arrow shapes:\n    // 0, 0 is arrow tip\n    // (0, 1) is direction towards node\n    // (1, 0) is right\n    //\n    // functional api:\n    // collide: check x, y in shape\n    // roughCollide: called before collide, no false negatives\n    // draw: draw\n    // spacing: dist(arrowTip, nodeBoundary)\n    // gap: dist(edgeTip, nodeBoundary), edgeTip may != arrowTip\n\n    var bbCollide = function bbCollide(x, y, size, angle, translation, edgeWidth, padding) {\n      var x1 = translation.x - size / 2 - padding;\n      var x2 = translation.x + size / 2 + padding;\n      var y1 = translation.y - size / 2 - padding;\n      var y2 = translation.y + size / 2 + padding;\n      var inside = x1 <= x && x <= x2 && y1 <= y && y <= y2;\n      return inside;\n    };\n    var transform = function transform(x, y, size, angle, translation) {\n      var xRotated = x * Math.cos(angle) - y * Math.sin(angle);\n      var yRotated = x * Math.sin(angle) + y * Math.cos(angle);\n      var xScaled = xRotated * size;\n      var yScaled = yRotated * size;\n      var xTranslated = xScaled + translation.x;\n      var yTranslated = yScaled + translation.y;\n      return {\n        x: xTranslated,\n        y: yTranslated\n      };\n    };\n    var transformPoints = function transformPoints(pts, size, angle, translation) {\n      var retPts = [];\n      for (var i = 0; i < pts.length; i += 2) {\n        var x = pts[i];\n        var y = pts[i + 1];\n        retPts.push(transform(x, y, size, angle, translation));\n      }\n      return retPts;\n    };\n    var pointsToArr = function pointsToArr(pts) {\n      var ret = [];\n      for (var i = 0; i < pts.length; i++) {\n        var p = pts[i];\n        ret.push(p.x, p.y);\n      }\n      return ret;\n    };\n    var standardGap = function standardGap(edge) {\n      return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').pfValue * 2;\n    };\n    var defineArrowShape = function defineArrowShape(name, defn) {\n      if (string(defn)) {\n        defn = arrowShapes[defn];\n      }\n      arrowShapes[name] = extend({\n        name: name,\n        points: [-0.15, -0.3, 0.15, -0.3, 0.15, 0.3, -0.15, 0.3],\n        collide: function collide(x, y, size, angle, translation, padding) {\n          var points = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n          var inside = pointInsidePolygonPoints(x, y, points);\n          return inside;\n        },\n        roughCollide: bbCollide,\n        draw: function draw(context, size, angle, translation) {\n          var points = transformPoints(this.points, size, angle, translation);\n          renderer.arrowShapeImpl('polygon')(context, points);\n        },\n        spacing: function spacing(edge) {\n          return 0;\n        },\n        gap: standardGap\n      }, defn);\n    };\n    defineArrowShape('none', {\n      collide: falsify,\n      roughCollide: falsify,\n      draw: noop$1,\n      spacing: zeroify,\n      gap: zeroify\n    });\n    defineArrowShape('triangle', {\n      points: [-0.15, -0.3, 0, 0, 0.15, -0.3]\n    });\n    defineArrowShape('arrow', 'triangle');\n    defineArrowShape('triangle-backcurve', {\n      points: arrowShapes['triangle'].points,\n      controlPoint: [0, -0.15],\n      roughCollide: bbCollide,\n      draw: function draw(context, size, angle, translation, edgeWidth) {\n        var ptsTrans = transformPoints(this.points, size, angle, translation);\n        var ctrlPt = this.controlPoint;\n        var ctrlPtTrans = transform(ctrlPt[0], ctrlPt[1], size, angle, translation);\n        renderer.arrowShapeImpl(this.name)(context, ptsTrans, ctrlPtTrans);\n      },\n      gap: function gap(edge) {\n        return standardGap(edge) * 0.8;\n      }\n    });\n    defineArrowShape('triangle-tee', {\n      points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],\n      pointsTee: [-0.15, -0.4, -0.15, -0.5, 0.15, -0.5, 0.15, -0.4],\n      collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n        var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n        var teePts = pointsToArr(transformPoints(this.pointsTee, size + 2 * padding, angle, translation));\n        var inside = pointInsidePolygonPoints(x, y, triPts) || pointInsidePolygonPoints(x, y, teePts);\n        return inside;\n      },\n      draw: function draw(context, size, angle, translation, edgeWidth) {\n        var triPts = transformPoints(this.points, size, angle, translation);\n        var teePts = transformPoints(this.pointsTee, size, angle, translation);\n        renderer.arrowShapeImpl(this.name)(context, triPts, teePts);\n      }\n    });\n    defineArrowShape('circle-triangle', {\n      radius: 0.15,\n      pointsTr: [0, -0.15, 0.15, -0.45, -0.15, -0.45, 0, -0.15],\n      collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n        var t = translation;\n        var circleInside = Math.pow(t.x - x, 2) + Math.pow(t.y - y, 2) <= Math.pow((size + 2 * padding) * this.radius, 2);\n        var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n        return pointInsidePolygonPoints(x, y, triPts) || circleInside;\n      },\n      draw: function draw(context, size, angle, translation, edgeWidth) {\n        var triPts = transformPoints(this.pointsTr, size, angle, translation);\n        renderer.arrowShapeImpl(this.name)(context, triPts, translation.x, translation.y, this.radius * size);\n      },\n      spacing: function spacing(edge) {\n        return renderer.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.radius;\n      }\n    });\n    defineArrowShape('triangle-cross', {\n      points: [0, 0, 0.15, -0.3, -0.15, -0.3, 0, 0],\n      baseCrossLinePts: [-0.15, -0.4,\n      // first half of the rectangle\n      -0.15, -0.4, 0.15, -0.4,\n      // second half of the rectangle\n      0.15, -0.4],\n      crossLinePts: function crossLinePts(size, edgeWidth) {\n        // shift points so that the distance between the cross points matches edge width\n        var p = this.baseCrossLinePts.slice();\n        var shiftFactor = edgeWidth / size;\n        var y0 = 3;\n        var y1 = 5;\n        p[y0] = p[y0] - shiftFactor;\n        p[y1] = p[y1] - shiftFactor;\n        return p;\n      },\n      collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n        var triPts = pointsToArr(transformPoints(this.points, size + 2 * padding, angle, translation));\n        var teePts = pointsToArr(transformPoints(this.crossLinePts(size, edgeWidth), size + 2 * padding, angle, translation));\n        var inside = pointInsidePolygonPoints(x, y, triPts) || pointInsidePolygonPoints(x, y, teePts);\n        return inside;\n      },\n      draw: function draw(context, size, angle, translation, edgeWidth) {\n        var triPts = transformPoints(this.points, size, angle, translation);\n        var crossLinePts = transformPoints(this.crossLinePts(size, edgeWidth), size, angle, translation);\n        renderer.arrowShapeImpl(this.name)(context, triPts, crossLinePts);\n      }\n    });\n    defineArrowShape('vee', {\n      points: [-0.15, -0.3, 0, 0, 0.15, -0.3, 0, -0.15],\n      gap: function gap(edge) {\n        return standardGap(edge) * 0.525;\n      }\n    });\n    defineArrowShape('circle', {\n      radius: 0.15,\n      collide: function collide(x, y, size, angle, translation, edgeWidth, padding) {\n        var t = translation;\n        var inside = Math.pow(t.x - x, 2) + Math.pow(t.y - y, 2) <= Math.pow((size + 2 * padding) * this.radius, 2);\n        return inside;\n      },\n      draw: function draw(context, size, angle, translation, edgeWidth) {\n        renderer.arrowShapeImpl(this.name)(context, translation.x, translation.y, this.radius * size);\n      },\n      spacing: function spacing(edge) {\n        return renderer.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.radius;\n      }\n    });\n    defineArrowShape('tee', {\n      points: [-0.15, 0, -0.15, -0.1, 0.15, -0.1, 0.15, 0],\n      spacing: function spacing(edge) {\n        return 1;\n      },\n      gap: function gap(edge) {\n        return 1;\n      }\n    });\n    defineArrowShape('square', {\n      points: [-0.15, 0.00, 0.15, 0.00, 0.15, -0.3, -0.15, -0.3]\n    });\n    defineArrowShape('diamond', {\n      points: [-0.15, -0.15, 0, -0.3, 0.15, -0.15, 0, 0],\n      gap: function gap(edge) {\n        return edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n      }\n    });\n    defineArrowShape('chevron', {\n      points: [0, 0, -0.15, -0.15, -0.1, -0.2, 0, -0.1, 0.1, -0.2, 0.15, -0.15],\n      gap: function gap(edge) {\n        return 0.95 * edge.pstyle('width').pfValue * edge.pstyle('arrow-scale').value;\n      }\n    });\n  };\n\n  var BRp$e = {};\n\n  // Project mouse\n  BRp$e.projectIntoViewport = function (clientX, clientY) {\n    var cy = this.cy;\n    var offsets = this.findContainerClientCoords();\n    var offsetLeft = offsets[0];\n    var offsetTop = offsets[1];\n    var scale = offsets[4];\n    var pan = cy.pan();\n    var zoom = cy.zoom();\n    var x = ((clientX - offsetLeft) / scale - pan.x) / zoom;\n    var y = ((clientY - offsetTop) / scale - pan.y) / zoom;\n    return [x, y];\n  };\n  BRp$e.findContainerClientCoords = function () {\n    if (this.containerBB) {\n      return this.containerBB;\n    }\n    var container = this.container;\n    var rect = container.getBoundingClientRect();\n    var style = this.cy.window().getComputedStyle(container);\n    var styleValue = function styleValue(name) {\n      return parseFloat(style.getPropertyValue(name));\n    };\n    var padding = {\n      left: styleValue('padding-left'),\n      right: styleValue('padding-right'),\n      top: styleValue('padding-top'),\n      bottom: styleValue('padding-bottom')\n    };\n    var border = {\n      left: styleValue('border-left-width'),\n      right: styleValue('border-right-width'),\n      top: styleValue('border-top-width'),\n      bottom: styleValue('border-bottom-width')\n    };\n    var clientWidth = container.clientWidth;\n    var clientHeight = container.clientHeight;\n    var paddingHor = padding.left + padding.right;\n    var paddingVer = padding.top + padding.bottom;\n    var borderHor = border.left + border.right;\n    var scale = rect.width / (clientWidth + borderHor);\n    var unscaledW = clientWidth - paddingHor;\n    var unscaledH = clientHeight - paddingVer;\n    var left = rect.left + padding.left + border.left;\n    var top = rect.top + padding.top + border.top;\n    return this.containerBB = [left, top, unscaledW, unscaledH, scale];\n  };\n  BRp$e.invalidateContainerClientCoordsCache = function () {\n    this.containerBB = null;\n  };\n  BRp$e.findNearestElement = function (x, y, interactiveElementsOnly, isTouch) {\n    return this.findNearestElements(x, y, interactiveElementsOnly, isTouch)[0];\n  };\n  BRp$e.findNearestElements = function (x, y, interactiveElementsOnly, isTouch) {\n    var self = this;\n    var r = this;\n    var eles = r.getCachedZSortedEles();\n    var near = []; // 1 node max, 1 edge max\n    var zoom = r.cy.zoom();\n    var hasCompounds = r.cy.hasCompoundNodes();\n    var edgeThreshold = (isTouch ? 24 : 8) / zoom;\n    var nodeThreshold = (isTouch ? 8 : 2) / zoom;\n    var labelThreshold = (isTouch ? 8 : 2) / zoom;\n    var minSqDist = Infinity;\n    var nearEdge;\n    var nearNode;\n    if (interactiveElementsOnly) {\n      eles = eles.interactive;\n    }\n    function addEle(ele, sqDist) {\n      if (ele.isNode()) {\n        if (nearNode) {\n          return; // can't replace node\n        } else {\n          nearNode = ele;\n          near.push(ele);\n        }\n      }\n      if (ele.isEdge() && (sqDist == null || sqDist < minSqDist)) {\n        if (nearEdge) {\n          // then replace existing edge\n          // can replace only if same z-index\n          if (nearEdge.pstyle('z-compound-depth').value === ele.pstyle('z-compound-depth').value && nearEdge.pstyle('z-compound-depth').value === ele.pstyle('z-compound-depth').value) {\n            for (var i = 0; i < near.length; i++) {\n              if (near[i].isEdge()) {\n                near[i] = ele;\n                nearEdge = ele;\n                minSqDist = sqDist != null ? sqDist : minSqDist;\n                break;\n              }\n            }\n          }\n        } else {\n          near.push(ele);\n          nearEdge = ele;\n          minSqDist = sqDist != null ? sqDist : minSqDist;\n        }\n      }\n    }\n    function checkNode(node) {\n      var width = node.outerWidth() + 2 * nodeThreshold;\n      var height = node.outerHeight() + 2 * nodeThreshold;\n      var hw = width / 2;\n      var hh = height / 2;\n      var pos = node.position();\n      if (pos.x - hw <= x && x <= pos.x + hw // bb check x\n      && pos.y - hh <= y && y <= pos.y + hh // bb check y\n      ) {\n        var shape = r.nodeShapes[self.getNodeShape(node)];\n        if (shape.checkPoint(x, y, 0, width, height, pos.x, pos.y)) {\n          addEle(node, 0);\n          return true;\n        }\n      }\n    }\n    function checkEdge(edge) {\n      var _p = edge._private;\n      var rs = _p.rscratch;\n      var styleWidth = edge.pstyle('width').pfValue;\n      var scale = edge.pstyle('arrow-scale').value;\n      var width = styleWidth / 2 + edgeThreshold; // more like a distance radius from centre\n      var widthSq = width * width;\n      var width2 = width * 2;\n      var src = _p.source;\n      var tgt = _p.target;\n      var sqDist;\n      if (rs.edgeType === 'segments' || rs.edgeType === 'straight' || rs.edgeType === 'haystack') {\n        var pts = rs.allpts;\n        for (var i = 0; i + 3 < pts.length; i += 2) {\n          if (inLineVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], width2) && widthSq > (sqDist = sqdistToFiniteLine(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3]))) {\n            addEle(edge, sqDist);\n            return true;\n          }\n        }\n      } else if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n        var pts = rs.allpts;\n        for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n          if (inBezierVicinity(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5], width2) && widthSq > (sqDist = sqdistToQuadraticBezier(x, y, pts[i], pts[i + 1], pts[i + 2], pts[i + 3], pts[i + 4], pts[i + 5]))) {\n            addEle(edge, sqDist);\n            return true;\n          }\n        }\n      }\n\n      // if we're close to the edge but didn't hit it, maybe we hit its arrows\n\n      var src = src || _p.source;\n      var tgt = tgt || _p.target;\n      var arSize = self.getArrowWidth(styleWidth, scale);\n      var arrows = [{\n        name: 'source',\n        x: rs.arrowStartX,\n        y: rs.arrowStartY,\n        angle: rs.srcArrowAngle\n      }, {\n        name: 'target',\n        x: rs.arrowEndX,\n        y: rs.arrowEndY,\n        angle: rs.tgtArrowAngle\n      }, {\n        name: 'mid-source',\n        x: rs.midX,\n        y: rs.midY,\n        angle: rs.midsrcArrowAngle\n      }, {\n        name: 'mid-target',\n        x: rs.midX,\n        y: rs.midY,\n        angle: rs.midtgtArrowAngle\n      }];\n      for (var i = 0; i < arrows.length; i++) {\n        var ar = arrows[i];\n        var shape = r.arrowShapes[edge.pstyle(ar.name + '-arrow-shape').value];\n        var edgeWidth = edge.pstyle('width').pfValue;\n        if (shape.roughCollide(x, y, arSize, ar.angle, {\n          x: ar.x,\n          y: ar.y\n        }, edgeWidth, edgeThreshold) && shape.collide(x, y, arSize, ar.angle, {\n          x: ar.x,\n          y: ar.y\n        }, edgeWidth, edgeThreshold)) {\n          addEle(edge);\n          return true;\n        }\n      }\n\n      // for compound graphs, hitting edge may actually want a connected node instead (b/c edge may have greater z-index precedence)\n      if (hasCompounds && near.length > 0) {\n        checkNode(src);\n        checkNode(tgt);\n      }\n    }\n    function preprop(obj, name, pre) {\n      return getPrefixedProperty(obj, name, pre);\n    }\n    function checkLabel(ele, prefix) {\n      var _p = ele._private;\n      var th = labelThreshold;\n      var prefixDash;\n      if (prefix) {\n        prefixDash = prefix + '-';\n      } else {\n        prefixDash = '';\n      }\n      ele.boundingBox();\n      var bb = _p.labelBounds[prefix || 'main'];\n      var text = ele.pstyle(prefixDash + 'label').value;\n      var eventsEnabled = ele.pstyle('text-events').strValue === 'yes';\n      if (!eventsEnabled || !text) {\n        return;\n      }\n      var lx = preprop(_p.rscratch, 'labelX', prefix);\n      var ly = preprop(_p.rscratch, 'labelY', prefix);\n      var theta = preprop(_p.rscratch, 'labelAngle', prefix);\n      var ox = ele.pstyle(prefixDash + 'text-margin-x').pfValue;\n      var oy = ele.pstyle(prefixDash + 'text-margin-y').pfValue;\n      var lx1 = bb.x1 - th - ox; // (-ox, -oy) as bb already includes margin\n      var lx2 = bb.x2 + th - ox; // and rotation is about (lx, ly)\n      var ly1 = bb.y1 - th - oy;\n      var ly2 = bb.y2 + th - oy;\n      if (theta) {\n        var cos = Math.cos(theta);\n        var sin = Math.sin(theta);\n        var rotate = function rotate(x, y) {\n          x = x - lx;\n          y = y - ly;\n          return {\n            x: x * cos - y * sin + lx,\n            y: x * sin + y * cos + ly\n          };\n        };\n        var px1y1 = rotate(lx1, ly1);\n        var px1y2 = rotate(lx1, ly2);\n        var px2y1 = rotate(lx2, ly1);\n        var px2y2 = rotate(lx2, ly2);\n        var points = [\n        // with the margin added after the rotation is applied\n        px1y1.x + ox, px1y1.y + oy, px2y1.x + ox, px2y1.y + oy, px2y2.x + ox, px2y2.y + oy, px1y2.x + ox, px1y2.y + oy];\n        if (pointInsidePolygonPoints(x, y, points)) {\n          addEle(ele);\n          return true;\n        }\n      } else {\n        // do a cheaper bb check\n        if (inBoundingBox(bb, x, y)) {\n          addEle(ele);\n          return true;\n        }\n      }\n    }\n    for (var i = eles.length - 1; i >= 0; i--) {\n      // reverse order for precedence\n      var ele = eles[i];\n      if (ele.isNode()) {\n        checkNode(ele) || checkLabel(ele);\n      } else {\n        // then edge\n        checkEdge(ele) || checkLabel(ele) || checkLabel(ele, 'source') || checkLabel(ele, 'target');\n      }\n    }\n    return near;\n  };\n\n  // 'Give me everything from this box'\n  BRp$e.getAllInBox = function (x1, y1, x2, y2) {\n    var eles = this.getCachedZSortedEles().interactive;\n    var box = [];\n    var x1c = Math.min(x1, x2);\n    var x2c = Math.max(x1, x2);\n    var y1c = Math.min(y1, y2);\n    var y2c = Math.max(y1, y2);\n    x1 = x1c;\n    x2 = x2c;\n    y1 = y1c;\n    y2 = y2c;\n    var boxBb = makeBoundingBox({\n      x1: x1,\n      y1: y1,\n      x2: x2,\n      y2: y2\n    });\n    for (var e = 0; e < eles.length; e++) {\n      var ele = eles[e];\n      if (ele.isNode()) {\n        var node = ele;\n        var nodeBb = node.boundingBox({\n          includeNodes: true,\n          includeEdges: false,\n          includeLabels: false\n        });\n        if (boundingBoxesIntersect(boxBb, nodeBb) && !boundingBoxInBoundingBox(nodeBb, boxBb)) {\n          box.push(node);\n        }\n      } else {\n        var edge = ele;\n        var _p = edge._private;\n        var rs = _p.rscratch;\n        if (rs.startX != null && rs.startY != null && !inBoundingBox(boxBb, rs.startX, rs.startY)) {\n          continue;\n        }\n        if (rs.endX != null && rs.endY != null && !inBoundingBox(boxBb, rs.endX, rs.endY)) {\n          continue;\n        }\n        if (rs.edgeType === 'bezier' || rs.edgeType === 'multibezier' || rs.edgeType === 'self' || rs.edgeType === 'compound' || rs.edgeType === 'segments' || rs.edgeType === 'haystack') {\n          var pts = _p.rstyle.bezierPts || _p.rstyle.linePts || _p.rstyle.haystackPts;\n          var allInside = true;\n          for (var i = 0; i < pts.length; i++) {\n            if (!pointInBoundingBox(boxBb, pts[i])) {\n              allInside = false;\n              break;\n            }\n          }\n          if (allInside) {\n            box.push(edge);\n          }\n        } else if (rs.edgeType === 'haystack' || rs.edgeType === 'straight') {\n          box.push(edge);\n        }\n      }\n    }\n    return box;\n  };\n\n  var BRp$d = {};\n  BRp$d.calculateArrowAngles = function (edge) {\n    var rs = edge._private.rscratch;\n    var isHaystack = rs.edgeType === 'haystack';\n    var isBezier = rs.edgeType === 'bezier';\n    var isMultibezier = rs.edgeType === 'multibezier';\n    var isSegments = rs.edgeType === 'segments';\n    var isCompound = rs.edgeType === 'compound';\n    var isSelf = rs.edgeType === 'self';\n\n    // Displacement gives direction for arrowhead orientation\n    var dispX, dispY;\n    var startX, startY, endX, endY, midX, midY;\n    if (isHaystack) {\n      startX = rs.haystackPts[0];\n      startY = rs.haystackPts[1];\n      endX = rs.haystackPts[2];\n      endY = rs.haystackPts[3];\n    } else {\n      startX = rs.arrowStartX;\n      startY = rs.arrowStartY;\n      endX = rs.arrowEndX;\n      endY = rs.arrowEndY;\n    }\n    midX = rs.midX;\n    midY = rs.midY;\n\n    // source\n    //\n\n    if (isSegments) {\n      dispX = startX - rs.segpts[0];\n      dispY = startY - rs.segpts[1];\n    } else if (isMultibezier || isCompound || isSelf || isBezier) {\n      var pts = rs.allpts;\n      var bX = qbezierAt(pts[0], pts[2], pts[4], 0.1);\n      var bY = qbezierAt(pts[1], pts[3], pts[5], 0.1);\n      dispX = startX - bX;\n      dispY = startY - bY;\n    } else {\n      dispX = startX - midX;\n      dispY = startY - midY;\n    }\n    rs.srcArrowAngle = getAngleFromDisp(dispX, dispY);\n\n    // mid target\n    //\n\n    var midX = rs.midX;\n    var midY = rs.midY;\n    if (isHaystack) {\n      midX = (startX + endX) / 2;\n      midY = (startY + endY) / 2;\n    }\n    dispX = endX - startX;\n    dispY = endY - startY;\n    if (isSegments) {\n      var pts = rs.allpts;\n      if (pts.length / 2 % 2 === 0) {\n        var i2 = pts.length / 2;\n        var i1 = i2 - 2;\n        dispX = pts[i2] - pts[i1];\n        dispY = pts[i2 + 1] - pts[i1 + 1];\n      } else {\n        var i2 = pts.length / 2 - 1;\n        var i1 = i2 - 2;\n        var i3 = i2 + 2;\n        dispX = pts[i2] - pts[i1];\n        dispY = pts[i2 + 1] - pts[i1 + 1];\n      }\n    } else if (isMultibezier || isCompound || isSelf) {\n      var pts = rs.allpts;\n      var cpts = rs.ctrlpts;\n      var bp0x, bp0y;\n      var bp1x, bp1y;\n      if (cpts.length / 2 % 2 === 0) {\n        var p0 = pts.length / 2 - 1; // startpt\n        var ic = p0 + 2;\n        var p1 = ic + 2;\n        bp0x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.0);\n        bp0y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0);\n        bp1x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.0001);\n        bp1y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.0001);\n      } else {\n        var ic = pts.length / 2 - 1; // ctrpt\n        var p0 = ic - 2; // startpt\n        var p1 = ic + 2; // endpt\n\n        bp0x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.4999);\n        bp0y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.4999);\n        bp1x = qbezierAt(pts[p0], pts[ic], pts[p1], 0.5);\n        bp1y = qbezierAt(pts[p0 + 1], pts[ic + 1], pts[p1 + 1], 0.5);\n      }\n      dispX = bp1x - bp0x;\n      dispY = bp1y - bp0y;\n    }\n    rs.midtgtArrowAngle = getAngleFromDisp(dispX, dispY);\n    rs.midDispX = dispX;\n    rs.midDispY = dispY;\n\n    // mid source\n    //\n\n    dispX *= -1;\n    dispY *= -1;\n    if (isSegments) {\n      var pts = rs.allpts;\n      if (pts.length / 2 % 2 === 0) ; else {\n        var i2 = pts.length / 2 - 1;\n        var i3 = i2 + 2;\n        dispX = -(pts[i3] - pts[i2]);\n        dispY = -(pts[i3 + 1] - pts[i2 + 1]);\n      }\n    }\n    rs.midsrcArrowAngle = getAngleFromDisp(dispX, dispY);\n\n    // target\n    //\n\n    if (isSegments) {\n      dispX = endX - rs.segpts[rs.segpts.length - 2];\n      dispY = endY - rs.segpts[rs.segpts.length - 1];\n    } else if (isMultibezier || isCompound || isSelf || isBezier) {\n      var pts = rs.allpts;\n      var l = pts.length;\n      var bX = qbezierAt(pts[l - 6], pts[l - 4], pts[l - 2], 0.9);\n      var bY = qbezierAt(pts[l - 5], pts[l - 3], pts[l - 1], 0.9);\n      dispX = endX - bX;\n      dispY = endY - bY;\n    } else {\n      dispX = endX - midX;\n      dispY = endY - midY;\n    }\n    rs.tgtArrowAngle = getAngleFromDisp(dispX, dispY);\n  };\n  BRp$d.getArrowWidth = BRp$d.getArrowHeight = function (edgeWidth, scale) {\n    var cache = this.arrowWidthCache = this.arrowWidthCache || {};\n    var cachedVal = cache[edgeWidth + ', ' + scale];\n    if (cachedVal) {\n      return cachedVal;\n    }\n    cachedVal = Math.max(Math.pow(edgeWidth * 13.37, 0.9), 29) * scale;\n    cache[edgeWidth + ', ' + scale] = cachedVal;\n    return cachedVal;\n  };\n\n  var BRp$c = {};\n  BRp$c.findMidptPtsEtc = function (edge, pairInfo) {\n    var posPts = pairInfo.posPts,\n      intersectionPts = pairInfo.intersectionPts,\n      vectorNormInverse = pairInfo.vectorNormInverse;\n    var midptPts;\n\n    // n.b. assumes all edges in bezier bundle have same endpoints specified\n    var srcManEndpt = edge.pstyle('source-endpoint');\n    var tgtManEndpt = edge.pstyle('target-endpoint');\n    var haveManualEndPts = srcManEndpt.units != null && tgtManEndpt.units != null;\n    var recalcVectorNormInverse = function recalcVectorNormInverse(x1, y1, x2, y2) {\n      var dy = y2 - y1;\n      var dx = x2 - x1;\n      var l = Math.sqrt(dx * dx + dy * dy);\n      return {\n        x: -dy / l,\n        y: dx / l\n      };\n    };\n    var edgeDistances = edge.pstyle('edge-distances').value;\n    switch (edgeDistances) {\n      case 'node-position':\n        midptPts = posPts;\n        break;\n      case 'intersection':\n        midptPts = intersectionPts;\n        break;\n      case 'endpoints':\n        {\n          if (haveManualEndPts) {\n            var _this$manualEndptToPx = this.manualEndptToPx(edge.source()[0], srcManEndpt),\n              _this$manualEndptToPx2 = _slicedToArray(_this$manualEndptToPx, 2),\n              x1 = _this$manualEndptToPx2[0],\n              y1 = _this$manualEndptToPx2[1];\n            var _this$manualEndptToPx3 = this.manualEndptToPx(edge.target()[0], tgtManEndpt),\n              _this$manualEndptToPx4 = _slicedToArray(_this$manualEndptToPx3, 2),\n              x2 = _this$manualEndptToPx4[0],\n              y2 = _this$manualEndptToPx4[1];\n            var endPts = {\n              x1: x1,\n              y1: y1,\n              x2: x2,\n              y2: y2\n            };\n            vectorNormInverse = recalcVectorNormInverse(x1, y1, x2, y2);\n            midptPts = endPts;\n          } else {\n            warn(\"Edge \".concat(edge.id(), \" has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).\"));\n            midptPts = intersectionPts; // back to default\n          }\n\n          break;\n        }\n    }\n    return {\n      midptPts: midptPts,\n      vectorNormInverse: vectorNormInverse\n    };\n  };\n  BRp$c.findHaystackPoints = function (edges) {\n    for (var i = 0; i < edges.length; i++) {\n      var edge = edges[i];\n      var _p = edge._private;\n      var rs = _p.rscratch;\n      if (!rs.haystack) {\n        var angle = Math.random() * 2 * Math.PI;\n        rs.source = {\n          x: Math.cos(angle),\n          y: Math.sin(angle)\n        };\n        angle = Math.random() * 2 * Math.PI;\n        rs.target = {\n          x: Math.cos(angle),\n          y: Math.sin(angle)\n        };\n      }\n      var src = _p.source;\n      var tgt = _p.target;\n      var srcPos = src.position();\n      var tgtPos = tgt.position();\n      var srcW = src.width();\n      var tgtW = tgt.width();\n      var srcH = src.height();\n      var tgtH = tgt.height();\n      var radius = edge.pstyle('haystack-radius').value;\n      var halfRadius = radius / 2; // b/c have to half width/height\n\n      rs.haystackPts = rs.allpts = [rs.source.x * srcW * halfRadius + srcPos.x, rs.source.y * srcH * halfRadius + srcPos.y, rs.target.x * tgtW * halfRadius + tgtPos.x, rs.target.y * tgtH * halfRadius + tgtPos.y];\n      rs.midX = (rs.allpts[0] + rs.allpts[2]) / 2;\n      rs.midY = (rs.allpts[1] + rs.allpts[3]) / 2;\n\n      // always override as haystack in case set to different type previously\n      rs.edgeType = 'haystack';\n      rs.haystack = true;\n      this.storeEdgeProjections(edge);\n      this.calculateArrowAngles(edge);\n      this.recalculateEdgeLabelProjections(edge);\n      this.calculateLabelAngles(edge);\n    }\n  };\n  BRp$c.findSegmentsPoints = function (edge, pairInfo) {\n    // Segments (multiple straight lines)\n\n    var rs = edge._private.rscratch;\n    var segmentWs = edge.pstyle('segment-weights');\n    var segmentDs = edge.pstyle('segment-distances');\n    var segmentsN = Math.min(segmentWs.pfValue.length, segmentDs.pfValue.length);\n    rs.edgeType = 'segments';\n    rs.segpts = [];\n    for (var s = 0; s < segmentsN; s++) {\n      var w = segmentWs.pfValue[s];\n      var d = segmentDs.pfValue[s];\n      var w1 = 1 - w;\n      var w2 = w;\n      var _this$findMidptPtsEtc = this.findMidptPtsEtc(edge, pairInfo),\n        midptPts = _this$findMidptPtsEtc.midptPts,\n        vectorNormInverse = _this$findMidptPtsEtc.vectorNormInverse;\n      var adjustedMidpt = {\n        x: midptPts.x1 * w1 + midptPts.x2 * w2,\n        y: midptPts.y1 * w1 + midptPts.y2 * w2\n      };\n      rs.segpts.push(adjustedMidpt.x + vectorNormInverse.x * d, adjustedMidpt.y + vectorNormInverse.y * d);\n    }\n  };\n  BRp$c.findLoopPoints = function (edge, pairInfo, i, edgeIsUnbundled) {\n    // Self-edge\n\n    var rs = edge._private.rscratch;\n    var dirCounts = pairInfo.dirCounts,\n      srcPos = pairInfo.srcPos;\n    var ctrlptDists = edge.pstyle('control-point-distances');\n    var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n    var loopDir = edge.pstyle('loop-direction').pfValue;\n    var loopSwp = edge.pstyle('loop-sweep').pfValue;\n    var stepSize = edge.pstyle('control-point-step-size').pfValue;\n    rs.edgeType = 'self';\n    var j = i;\n    var loopDist = stepSize;\n    if (edgeIsUnbundled) {\n      j = 0;\n      loopDist = ctrlptDist;\n    }\n    var loopAngle = loopDir - Math.PI / 2;\n    var outAngle = loopAngle - loopSwp / 2;\n    var inAngle = loopAngle + loopSwp / 2;\n\n    // increase by step size for overlapping loops, keyed on direction and sweep values\n    var dc = String(loopDir + '_' + loopSwp);\n    j = dirCounts[dc] === undefined ? dirCounts[dc] = 0 : ++dirCounts[dc];\n    rs.ctrlpts = [srcPos.x + Math.cos(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(outAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.x + Math.cos(inAngle) * 1.4 * loopDist * (j / 3 + 1), srcPos.y + Math.sin(inAngle) * 1.4 * loopDist * (j / 3 + 1)];\n  };\n  BRp$c.findCompoundLoopPoints = function (edge, pairInfo, i, edgeIsUnbundled) {\n    // Compound edge\n\n    var rs = edge._private.rscratch;\n    rs.edgeType = 'compound';\n    var srcPos = pairInfo.srcPos,\n      tgtPos = pairInfo.tgtPos,\n      srcW = pairInfo.srcW,\n      srcH = pairInfo.srcH,\n      tgtW = pairInfo.tgtW,\n      tgtH = pairInfo.tgtH;\n    var stepSize = edge.pstyle('control-point-step-size').pfValue;\n    var ctrlptDists = edge.pstyle('control-point-distances');\n    var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n    var j = i;\n    var loopDist = stepSize;\n    if (edgeIsUnbundled) {\n      j = 0;\n      loopDist = ctrlptDist;\n    }\n    var loopW = 50;\n    var loopaPos = {\n      x: srcPos.x - srcW / 2,\n      y: srcPos.y - srcH / 2\n    };\n    var loopbPos = {\n      x: tgtPos.x - tgtW / 2,\n      y: tgtPos.y - tgtH / 2\n    };\n    var loopPos = {\n      x: Math.min(loopaPos.x, loopbPos.x),\n      y: Math.min(loopaPos.y, loopbPos.y)\n    };\n\n    // avoids cases with impossible beziers\n    var minCompoundStretch = 0.5;\n    var compoundStretchA = Math.max(minCompoundStretch, Math.log(srcW * 0.01));\n    var compoundStretchB = Math.max(minCompoundStretch, Math.log(tgtW * 0.01));\n    rs.ctrlpts = [loopPos.x, loopPos.y - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchA, loopPos.x - (1 + Math.pow(loopW, 1.12) / 100) * loopDist * (j / 3 + 1) * compoundStretchB, loopPos.y];\n  };\n  BRp$c.findStraightEdgePoints = function (edge) {\n    // Straight edge within bundle\n\n    edge._private.rscratch.edgeType = 'straight';\n  };\n  BRp$c.findBezierPoints = function (edge, pairInfo, i, edgeIsUnbundled, edgeIsSwapped) {\n    var rs = edge._private.rscratch;\n    var stepSize = edge.pstyle('control-point-step-size').pfValue;\n    var ctrlptDists = edge.pstyle('control-point-distances');\n    var ctrlptWs = edge.pstyle('control-point-weights');\n    var bezierN = ctrlptDists && ctrlptWs ? Math.min(ctrlptDists.value.length, ctrlptWs.value.length) : 1;\n    var ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[0] : undefined;\n    var ctrlptWeight = ctrlptWs.value[0];\n\n    // (Multi)bezier\n\n    var multi = edgeIsUnbundled;\n    rs.edgeType = multi ? 'multibezier' : 'bezier';\n    rs.ctrlpts = [];\n    for (var b = 0; b < bezierN; b++) {\n      var normctrlptDist = (0.5 - pairInfo.eles.length / 2 + i) * stepSize * (edgeIsSwapped ? -1 : 1);\n      var manctrlptDist = void 0;\n      var sign = signum(normctrlptDist);\n      if (multi) {\n        ctrlptDist = ctrlptDists ? ctrlptDists.pfValue[b] : stepSize; // fall back on step size\n        ctrlptWeight = ctrlptWs.value[b];\n      }\n      if (edgeIsUnbundled) {\n        // multi or single unbundled\n        manctrlptDist = ctrlptDist;\n      } else {\n        manctrlptDist = ctrlptDist !== undefined ? sign * ctrlptDist : undefined;\n      }\n      var distanceFromMidpoint = manctrlptDist !== undefined ? manctrlptDist : normctrlptDist;\n      var w1 = 1 - ctrlptWeight;\n      var w2 = ctrlptWeight;\n      var _this$findMidptPtsEtc2 = this.findMidptPtsEtc(edge, pairInfo),\n        midptPts = _this$findMidptPtsEtc2.midptPts,\n        vectorNormInverse = _this$findMidptPtsEtc2.vectorNormInverse;\n      var adjustedMidpt = {\n        x: midptPts.x1 * w1 + midptPts.x2 * w2,\n        y: midptPts.y1 * w1 + midptPts.y2 * w2\n      };\n      rs.ctrlpts.push(adjustedMidpt.x + vectorNormInverse.x * distanceFromMidpoint, adjustedMidpt.y + vectorNormInverse.y * distanceFromMidpoint);\n    }\n  };\n  BRp$c.findTaxiPoints = function (edge, pairInfo) {\n    // Taxicab geometry with two turns maximum\n\n    var rs = edge._private.rscratch;\n    rs.edgeType = 'segments';\n    var VERTICAL = 'vertical';\n    var HORIZONTAL = 'horizontal';\n    var LEFTWARD = 'leftward';\n    var RIGHTWARD = 'rightward';\n    var DOWNWARD = 'downward';\n    var UPWARD = 'upward';\n    var AUTO = 'auto';\n    var posPts = pairInfo.posPts,\n      srcW = pairInfo.srcW,\n      srcH = pairInfo.srcH,\n      tgtW = pairInfo.tgtW,\n      tgtH = pairInfo.tgtH;\n    var edgeDistances = edge.pstyle('edge-distances').value;\n    var dIncludesNodeBody = edgeDistances !== 'node-position';\n    var taxiDir = edge.pstyle('taxi-direction').value;\n    var rawTaxiDir = taxiDir; // unprocessed value\n    var taxiTurn = edge.pstyle('taxi-turn');\n    var turnIsPercent = taxiTurn.units === '%';\n    var taxiTurnPfVal = taxiTurn.pfValue;\n    var turnIsNegative = taxiTurnPfVal < 0; // i.e. from target side\n    var minD = edge.pstyle('taxi-turn-min-distance').pfValue;\n    var dw = dIncludesNodeBody ? (srcW + tgtW) / 2 : 0;\n    var dh = dIncludesNodeBody ? (srcH + tgtH) / 2 : 0;\n    var pdx = posPts.x2 - posPts.x1;\n    var pdy = posPts.y2 - posPts.y1;\n\n    // take away the effective w/h from the magnitude of the delta value\n    var subDWH = function subDWH(dxy, dwh) {\n      if (dxy > 0) {\n        return Math.max(dxy - dwh, 0);\n      } else {\n        return Math.min(dxy + dwh, 0);\n      }\n    };\n    var dx = subDWH(pdx, dw);\n    var dy = subDWH(pdy, dh);\n    var isExplicitDir = false;\n    if (rawTaxiDir === AUTO) {\n      taxiDir = Math.abs(dx) > Math.abs(dy) ? HORIZONTAL : VERTICAL;\n    } else if (rawTaxiDir === UPWARD || rawTaxiDir === DOWNWARD) {\n      taxiDir = VERTICAL;\n      isExplicitDir = true;\n    } else if (rawTaxiDir === LEFTWARD || rawTaxiDir === RIGHTWARD) {\n      taxiDir = HORIZONTAL;\n      isExplicitDir = true;\n    }\n    var isVert = taxiDir === VERTICAL;\n    var l = isVert ? dy : dx;\n    var pl = isVert ? pdy : pdx;\n    var sgnL = signum(pl);\n    var forcedDir = false;\n    if (!(isExplicitDir && (turnIsPercent || turnIsNegative)) // forcing in this case would cause weird growing in the opposite direction\n    && (rawTaxiDir === DOWNWARD && pl < 0 || rawTaxiDir === UPWARD && pl > 0 || rawTaxiDir === LEFTWARD && pl > 0 || rawTaxiDir === RIGHTWARD && pl < 0)) {\n      sgnL *= -1;\n      l = sgnL * Math.abs(l);\n      forcedDir = true;\n    }\n    var d;\n    if (turnIsPercent) {\n      var p = taxiTurnPfVal < 0 ? 1 + taxiTurnPfVal : taxiTurnPfVal;\n      d = p * l;\n    } else {\n      var k = taxiTurnPfVal < 0 ? l : 0;\n      d = k + taxiTurnPfVal * sgnL;\n    }\n    var getIsTooClose = function getIsTooClose(d) {\n      return Math.abs(d) < minD || Math.abs(d) >= Math.abs(l);\n    };\n    var isTooCloseSrc = getIsTooClose(d);\n    var isTooCloseTgt = getIsTooClose(Math.abs(l) - Math.abs(d));\n    var isTooClose = isTooCloseSrc || isTooCloseTgt;\n    if (isTooClose && !forcedDir) {\n      // non-ideal routing\n      if (isVert) {\n        // vertical fallbacks\n        var lShapeInsideSrc = Math.abs(pl) <= srcH / 2;\n        var lShapeInsideTgt = Math.abs(pdx) <= tgtW / 2;\n        if (lShapeInsideSrc) {\n          // horizontal Z-shape (direction not respected)\n          var x = (posPts.x1 + posPts.x2) / 2;\n          var y1 = posPts.y1,\n            y2 = posPts.y2;\n          rs.segpts = [x, y1, x, y2];\n        } else if (lShapeInsideTgt) {\n          // vertical Z-shape (distance not respected)\n          var y = (posPts.y1 + posPts.y2) / 2;\n          var x1 = posPts.x1,\n            x2 = posPts.x2;\n          rs.segpts = [x1, y, x2, y];\n        } else {\n          // L-shape fallback (turn distance not respected, but works well with tree siblings)\n          rs.segpts = [posPts.x1, posPts.y2];\n        }\n      } else {\n        // horizontal fallbacks\n        var _lShapeInsideSrc = Math.abs(pl) <= srcW / 2;\n        var _lShapeInsideTgt = Math.abs(pdy) <= tgtH / 2;\n        if (_lShapeInsideSrc) {\n          // vertical Z-shape (direction not respected)\n          var _y = (posPts.y1 + posPts.y2) / 2;\n          var _x = posPts.x1,\n            _x2 = posPts.x2;\n          rs.segpts = [_x, _y, _x2, _y];\n        } else if (_lShapeInsideTgt) {\n          // horizontal Z-shape (turn distance not respected)\n          var _x3 = (posPts.x1 + posPts.x2) / 2;\n          var _y2 = posPts.y1,\n            _y3 = posPts.y2;\n          rs.segpts = [_x3, _y2, _x3, _y3];\n        } else {\n          // L-shape (turn distance not respected, but works well for tree siblings)\n          rs.segpts = [posPts.x2, posPts.y1];\n        }\n      }\n    } else {\n      // ideal routing\n      if (isVert) {\n        var _y4 = posPts.y1 + d + (dIncludesNodeBody ? srcH / 2 * sgnL : 0);\n        var _x4 = posPts.x1,\n          _x5 = posPts.x2;\n        rs.segpts = [_x4, _y4, _x5, _y4];\n      } else {\n        // horizontal\n        var _x6 = posPts.x1 + d + (dIncludesNodeBody ? srcW / 2 * sgnL : 0);\n        var _y5 = posPts.y1,\n          _y6 = posPts.y2;\n        rs.segpts = [_x6, _y5, _x6, _y6];\n      }\n    }\n  };\n  BRp$c.tryToCorrectInvalidPoints = function (edge, pairInfo) {\n    var rs = edge._private.rscratch;\n\n    // can only correct beziers for now...\n    if (rs.edgeType === 'bezier') {\n      var srcPos = pairInfo.srcPos,\n        tgtPos = pairInfo.tgtPos,\n        srcW = pairInfo.srcW,\n        srcH = pairInfo.srcH,\n        tgtW = pairInfo.tgtW,\n        tgtH = pairInfo.tgtH,\n        srcShape = pairInfo.srcShape,\n        tgtShape = pairInfo.tgtShape;\n      var badStart = !number$1(rs.startX) || !number$1(rs.startY);\n      var badAStart = !number$1(rs.arrowStartX) || !number$1(rs.arrowStartY);\n      var badEnd = !number$1(rs.endX) || !number$1(rs.endY);\n      var badAEnd = !number$1(rs.arrowEndX) || !number$1(rs.arrowEndY);\n      var minCpADistFactor = 3;\n      var arrowW = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n      var minCpADist = minCpADistFactor * arrowW;\n      var startACpDist = dist({\n        x: rs.ctrlpts[0],\n        y: rs.ctrlpts[1]\n      }, {\n        x: rs.startX,\n        y: rs.startY\n      });\n      var closeStartACp = startACpDist < minCpADist;\n      var endACpDist = dist({\n        x: rs.ctrlpts[0],\n        y: rs.ctrlpts[1]\n      }, {\n        x: rs.endX,\n        y: rs.endY\n      });\n      var closeEndACp = endACpDist < minCpADist;\n      var overlapping = false;\n      if (badStart || badAStart || closeStartACp) {\n        overlapping = true;\n\n        // project control point along line from src centre to outside the src shape\n        // (otherwise intersection will yield nothing)\n        var cpD = {\n          // delta\n          x: rs.ctrlpts[0] - srcPos.x,\n          y: rs.ctrlpts[1] - srcPos.y\n        };\n        var cpL = Math.sqrt(cpD.x * cpD.x + cpD.y * cpD.y); // length of line\n        var cpM = {\n          // normalised delta\n          x: cpD.x / cpL,\n          y: cpD.y / cpL\n        };\n        var radius = Math.max(srcW, srcH);\n        var cpProj = {\n          // *2 radius guarantees outside shape\n          x: rs.ctrlpts[0] + cpM.x * 2 * radius,\n          y: rs.ctrlpts[1] + cpM.y * 2 * radius\n        };\n        var srcCtrlPtIntn = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, cpProj.x, cpProj.y, 0);\n        if (closeStartACp) {\n          rs.ctrlpts[0] = rs.ctrlpts[0] + cpM.x * (minCpADist - startACpDist);\n          rs.ctrlpts[1] = rs.ctrlpts[1] + cpM.y * (minCpADist - startACpDist);\n        } else {\n          rs.ctrlpts[0] = srcCtrlPtIntn[0] + cpM.x * minCpADist;\n          rs.ctrlpts[1] = srcCtrlPtIntn[1] + cpM.y * minCpADist;\n        }\n      }\n      if (badEnd || badAEnd || closeEndACp) {\n        overlapping = true;\n\n        // project control point along line from tgt centre to outside the tgt shape\n        // (otherwise intersection will yield nothing)\n        var _cpD = {\n          // delta\n          x: rs.ctrlpts[0] - tgtPos.x,\n          y: rs.ctrlpts[1] - tgtPos.y\n        };\n        var _cpL = Math.sqrt(_cpD.x * _cpD.x + _cpD.y * _cpD.y); // length of line\n        var _cpM = {\n          // normalised delta\n          x: _cpD.x / _cpL,\n          y: _cpD.y / _cpL\n        };\n        var _radius = Math.max(srcW, srcH);\n        var _cpProj = {\n          // *2 radius guarantees outside shape\n          x: rs.ctrlpts[0] + _cpM.x * 2 * _radius,\n          y: rs.ctrlpts[1] + _cpM.y * 2 * _radius\n        };\n        var tgtCtrlPtIntn = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, _cpProj.x, _cpProj.y, 0);\n        if (closeEndACp) {\n          rs.ctrlpts[0] = rs.ctrlpts[0] + _cpM.x * (minCpADist - endACpDist);\n          rs.ctrlpts[1] = rs.ctrlpts[1] + _cpM.y * (minCpADist - endACpDist);\n        } else {\n          rs.ctrlpts[0] = tgtCtrlPtIntn[0] + _cpM.x * minCpADist;\n          rs.ctrlpts[1] = tgtCtrlPtIntn[1] + _cpM.y * minCpADist;\n        }\n      }\n      if (overlapping) {\n        // recalc endpts\n        this.findEndpoints(edge);\n      }\n    }\n  };\n  BRp$c.storeAllpts = function (edge) {\n    var rs = edge._private.rscratch;\n    if (rs.edgeType === 'multibezier' || rs.edgeType === 'bezier' || rs.edgeType === 'self' || rs.edgeType === 'compound') {\n      rs.allpts = [];\n      rs.allpts.push(rs.startX, rs.startY);\n      for (var b = 0; b + 1 < rs.ctrlpts.length; b += 2) {\n        // ctrl pt itself\n        rs.allpts.push(rs.ctrlpts[b], rs.ctrlpts[b + 1]);\n\n        // the midpt between ctrlpts as intermediate destination pts\n        if (b + 3 < rs.ctrlpts.length) {\n          rs.allpts.push((rs.ctrlpts[b] + rs.ctrlpts[b + 2]) / 2, (rs.ctrlpts[b + 1] + rs.ctrlpts[b + 3]) / 2);\n        }\n      }\n      rs.allpts.push(rs.endX, rs.endY);\n      var m, mt;\n      if (rs.ctrlpts.length / 2 % 2 === 0) {\n        m = rs.allpts.length / 2 - 1;\n        rs.midX = rs.allpts[m];\n        rs.midY = rs.allpts[m + 1];\n      } else {\n        m = rs.allpts.length / 2 - 3;\n        mt = 0.5;\n        rs.midX = qbezierAt(rs.allpts[m], rs.allpts[m + 2], rs.allpts[m + 4], mt);\n        rs.midY = qbezierAt(rs.allpts[m + 1], rs.allpts[m + 3], rs.allpts[m + 5], mt);\n      }\n    } else if (rs.edgeType === 'straight') {\n      // need to calc these after endpts\n      rs.allpts = [rs.startX, rs.startY, rs.endX, rs.endY];\n\n      // default midpt for labels etc\n      rs.midX = (rs.startX + rs.endX + rs.arrowStartX + rs.arrowEndX) / 4;\n      rs.midY = (rs.startY + rs.endY + rs.arrowStartY + rs.arrowEndY) / 4;\n    } else if (rs.edgeType === 'segments') {\n      rs.allpts = [];\n      rs.allpts.push(rs.startX, rs.startY);\n      rs.allpts.push.apply(rs.allpts, rs.segpts);\n      rs.allpts.push(rs.endX, rs.endY);\n      if (rs.segpts.length % 4 === 0) {\n        var i2 = rs.segpts.length / 2;\n        var i1 = i2 - 2;\n        rs.midX = (rs.segpts[i1] + rs.segpts[i2]) / 2;\n        rs.midY = (rs.segpts[i1 + 1] + rs.segpts[i2 + 1]) / 2;\n      } else {\n        var _i = rs.segpts.length / 2 - 1;\n        rs.midX = rs.segpts[_i];\n        rs.midY = rs.segpts[_i + 1];\n      }\n    }\n  };\n  BRp$c.checkForInvalidEdgeWarning = function (edge) {\n    var rs = edge[0]._private.rscratch;\n    if (rs.nodesOverlap || number$1(rs.startX) && number$1(rs.startY) && number$1(rs.endX) && number$1(rs.endY)) {\n      rs.loggedErr = false;\n    } else {\n      if (!rs.loggedErr) {\n        rs.loggedErr = true;\n        warn('Edge `' + edge.id() + '` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap.');\n      }\n    }\n  };\n  BRp$c.findEdgeControlPoints = function (edges) {\n    var _this = this;\n    if (!edges || edges.length === 0) {\n      return;\n    }\n    var r = this;\n    var cy = r.cy;\n    var hasCompounds = cy.hasCompoundNodes();\n    var hashTable = {\n      map: new Map$2(),\n      get: function get(pairId) {\n        var map2 = this.map.get(pairId[0]);\n        if (map2 != null) {\n          return map2.get(pairId[1]);\n        } else {\n          return null;\n        }\n      },\n      set: function set(pairId, val) {\n        var map2 = this.map.get(pairId[0]);\n        if (map2 == null) {\n          map2 = new Map$2();\n          this.map.set(pairId[0], map2);\n        }\n        map2.set(pairId[1], val);\n      }\n    };\n    var pairIds = [];\n    var haystackEdges = [];\n\n    // create a table of edge (src, tgt) => list of edges between them\n    for (var i = 0; i < edges.length; i++) {\n      var edge = edges[i];\n      var _p = edge._private;\n      var curveStyle = edge.pstyle('curve-style').value;\n\n      // ignore edges who are not to be displayed\n      // they shouldn't take up space\n      if (edge.removed() || !edge.takesUpSpace()) {\n        continue;\n      }\n      if (curveStyle === 'haystack') {\n        haystackEdges.push(edge);\n        continue;\n      }\n      var edgeIsUnbundled = curveStyle === 'unbundled-bezier' || curveStyle === 'segments' || curveStyle === 'straight' || curveStyle === 'straight-triangle' || curveStyle === 'taxi';\n      var edgeIsBezier = curveStyle === 'unbundled-bezier' || curveStyle === 'bezier';\n      var src = _p.source;\n      var tgt = _p.target;\n      var srcIndex = src.poolIndex();\n      var tgtIndex = tgt.poolIndex();\n      var pairId = [srcIndex, tgtIndex].sort();\n      var tableEntry = hashTable.get(pairId);\n      if (tableEntry == null) {\n        tableEntry = {\n          eles: []\n        };\n        hashTable.set(pairId, tableEntry);\n        pairIds.push(pairId);\n      }\n      tableEntry.eles.push(edge);\n      if (edgeIsUnbundled) {\n        tableEntry.hasUnbundled = true;\n      }\n      if (edgeIsBezier) {\n        tableEntry.hasBezier = true;\n      }\n    }\n\n    // for each pair (src, tgt), create the ctrl pts\n    // Nested for loop is OK; total number of iterations for both loops = edgeCount\n    var _loop = function _loop(p) {\n      var pairId = pairIds[p];\n      var pairInfo = hashTable.get(pairId);\n      var swappedpairInfo = void 0;\n      if (!pairInfo.hasUnbundled) {\n        var pllEdges = pairInfo.eles[0].parallelEdges().filter(function (e) {\n          return e.isBundledBezier();\n        });\n        clearArray(pairInfo.eles);\n        pllEdges.forEach(function (edge) {\n          return pairInfo.eles.push(edge);\n        });\n\n        // for each pair id, the edges should be sorted by index\n        pairInfo.eles.sort(function (edge1, edge2) {\n          return edge1.poolIndex() - edge2.poolIndex();\n        });\n      }\n      var firstEdge = pairInfo.eles[0];\n      var src = firstEdge.source();\n      var tgt = firstEdge.target();\n\n      // make sure src/tgt distinction is consistent w.r.t. pairId\n      if (src.poolIndex() > tgt.poolIndex()) {\n        var temp = src;\n        src = tgt;\n        tgt = temp;\n      }\n      var srcPos = pairInfo.srcPos = src.position();\n      var tgtPos = pairInfo.tgtPos = tgt.position();\n      var srcW = pairInfo.srcW = src.outerWidth();\n      var srcH = pairInfo.srcH = src.outerHeight();\n      var tgtW = pairInfo.tgtW = tgt.outerWidth();\n      var tgtH = pairInfo.tgtH = tgt.outerHeight();\n      var srcShape = pairInfo.srcShape = r.nodeShapes[_this.getNodeShape(src)];\n      var tgtShape = pairInfo.tgtShape = r.nodeShapes[_this.getNodeShape(tgt)];\n      pairInfo.dirCounts = {\n        'north': 0,\n        'west': 0,\n        'south': 0,\n        'east': 0,\n        'northwest': 0,\n        'southwest': 0,\n        'northeast': 0,\n        'southeast': 0\n      };\n      for (var _i2 = 0; _i2 < pairInfo.eles.length; _i2++) {\n        var _edge = pairInfo.eles[_i2];\n        var rs = _edge[0]._private.rscratch;\n        var _curveStyle = _edge.pstyle('curve-style').value;\n        var _edgeIsUnbundled = _curveStyle === 'unbundled-bezier' || _curveStyle === 'segments' || _curveStyle === 'taxi';\n\n        // whether the normalised pair order is the reverse of the edge's src-tgt order\n        var edgeIsSwapped = !src.same(_edge.source());\n        if (!pairInfo.calculatedIntersection && src !== tgt && (pairInfo.hasBezier || pairInfo.hasUnbundled)) {\n          pairInfo.calculatedIntersection = true;\n\n          // pt outside src shape to calc distance/displacement from src to tgt\n          var srcOutside = srcShape.intersectLine(srcPos.x, srcPos.y, srcW, srcH, tgtPos.x, tgtPos.y, 0);\n          var srcIntn = pairInfo.srcIntn = srcOutside;\n\n          // pt outside tgt shape to calc distance/displacement from src to tgt\n          var tgtOutside = tgtShape.intersectLine(tgtPos.x, tgtPos.y, tgtW, tgtH, srcPos.x, srcPos.y, 0);\n          var tgtIntn = pairInfo.tgtIntn = tgtOutside;\n          var intersectionPts = pairInfo.intersectionPts = {\n            x1: srcOutside[0],\n            x2: tgtOutside[0],\n            y1: srcOutside[1],\n            y2: tgtOutside[1]\n          };\n          var posPts = pairInfo.posPts = {\n            x1: srcPos.x,\n            x2: tgtPos.x,\n            y1: srcPos.y,\n            y2: tgtPos.y\n          };\n          var dy = tgtOutside[1] - srcOutside[1];\n          var dx = tgtOutside[0] - srcOutside[0];\n          var l = Math.sqrt(dx * dx + dy * dy);\n          var vector = pairInfo.vector = {\n            x: dx,\n            y: dy\n          };\n          var vectorNorm = pairInfo.vectorNorm = {\n            x: vector.x / l,\n            y: vector.y / l\n          };\n          var vectorNormInverse = {\n            x: -vectorNorm.y,\n            y: vectorNorm.x\n          };\n\n          // if node shapes overlap, then no ctrl pts to draw\n          pairInfo.nodesOverlap = !number$1(l) || tgtShape.checkPoint(srcOutside[0], srcOutside[1], 0, tgtW, tgtH, tgtPos.x, tgtPos.y) || srcShape.checkPoint(tgtOutside[0], tgtOutside[1], 0, srcW, srcH, srcPos.x, srcPos.y);\n          pairInfo.vectorNormInverse = vectorNormInverse;\n          swappedpairInfo = {\n            nodesOverlap: pairInfo.nodesOverlap,\n            dirCounts: pairInfo.dirCounts,\n            calculatedIntersection: true,\n            hasBezier: pairInfo.hasBezier,\n            hasUnbundled: pairInfo.hasUnbundled,\n            eles: pairInfo.eles,\n            srcPos: tgtPos,\n            tgtPos: srcPos,\n            srcW: tgtW,\n            srcH: tgtH,\n            tgtW: srcW,\n            tgtH: srcH,\n            srcIntn: tgtIntn,\n            tgtIntn: srcIntn,\n            srcShape: tgtShape,\n            tgtShape: srcShape,\n            posPts: {\n              x1: posPts.x2,\n              y1: posPts.y2,\n              x2: posPts.x1,\n              y2: posPts.y1\n            },\n            intersectionPts: {\n              x1: intersectionPts.x2,\n              y1: intersectionPts.y2,\n              x2: intersectionPts.x1,\n              y2: intersectionPts.y1\n            },\n            vector: {\n              x: -vector.x,\n              y: -vector.y\n            },\n            vectorNorm: {\n              x: -vectorNorm.x,\n              y: -vectorNorm.y\n            },\n            vectorNormInverse: {\n              x: -vectorNormInverse.x,\n              y: -vectorNormInverse.y\n            }\n          };\n        }\n        var passedPairInfo = edgeIsSwapped ? swappedpairInfo : pairInfo;\n        rs.nodesOverlap = passedPairInfo.nodesOverlap;\n        rs.srcIntn = passedPairInfo.srcIntn;\n        rs.tgtIntn = passedPairInfo.tgtIntn;\n        if (hasCompounds && (src.isParent() || src.isChild() || tgt.isParent() || tgt.isChild()) && (src.parents().anySame(tgt) || tgt.parents().anySame(src) || src.same(tgt) && src.isParent())) {\n          _this.findCompoundLoopPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled);\n        } else if (src === tgt) {\n          _this.findLoopPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled);\n        } else if (_curveStyle === 'segments') {\n          _this.findSegmentsPoints(_edge, passedPairInfo);\n        } else if (_curveStyle === 'taxi') {\n          _this.findTaxiPoints(_edge, passedPairInfo);\n        } else if (_curveStyle === 'straight' || !_edgeIsUnbundled && pairInfo.eles.length % 2 === 1 && _i2 === Math.floor(pairInfo.eles.length / 2)) {\n          _this.findStraightEdgePoints(_edge);\n        } else {\n          _this.findBezierPoints(_edge, passedPairInfo, _i2, _edgeIsUnbundled, edgeIsSwapped);\n        }\n        _this.findEndpoints(_edge);\n        _this.tryToCorrectInvalidPoints(_edge, passedPairInfo);\n        _this.checkForInvalidEdgeWarning(_edge);\n        _this.storeAllpts(_edge);\n        _this.storeEdgeProjections(_edge);\n        _this.calculateArrowAngles(_edge);\n        _this.recalculateEdgeLabelProjections(_edge);\n        _this.calculateLabelAngles(_edge);\n      } // for pair edges\n    };\n    for (var p = 0; p < pairIds.length; p++) {\n      _loop(p);\n    } // for pair ids\n\n    // haystacks avoid the expense of pairInfo stuff (intersections etc.)\n    this.findHaystackPoints(haystackEdges);\n  };\n  function getPts(pts) {\n    var retPts = [];\n    if (pts == null) {\n      return;\n    }\n    for (var i = 0; i < pts.length; i += 2) {\n      var x = pts[i];\n      var y = pts[i + 1];\n      retPts.push({\n        x: x,\n        y: y\n      });\n    }\n    return retPts;\n  }\n  BRp$c.getSegmentPoints = function (edge) {\n    var rs = edge[0]._private.rscratch;\n    var type = rs.edgeType;\n    if (type === 'segments') {\n      this.recalculateRenderedStyle(edge);\n      return getPts(rs.segpts);\n    }\n  };\n  BRp$c.getControlPoints = function (edge) {\n    var rs = edge[0]._private.rscratch;\n    var type = rs.edgeType;\n    if (type === 'bezier' || type === 'multibezier' || type === 'self' || type === 'compound') {\n      this.recalculateRenderedStyle(edge);\n      return getPts(rs.ctrlpts);\n    }\n  };\n  BRp$c.getEdgeMidpoint = function (edge) {\n    var rs = edge[0]._private.rscratch;\n    this.recalculateRenderedStyle(edge);\n    return {\n      x: rs.midX,\n      y: rs.midY\n    };\n  };\n\n  var BRp$b = {};\n  BRp$b.manualEndptToPx = function (node, prop) {\n    var r = this;\n    var npos = node.position();\n    var w = node.outerWidth();\n    var h = node.outerHeight();\n    if (prop.value.length === 2) {\n      var p = [prop.pfValue[0], prop.pfValue[1]];\n      if (prop.units[0] === '%') {\n        p[0] = p[0] * w;\n      }\n      if (prop.units[1] === '%') {\n        p[1] = p[1] * h;\n      }\n      p[0] += npos.x;\n      p[1] += npos.y;\n      return p;\n    } else {\n      var angle = prop.pfValue[0];\n      angle = -Math.PI / 2 + angle; // start at 12 o'clock\n\n      var l = 2 * Math.max(w, h);\n      var _p = [npos.x + Math.cos(angle) * l, npos.y + Math.sin(angle) * l];\n      return r.nodeShapes[this.getNodeShape(node)].intersectLine(npos.x, npos.y, w, h, _p[0], _p[1], 0);\n    }\n  };\n  BRp$b.findEndpoints = function (edge) {\n    var r = this;\n    var intersect;\n    var source = edge.source()[0];\n    var target = edge.target()[0];\n    var srcPos = source.position();\n    var tgtPos = target.position();\n    var tgtArShape = edge.pstyle('target-arrow-shape').value;\n    var srcArShape = edge.pstyle('source-arrow-shape').value;\n    var tgtDist = edge.pstyle('target-distance-from-node').pfValue;\n    var srcDist = edge.pstyle('source-distance-from-node').pfValue;\n    var curveStyle = edge.pstyle('curve-style').value;\n    var rs = edge._private.rscratch;\n    var et = rs.edgeType;\n    var taxi = curveStyle === 'taxi';\n    var self = et === 'self' || et === 'compound';\n    var bezier = et === 'bezier' || et === 'multibezier' || self;\n    var multi = et !== 'bezier';\n    var lines = et === 'straight' || et === 'segments';\n    var segments = et === 'segments';\n    var hasEndpts = bezier || multi || lines;\n    var overrideEndpts = self || taxi;\n    var srcManEndpt = edge.pstyle('source-endpoint');\n    var srcManEndptVal = overrideEndpts ? 'outside-to-node' : srcManEndpt.value;\n    var tgtManEndpt = edge.pstyle('target-endpoint');\n    var tgtManEndptVal = overrideEndpts ? 'outside-to-node' : tgtManEndpt.value;\n    rs.srcManEndpt = srcManEndpt;\n    rs.tgtManEndpt = tgtManEndpt;\n    var p1; // last known point of edge on target side\n    var p2; // last known point of edge on source side\n\n    var p1_i; // point to intersect with target shape\n    var p2_i; // point to intersect with source shape\n\n    if (bezier) {\n      var cpStart = [rs.ctrlpts[0], rs.ctrlpts[1]];\n      var cpEnd = multi ? [rs.ctrlpts[rs.ctrlpts.length - 2], rs.ctrlpts[rs.ctrlpts.length - 1]] : cpStart;\n      p1 = cpEnd;\n      p2 = cpStart;\n    } else if (lines) {\n      var srcArrowFromPt = !segments ? [tgtPos.x, tgtPos.y] : rs.segpts.slice(0, 2);\n      var tgtArrowFromPt = !segments ? [srcPos.x, srcPos.y] : rs.segpts.slice(rs.segpts.length - 2);\n      p1 = tgtArrowFromPt;\n      p2 = srcArrowFromPt;\n    }\n    if (tgtManEndptVal === 'inside-to-node') {\n      intersect = [tgtPos.x, tgtPos.y];\n    } else if (tgtManEndpt.units) {\n      intersect = this.manualEndptToPx(target, tgtManEndpt);\n    } else if (tgtManEndptVal === 'outside-to-line') {\n      intersect = rs.tgtIntn; // use cached value from ctrlpt calc\n    } else {\n      if (tgtManEndptVal === 'outside-to-node' || tgtManEndptVal === 'outside-to-node-or-label') {\n        p1_i = p1;\n      } else if (tgtManEndptVal === 'outside-to-line' || tgtManEndptVal === 'outside-to-line-or-label') {\n        p1_i = [srcPos.x, srcPos.y];\n      }\n      intersect = r.nodeShapes[this.getNodeShape(target)].intersectLine(tgtPos.x, tgtPos.y, target.outerWidth(), target.outerHeight(), p1_i[0], p1_i[1], 0);\n      if (tgtManEndptVal === 'outside-to-node-or-label' || tgtManEndptVal === 'outside-to-line-or-label') {\n        var trs = target._private.rscratch;\n        var lw = trs.labelWidth;\n        var lh = trs.labelHeight;\n        var lx = trs.labelX;\n        var ly = trs.labelY;\n        var lw2 = lw / 2;\n        var lh2 = lh / 2;\n        var va = target.pstyle('text-valign').value;\n        if (va === 'top') {\n          ly -= lh2;\n        } else if (va === 'bottom') {\n          ly += lh2;\n        }\n        var ha = target.pstyle('text-halign').value;\n        if (ha === 'left') {\n          lx -= lw2;\n        } else if (ha === 'right') {\n          lx += lw2;\n        }\n        var labelIntersect = polygonIntersectLine(p1_i[0], p1_i[1], [lx - lw2, ly - lh2, lx + lw2, ly - lh2, lx + lw2, ly + lh2, lx - lw2, ly + lh2], tgtPos.x, tgtPos.y);\n        if (labelIntersect.length > 0) {\n          var refPt = srcPos;\n          var intSqdist = sqdist(refPt, array2point(intersect));\n          var labIntSqdist = sqdist(refPt, array2point(labelIntersect));\n          var minSqDist = intSqdist;\n          if (labIntSqdist < intSqdist) {\n            intersect = labelIntersect;\n            minSqDist = labIntSqdist;\n          }\n          if (labelIntersect.length > 2) {\n            var labInt2SqDist = sqdist(refPt, {\n              x: labelIntersect[2],\n              y: labelIntersect[3]\n            });\n            if (labInt2SqDist < minSqDist) {\n              intersect = [labelIntersect[2], labelIntersect[3]];\n            }\n          }\n        }\n      }\n    }\n    var arrowEnd = shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].spacing(edge) + tgtDist);\n    var edgeEnd = shortenIntersection(intersect, p1, r.arrowShapes[tgtArShape].gap(edge) + tgtDist);\n    rs.endX = edgeEnd[0];\n    rs.endY = edgeEnd[1];\n    rs.arrowEndX = arrowEnd[0];\n    rs.arrowEndY = arrowEnd[1];\n    if (srcManEndptVal === 'inside-to-node') {\n      intersect = [srcPos.x, srcPos.y];\n    } else if (srcManEndpt.units) {\n      intersect = this.manualEndptToPx(source, srcManEndpt);\n    } else if (srcManEndptVal === 'outside-to-line') {\n      intersect = rs.srcIntn; // use cached value from ctrlpt calc\n    } else {\n      if (srcManEndptVal === 'outside-to-node' || srcManEndptVal === 'outside-to-node-or-label') {\n        p2_i = p2;\n      } else if (srcManEndptVal === 'outside-to-line' || srcManEndptVal === 'outside-to-line-or-label') {\n        p2_i = [tgtPos.x, tgtPos.y];\n      }\n      intersect = r.nodeShapes[this.getNodeShape(source)].intersectLine(srcPos.x, srcPos.y, source.outerWidth(), source.outerHeight(), p2_i[0], p2_i[1], 0);\n      if (srcManEndptVal === 'outside-to-node-or-label' || srcManEndptVal === 'outside-to-line-or-label') {\n        var srs = source._private.rscratch;\n        var _lw = srs.labelWidth;\n        var _lh = srs.labelHeight;\n        var _lx = srs.labelX;\n        var _ly = srs.labelY;\n        var _lw2 = _lw / 2;\n        var _lh2 = _lh / 2;\n        var _va = source.pstyle('text-valign').value;\n        if (_va === 'top') {\n          _ly -= _lh2;\n        } else if (_va === 'bottom') {\n          _ly += _lh2;\n        }\n        var _ha = source.pstyle('text-halign').value;\n        if (_ha === 'left') {\n          _lx -= _lw2;\n        } else if (_ha === 'right') {\n          _lx += _lw2;\n        }\n        var _labelIntersect = polygonIntersectLine(p2_i[0], p2_i[1], [_lx - _lw2, _ly - _lh2, _lx + _lw2, _ly - _lh2, _lx + _lw2, _ly + _lh2, _lx - _lw2, _ly + _lh2], srcPos.x, srcPos.y);\n        if (_labelIntersect.length > 0) {\n          var _refPt = tgtPos;\n          var _intSqdist = sqdist(_refPt, array2point(intersect));\n          var _labIntSqdist = sqdist(_refPt, array2point(_labelIntersect));\n          var _minSqDist = _intSqdist;\n          if (_labIntSqdist < _intSqdist) {\n            intersect = [_labelIntersect[0], _labelIntersect[1]];\n            _minSqDist = _labIntSqdist;\n          }\n          if (_labelIntersect.length > 2) {\n            var _labInt2SqDist = sqdist(_refPt, {\n              x: _labelIntersect[2],\n              y: _labelIntersect[3]\n            });\n            if (_labInt2SqDist < _minSqDist) {\n              intersect = [_labelIntersect[2], _labelIntersect[3]];\n            }\n          }\n        }\n      }\n    }\n    var arrowStart = shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].spacing(edge) + srcDist);\n    var edgeStart = shortenIntersection(intersect, p2, r.arrowShapes[srcArShape].gap(edge) + srcDist);\n    rs.startX = edgeStart[0];\n    rs.startY = edgeStart[1];\n    rs.arrowStartX = arrowStart[0];\n    rs.arrowStartY = arrowStart[1];\n    if (hasEndpts) {\n      if (!number$1(rs.startX) || !number$1(rs.startY) || !number$1(rs.endX) || !number$1(rs.endY)) {\n        rs.badLine = true;\n      } else {\n        rs.badLine = false;\n      }\n    }\n  };\n  BRp$b.getSourceEndpoint = function (edge) {\n    var rs = edge[0]._private.rscratch;\n    this.recalculateRenderedStyle(edge);\n    switch (rs.edgeType) {\n      case 'haystack':\n        return {\n          x: rs.haystackPts[0],\n          y: rs.haystackPts[1]\n        };\n      default:\n        return {\n          x: rs.arrowStartX,\n          y: rs.arrowStartY\n        };\n    }\n  };\n  BRp$b.getTargetEndpoint = function (edge) {\n    var rs = edge[0]._private.rscratch;\n    this.recalculateRenderedStyle(edge);\n    switch (rs.edgeType) {\n      case 'haystack':\n        return {\n          x: rs.haystackPts[2],\n          y: rs.haystackPts[3]\n        };\n      default:\n        return {\n          x: rs.arrowEndX,\n          y: rs.arrowEndY\n        };\n    }\n  };\n\n  var BRp$a = {};\n  function pushBezierPts(r, edge, pts) {\n    var qbezierAt$1 = function qbezierAt$1(p1, p2, p3, t) {\n      return qbezierAt(p1, p2, p3, t);\n    };\n    var _p = edge._private;\n    var bpts = _p.rstyle.bezierPts;\n    for (var i = 0; i < r.bezierProjPcts.length; i++) {\n      var p = r.bezierProjPcts[i];\n      bpts.push({\n        x: qbezierAt$1(pts[0], pts[2], pts[4], p),\n        y: qbezierAt$1(pts[1], pts[3], pts[5], p)\n      });\n    }\n  }\n  BRp$a.storeEdgeProjections = function (edge) {\n    var _p = edge._private;\n    var rs = _p.rscratch;\n    var et = rs.edgeType;\n\n    // clear the cached points state\n    _p.rstyle.bezierPts = null;\n    _p.rstyle.linePts = null;\n    _p.rstyle.haystackPts = null;\n    if (et === 'multibezier' || et === 'bezier' || et === 'self' || et === 'compound') {\n      _p.rstyle.bezierPts = [];\n      for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n        pushBezierPts(this, edge, rs.allpts.slice(i, i + 6));\n      }\n    } else if (et === 'segments') {\n      var lpts = _p.rstyle.linePts = [];\n      for (var i = 0; i + 1 < rs.allpts.length; i += 2) {\n        lpts.push({\n          x: rs.allpts[i],\n          y: rs.allpts[i + 1]\n        });\n      }\n    } else if (et === 'haystack') {\n      var hpts = rs.haystackPts;\n      _p.rstyle.haystackPts = [{\n        x: hpts[0],\n        y: hpts[1]\n      }, {\n        x: hpts[2],\n        y: hpts[3]\n      }];\n    }\n    _p.rstyle.arrowWidth = this.getArrowWidth(edge.pstyle('width').pfValue, edge.pstyle('arrow-scale').value) * this.arrowShapeWidth;\n  };\n  BRp$a.recalculateEdgeProjections = function (edges) {\n    this.findEdgeControlPoints(edges);\n  };\n\n  /* global document */\n\n  var BRp$9 = {};\n  BRp$9.recalculateNodeLabelProjection = function (node) {\n    var content = node.pstyle('label').strValue;\n    if (emptyString(content)) {\n      return;\n    }\n    var textX, textY;\n    var _p = node._private;\n    var nodeWidth = node.width();\n    var nodeHeight = node.height();\n    var padding = node.padding();\n    var nodePos = node.position();\n    var textHalign = node.pstyle('text-halign').strValue;\n    var textValign = node.pstyle('text-valign').strValue;\n    var rs = _p.rscratch;\n    var rstyle = _p.rstyle;\n    switch (textHalign) {\n      case 'left':\n        textX = nodePos.x - nodeWidth / 2 - padding;\n        break;\n      case 'right':\n        textX = nodePos.x + nodeWidth / 2 + padding;\n        break;\n      default:\n        // e.g. center\n        textX = nodePos.x;\n    }\n    switch (textValign) {\n      case 'top':\n        textY = nodePos.y - nodeHeight / 2 - padding;\n        break;\n      case 'bottom':\n        textY = nodePos.y + nodeHeight / 2 + padding;\n        break;\n      default:\n        // e.g. middle\n        textY = nodePos.y;\n    }\n    rs.labelX = textX;\n    rs.labelY = textY;\n    rstyle.labelX = textX;\n    rstyle.labelY = textY;\n    this.calculateLabelAngles(node);\n    this.applyLabelDimensions(node);\n  };\n  var lineAngleFromDelta = function lineAngleFromDelta(dx, dy) {\n    var angle = Math.atan(dy / dx);\n    if (dx === 0 && angle < 0) {\n      angle = angle * -1;\n    }\n    return angle;\n  };\n  var lineAngle = function lineAngle(p0, p1) {\n    var dx = p1.x - p0.x;\n    var dy = p1.y - p0.y;\n    return lineAngleFromDelta(dx, dy);\n  };\n  var bezierAngle = function bezierAngle(p0, p1, p2, t) {\n    var t0 = bound(0, t - 0.001, 1);\n    var t1 = bound(0, t + 0.001, 1);\n    var lp0 = qbezierPtAt(p0, p1, p2, t0);\n    var lp1 = qbezierPtAt(p0, p1, p2, t1);\n    return lineAngle(lp0, lp1);\n  };\n  BRp$9.recalculateEdgeLabelProjections = function (edge) {\n    var p;\n    var _p = edge._private;\n    var rs = _p.rscratch;\n    var r = this;\n    var content = {\n      mid: edge.pstyle('label').strValue,\n      source: edge.pstyle('source-label').strValue,\n      target: edge.pstyle('target-label').strValue\n    };\n    if (content.mid || content.source || content.target) ; else {\n      return; // no labels => no calcs\n    }\n\n    // add center point to style so bounding box calculations can use it\n    //\n    p = {\n      x: rs.midX,\n      y: rs.midY\n    };\n    var setRs = function setRs(propName, prefix, value) {\n      setPrefixedProperty(_p.rscratch, propName, prefix, value);\n      setPrefixedProperty(_p.rstyle, propName, prefix, value);\n    };\n    setRs('labelX', null, p.x);\n    setRs('labelY', null, p.y);\n    var midAngle = lineAngleFromDelta(rs.midDispX, rs.midDispY);\n    setRs('labelAutoAngle', null, midAngle);\n    var createControlPointInfo = function createControlPointInfo() {\n      if (createControlPointInfo.cache) {\n        return createControlPointInfo.cache;\n      } // use cache so only 1x per edge\n\n      var ctrlpts = [];\n\n      // store each ctrlpt info init\n      for (var i = 0; i + 5 < rs.allpts.length; i += 4) {\n        var p0 = {\n          x: rs.allpts[i],\n          y: rs.allpts[i + 1]\n        };\n        var p1 = {\n          x: rs.allpts[i + 2],\n          y: rs.allpts[i + 3]\n        }; // ctrlpt\n        var p2 = {\n          x: rs.allpts[i + 4],\n          y: rs.allpts[i + 5]\n        };\n        ctrlpts.push({\n          p0: p0,\n          p1: p1,\n          p2: p2,\n          startDist: 0,\n          length: 0,\n          segments: []\n        });\n      }\n      var bpts = _p.rstyle.bezierPts;\n      var nProjs = r.bezierProjPcts.length;\n      function addSegment(cp, p0, p1, t0, t1) {\n        var length = dist(p0, p1);\n        var prevSegment = cp.segments[cp.segments.length - 1];\n        var segment = {\n          p0: p0,\n          p1: p1,\n          t0: t0,\n          t1: t1,\n          startDist: prevSegment ? prevSegment.startDist + prevSegment.length : 0,\n          length: length\n        };\n        cp.segments.push(segment);\n        cp.length += length;\n      }\n\n      // update each ctrlpt with segment info\n      for (var _i = 0; _i < ctrlpts.length; _i++) {\n        var cp = ctrlpts[_i];\n        var prevCp = ctrlpts[_i - 1];\n        if (prevCp) {\n          cp.startDist = prevCp.startDist + prevCp.length;\n        }\n        addSegment(cp, cp.p0, bpts[_i * nProjs], 0, r.bezierProjPcts[0]); // first\n\n        for (var j = 0; j < nProjs - 1; j++) {\n          addSegment(cp, bpts[_i * nProjs + j], bpts[_i * nProjs + j + 1], r.bezierProjPcts[j], r.bezierProjPcts[j + 1]);\n        }\n        addSegment(cp, bpts[_i * nProjs + nProjs - 1], cp.p2, r.bezierProjPcts[nProjs - 1], 1); // last\n      }\n\n      return createControlPointInfo.cache = ctrlpts;\n    };\n    var calculateEndProjection = function calculateEndProjection(prefix) {\n      var angle;\n      var isSrc = prefix === 'source';\n      if (!content[prefix]) {\n        return;\n      }\n      var offset = edge.pstyle(prefix + '-text-offset').pfValue;\n      switch (rs.edgeType) {\n        case 'self':\n        case 'compound':\n        case 'bezier':\n        case 'multibezier':\n          {\n            var cps = createControlPointInfo();\n            var selected;\n            var startDist = 0;\n            var totalDist = 0;\n\n            // find the segment we're on\n            for (var i = 0; i < cps.length; i++) {\n              var _cp = cps[isSrc ? i : cps.length - 1 - i];\n              for (var j = 0; j < _cp.segments.length; j++) {\n                var _seg = _cp.segments[isSrc ? j : _cp.segments.length - 1 - j];\n                var lastSeg = i === cps.length - 1 && j === _cp.segments.length - 1;\n                startDist = totalDist;\n                totalDist += _seg.length;\n                if (totalDist >= offset || lastSeg) {\n                  selected = {\n                    cp: _cp,\n                    segment: _seg\n                  };\n                  break;\n                }\n              }\n              if (selected) {\n                break;\n              }\n            }\n            var cp = selected.cp;\n            var seg = selected.segment;\n            var tSegment = (offset - startDist) / seg.length;\n            var segDt = seg.t1 - seg.t0;\n            var t = isSrc ? seg.t0 + segDt * tSegment : seg.t1 - segDt * tSegment;\n            t = bound(0, t, 1);\n            p = qbezierPtAt(cp.p0, cp.p1, cp.p2, t);\n            angle = bezierAngle(cp.p0, cp.p1, cp.p2, t);\n            break;\n          }\n        case 'straight':\n        case 'segments':\n        case 'haystack':\n          {\n            var d = 0,\n              di,\n              d0;\n            var p0, p1;\n            var l = rs.allpts.length;\n            for (var _i2 = 0; _i2 + 3 < l; _i2 += 2) {\n              if (isSrc) {\n                p0 = {\n                  x: rs.allpts[_i2],\n                  y: rs.allpts[_i2 + 1]\n                };\n                p1 = {\n                  x: rs.allpts[_i2 + 2],\n                  y: rs.allpts[_i2 + 3]\n                };\n              } else {\n                p0 = {\n                  x: rs.allpts[l - 2 - _i2],\n                  y: rs.allpts[l - 1 - _i2]\n                };\n                p1 = {\n                  x: rs.allpts[l - 4 - _i2],\n                  y: rs.allpts[l - 3 - _i2]\n                };\n              }\n              di = dist(p0, p1);\n              d0 = d;\n              d += di;\n              if (d >= offset) {\n                break;\n              }\n            }\n            var pD = offset - d0;\n            var _t = pD / di;\n            _t = bound(0, _t, 1);\n            p = lineAt(p0, p1, _t);\n            angle = lineAngle(p0, p1);\n            break;\n          }\n      }\n      setRs('labelX', prefix, p.x);\n      setRs('labelY', prefix, p.y);\n      setRs('labelAutoAngle', prefix, angle);\n    };\n    calculateEndProjection('source');\n    calculateEndProjection('target');\n    this.applyLabelDimensions(edge);\n  };\n  BRp$9.applyLabelDimensions = function (ele) {\n    this.applyPrefixedLabelDimensions(ele);\n    if (ele.isEdge()) {\n      this.applyPrefixedLabelDimensions(ele, 'source');\n      this.applyPrefixedLabelDimensions(ele, 'target');\n    }\n  };\n  BRp$9.applyPrefixedLabelDimensions = function (ele, prefix) {\n    var _p = ele._private;\n    var text = this.getLabelText(ele, prefix);\n    var labelDims = this.calculateLabelDimensions(ele, text);\n    var lineHeight = ele.pstyle('line-height').pfValue;\n    var textWrap = ele.pstyle('text-wrap').strValue;\n    var lines = getPrefixedProperty(_p.rscratch, 'labelWrapCachedLines', prefix) || [];\n    var numLines = textWrap !== 'wrap' ? 1 : Math.max(lines.length, 1);\n    var normPerLineHeight = labelDims.height / numLines;\n    var labelLineHeight = normPerLineHeight * lineHeight;\n    var width = labelDims.width;\n    var height = labelDims.height + (numLines - 1) * (lineHeight - 1) * normPerLineHeight;\n    setPrefixedProperty(_p.rstyle, 'labelWidth', prefix, width);\n    setPrefixedProperty(_p.rscratch, 'labelWidth', prefix, width);\n    setPrefixedProperty(_p.rstyle, 'labelHeight', prefix, height);\n    setPrefixedProperty(_p.rscratch, 'labelHeight', prefix, height);\n    setPrefixedProperty(_p.rscratch, 'labelLineHeight', prefix, labelLineHeight);\n  };\n  BRp$9.getLabelText = function (ele, prefix) {\n    var _p = ele._private;\n    var pfd = prefix ? prefix + '-' : '';\n    var text = ele.pstyle(pfd + 'label').strValue;\n    var textTransform = ele.pstyle('text-transform').value;\n    var rscratch = function rscratch(propName, value) {\n      if (value) {\n        setPrefixedProperty(_p.rscratch, propName, prefix, value);\n        return value;\n      } else {\n        return getPrefixedProperty(_p.rscratch, propName, prefix);\n      }\n    };\n\n    // for empty text, skip all processing\n    if (!text) {\n      return '';\n    }\n    if (textTransform == 'none') ; else if (textTransform == 'uppercase') {\n      text = text.toUpperCase();\n    } else if (textTransform == 'lowercase') {\n      text = text.toLowerCase();\n    }\n    var wrapStyle = ele.pstyle('text-wrap').value;\n    if (wrapStyle === 'wrap') {\n      var labelKey = rscratch('labelKey');\n\n      // save recalc if the label is the same as before\n      if (labelKey != null && rscratch('labelWrapKey') === labelKey) {\n        return rscratch('labelWrapCachedText');\n      }\n      var zwsp = \"\\u200B\";\n      var lines = text.split('\\n');\n      var maxW = ele.pstyle('text-max-width').pfValue;\n      var overflow = ele.pstyle('text-overflow-wrap').value;\n      var overflowAny = overflow === 'anywhere';\n      var wrappedLines = [];\n      var wordsRegex = /[\\s\\u200b]+/;\n      var wordSeparator = overflowAny ? '' : ' ';\n      for (var l = 0; l < lines.length; l++) {\n        var line = lines[l];\n        var lineDims = this.calculateLabelDimensions(ele, line);\n        var lineW = lineDims.width;\n        if (overflowAny) {\n          var processedLine = line.split('').join(zwsp);\n          line = processedLine;\n        }\n        if (lineW > maxW) {\n          // line is too long\n          var words = line.split(wordsRegex);\n          var subline = '';\n          for (var w = 0; w < words.length; w++) {\n            var word = words[w];\n            var testLine = subline.length === 0 ? word : subline + wordSeparator + word;\n            var testDims = this.calculateLabelDimensions(ele, testLine);\n            var testW = testDims.width;\n            if (testW <= maxW) {\n              // word fits on current line\n              subline += word + wordSeparator;\n            } else {\n              // word starts new line\n              if (subline) {\n                wrappedLines.push(subline);\n              }\n              subline = word + wordSeparator;\n            }\n          }\n\n          // if there's remaining text, put it in a wrapped line\n          if (!subline.match(/^[\\s\\u200b]+$/)) {\n            wrappedLines.push(subline);\n          }\n        } else {\n          // line is already short enough\n          wrappedLines.push(line);\n        }\n      } // for\n\n      rscratch('labelWrapCachedLines', wrappedLines);\n      text = rscratch('labelWrapCachedText', wrappedLines.join('\\n'));\n      rscratch('labelWrapKey', labelKey);\n    } else if (wrapStyle === 'ellipsis') {\n      var _maxW = ele.pstyle('text-max-width').pfValue;\n      var ellipsized = '';\n      var ellipsis = \"\\u2026\";\n      var incLastCh = false;\n      if (this.calculateLabelDimensions(ele, text).width < _maxW) {\n        // the label already fits\n        return text;\n      }\n      for (var i = 0; i < text.length; i++) {\n        var widthWithNextCh = this.calculateLabelDimensions(ele, ellipsized + text[i] + ellipsis).width;\n        if (widthWithNextCh > _maxW) {\n          break;\n        }\n        ellipsized += text[i];\n        if (i === text.length - 1) {\n          incLastCh = true;\n        }\n      }\n      if (!incLastCh) {\n        ellipsized += ellipsis;\n      }\n      return ellipsized;\n    } // if ellipsize\n\n    return text;\n  };\n  BRp$9.getLabelJustification = function (ele) {\n    var justification = ele.pstyle('text-justification').strValue;\n    var textHalign = ele.pstyle('text-halign').strValue;\n    if (justification === 'auto') {\n      if (ele.isNode()) {\n        switch (textHalign) {\n          case 'left':\n            return 'right';\n          case 'right':\n            return 'left';\n          default:\n            return 'center';\n        }\n      } else {\n        return 'center';\n      }\n    } else {\n      return justification;\n    }\n  };\n  BRp$9.calculateLabelDimensions = function (ele, text) {\n    var r = this;\n    var cacheKey = hashString(text, ele._private.labelDimsKey);\n    var cache = r.labelDimCache || (r.labelDimCache = []);\n    var existingVal = cache[cacheKey];\n    if (existingVal != null) {\n      return existingVal;\n    }\n    var padding = 0; // add padding around text dims, as the measurement isn't that accurate\n    var fStyle = ele.pstyle('font-style').strValue;\n    var size = ele.pstyle('font-size').pfValue;\n    var family = ele.pstyle('font-family').strValue;\n    var weight = ele.pstyle('font-weight').strValue;\n    var canvas = this.labelCalcCanvas;\n    var c2d = this.labelCalcCanvasContext;\n    if (!canvas) {\n      canvas = this.labelCalcCanvas = document.createElement('canvas');\n      c2d = this.labelCalcCanvasContext = canvas.getContext('2d');\n      var ds = canvas.style;\n      ds.position = 'absolute';\n      ds.left = '-9999px';\n      ds.top = '-9999px';\n      ds.zIndex = '-1';\n      ds.visibility = 'hidden';\n      ds.pointerEvents = 'none';\n    }\n    c2d.font = \"\".concat(fStyle, \" \").concat(weight, \" \").concat(size, \"px \").concat(family);\n    var width = 0;\n    var height = 0;\n    var lines = text.split('\\n');\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i];\n      var metrics = c2d.measureText(line);\n      var w = Math.ceil(metrics.width);\n      var h = size;\n      width = Math.max(w, width);\n      height += h;\n    }\n    width += padding;\n    height += padding;\n    return cache[cacheKey] = {\n      width: width,\n      height: height\n    };\n  };\n  BRp$9.calculateLabelAngle = function (ele, prefix) {\n    var _p = ele._private;\n    var rs = _p.rscratch;\n    var isEdge = ele.isEdge();\n    var prefixDash = prefix ? prefix + '-' : '';\n    var rot = ele.pstyle(prefixDash + 'text-rotation');\n    var rotStr = rot.strValue;\n    if (rotStr === 'none') {\n      return 0;\n    } else if (isEdge && rotStr === 'autorotate') {\n      return rs.labelAutoAngle;\n    } else if (rotStr === 'autorotate') {\n      return 0;\n    } else {\n      return rot.pfValue;\n    }\n  };\n  BRp$9.calculateLabelAngles = function (ele) {\n    var r = this;\n    var isEdge = ele.isEdge();\n    var _p = ele._private;\n    var rs = _p.rscratch;\n    rs.labelAngle = r.calculateLabelAngle(ele);\n    if (isEdge) {\n      rs.sourceLabelAngle = r.calculateLabelAngle(ele, 'source');\n      rs.targetLabelAngle = r.calculateLabelAngle(ele, 'target');\n    }\n  };\n\n  var BRp$8 = {};\n  var TOO_SMALL_CUT_RECT = 28;\n  var warnedCutRect = false;\n  BRp$8.getNodeShape = function (node) {\n    var r = this;\n    var shape = node.pstyle('shape').value;\n    if (shape === 'cutrectangle' && (node.width() < TOO_SMALL_CUT_RECT || node.height() < TOO_SMALL_CUT_RECT)) {\n      if (!warnedCutRect) {\n        warn('The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead');\n        warnedCutRect = true;\n      }\n      return 'rectangle';\n    }\n    if (node.isParent()) {\n      if (shape === 'rectangle' || shape === 'roundrectangle' || shape === 'round-rectangle' || shape === 'cutrectangle' || shape === 'cut-rectangle' || shape === 'barrel') {\n        return shape;\n      } else {\n        return 'rectangle';\n      }\n    }\n    if (shape === 'polygon') {\n      var points = node.pstyle('shape-polygon-points').value;\n      return r.nodeShapes.makePolygon(points).name;\n    }\n    return shape;\n  };\n\n  var BRp$7 = {};\n  BRp$7.registerCalculationListeners = function () {\n    var cy = this.cy;\n    var elesToUpdate = cy.collection();\n    var r = this;\n    var enqueue = function enqueue(eles) {\n      var dirtyStyleCaches = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      elesToUpdate.merge(eles);\n      if (dirtyStyleCaches) {\n        for (var i = 0; i < eles.length; i++) {\n          var ele = eles[i];\n          var _p = ele._private;\n          var rstyle = _p.rstyle;\n          rstyle.clean = false;\n          rstyle.cleanConnected = false;\n        }\n      }\n    };\n    r.binder(cy).on('bounds.* dirty.*', function onDirtyBounds(e) {\n      var ele = e.target;\n      enqueue(ele);\n    }).on('style.* background.*', function onDirtyStyle(e) {\n      var ele = e.target;\n      enqueue(ele, false);\n    });\n    var updateEleCalcs = function updateEleCalcs(willDraw) {\n      if (willDraw) {\n        var fns = r.onUpdateEleCalcsFns;\n\n        // because we need to have up-to-date style (e.g. stylesheet mappers)\n        // before calculating rendered style (and pstyle might not be called yet)\n        elesToUpdate.cleanStyle();\n        for (var i = 0; i < elesToUpdate.length; i++) {\n          var ele = elesToUpdate[i];\n          var rstyle = ele._private.rstyle;\n          if (ele.isNode() && !rstyle.cleanConnected) {\n            enqueue(ele.connectedEdges());\n            rstyle.cleanConnected = true;\n          }\n        }\n        if (fns) {\n          for (var _i = 0; _i < fns.length; _i++) {\n            var fn = fns[_i];\n            fn(willDraw, elesToUpdate);\n          }\n        }\n        r.recalculateRenderedStyle(elesToUpdate);\n        elesToUpdate = cy.collection();\n      }\n    };\n    r.flushRenderedStyleQueue = function () {\n      updateEleCalcs(true);\n    };\n    r.beforeRender(updateEleCalcs, r.beforeRenderPriorities.eleCalcs);\n  };\n  BRp$7.onUpdateEleCalcs = function (fn) {\n    var fns = this.onUpdateEleCalcsFns = this.onUpdateEleCalcsFns || [];\n    fns.push(fn);\n  };\n  BRp$7.recalculateRenderedStyle = function (eles, useCache) {\n    var isCleanConnected = function isCleanConnected(ele) {\n      return ele._private.rstyle.cleanConnected;\n    };\n    var edges = [];\n    var nodes = [];\n\n    // the renderer can't be used for calcs when destroyed, e.g. ele.boundingBox()\n    if (this.destroyed) {\n      return;\n    }\n\n    // use cache by default for perf\n    if (useCache === undefined) {\n      useCache = true;\n    }\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var _p = ele._private;\n      var rstyle = _p.rstyle;\n\n      // an edge may be implicitly dirty b/c of one of its connected nodes\n      // (and a request for recalc may come in between frames)\n      if (ele.isEdge() && (!isCleanConnected(ele.source()) || !isCleanConnected(ele.target()))) {\n        rstyle.clean = false;\n      }\n\n      // only update if dirty and in graph\n      if (useCache && rstyle.clean || ele.removed()) {\n        continue;\n      }\n\n      // only update if not display: none\n      if (ele.pstyle('display').value === 'none') {\n        continue;\n      }\n      if (_p.group === 'nodes') {\n        nodes.push(ele);\n      } else {\n        // edges\n        edges.push(ele);\n      }\n      rstyle.clean = true;\n    }\n\n    // update node data from projections\n    for (var _i2 = 0; _i2 < nodes.length; _i2++) {\n      var _ele = nodes[_i2];\n      var _p2 = _ele._private;\n      var _rstyle = _p2.rstyle;\n      var pos = _ele.position();\n      this.recalculateNodeLabelProjection(_ele);\n      _rstyle.nodeX = pos.x;\n      _rstyle.nodeY = pos.y;\n      _rstyle.nodeW = _ele.pstyle('width').pfValue;\n      _rstyle.nodeH = _ele.pstyle('height').pfValue;\n    }\n    this.recalculateEdgeProjections(edges);\n\n    // update edge data from projections\n    for (var _i3 = 0; _i3 < edges.length; _i3++) {\n      var _ele2 = edges[_i3];\n      var _p3 = _ele2._private;\n      var _rstyle2 = _p3.rstyle;\n      var rs = _p3.rscratch;\n\n      // update rstyle positions\n      _rstyle2.srcX = rs.arrowStartX;\n      _rstyle2.srcY = rs.arrowStartY;\n      _rstyle2.tgtX = rs.arrowEndX;\n      _rstyle2.tgtY = rs.arrowEndY;\n      _rstyle2.midX = rs.midX;\n      _rstyle2.midY = rs.midY;\n      _rstyle2.labelAngle = rs.labelAngle;\n      _rstyle2.sourceLabelAngle = rs.sourceLabelAngle;\n      _rstyle2.targetLabelAngle = rs.targetLabelAngle;\n    }\n  };\n\n  var BRp$6 = {};\n  BRp$6.updateCachedGrabbedEles = function () {\n    var eles = this.cachedZSortedEles;\n    if (!eles) {\n      // just let this be recalculated on the next z sort tick\n      return;\n    }\n    eles.drag = [];\n    eles.nondrag = [];\n    var grabTargets = [];\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var rs = ele._private.rscratch;\n      if (ele.grabbed() && !ele.isParent()) {\n        grabTargets.push(ele);\n      } else if (rs.inDragLayer) {\n        eles.drag.push(ele);\n      } else {\n        eles.nondrag.push(ele);\n      }\n    }\n\n    // put the grab target nodes last so it's on top of its neighbourhood\n    for (var i = 0; i < grabTargets.length; i++) {\n      var ele = grabTargets[i];\n      eles.drag.push(ele);\n    }\n  };\n  BRp$6.invalidateCachedZSortedEles = function () {\n    this.cachedZSortedEles = null;\n  };\n  BRp$6.getCachedZSortedEles = function (forceRecalc) {\n    if (forceRecalc || !this.cachedZSortedEles) {\n      var eles = this.cy.mutableElements().toArray();\n      eles.sort(zIndexSort);\n      eles.interactive = eles.filter(function (ele) {\n        return ele.interactive();\n      });\n      this.cachedZSortedEles = eles;\n      this.updateCachedGrabbedEles();\n    } else {\n      eles = this.cachedZSortedEles;\n    }\n    return eles;\n  };\n\n  var BRp$5 = {};\n  [BRp$e, BRp$d, BRp$c, BRp$b, BRp$a, BRp$9, BRp$8, BRp$7, BRp$6].forEach(function (props) {\n    extend(BRp$5, props);\n  });\n\n  var BRp$4 = {};\n  BRp$4.getCachedImage = function (url, crossOrigin, onLoad) {\n    var r = this;\n    var imageCache = r.imageCache = r.imageCache || {};\n    var cache = imageCache[url];\n    if (cache) {\n      if (!cache.image.complete) {\n        cache.image.addEventListener('load', onLoad);\n      }\n      return cache.image;\n    } else {\n      cache = imageCache[url] = imageCache[url] || {};\n      var image = cache.image = new Image(); // eslint-disable-line no-undef\n\n      image.addEventListener('load', onLoad);\n      image.addEventListener('error', function () {\n        image.error = true;\n      });\n\n      // #1582 safari doesn't load data uris with crossOrigin properly\n      // https://bugs.webkit.org/show_bug.cgi?id=123978\n      var dataUriPrefix = 'data:';\n      var isDataUri = url.substring(0, dataUriPrefix.length).toLowerCase() === dataUriPrefix;\n      if (!isDataUri) {\n        // if crossorigin is 'null'(stringified), then manually set it to null \n        crossOrigin = crossOrigin === 'null' ? null : crossOrigin;\n        image.crossOrigin = crossOrigin; // prevent tainted canvas\n      }\n\n      image.src = url;\n      return image;\n    }\n  };\n\n  var BRp$3 = {};\n\n  /* global document, window, ResizeObserver, MutationObserver */\n\n  BRp$3.registerBinding = function (target, event, handler, useCapture) {\n    // eslint-disable-line no-unused-vars\n    var args = Array.prototype.slice.apply(arguments, [1]); // copy\n    var b = this.binder(target);\n    return b.on.apply(b, args);\n  };\n  BRp$3.binder = function (tgt) {\n    var r = this;\n    var containerWindow = r.cy.window();\n    var tgtIsDom = tgt === containerWindow || tgt === containerWindow.document || tgt === containerWindow.document.body || domElement(tgt);\n    if (r.supportsPassiveEvents == null) {\n      // from https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n      var supportsPassive = false;\n      try {\n        var opts = Object.defineProperty({}, 'passive', {\n          get: function get() {\n            supportsPassive = true;\n            return true;\n          }\n        });\n        containerWindow.addEventListener('test', null, opts);\n      } catch (err) {\n        // not supported\n      }\n      r.supportsPassiveEvents = supportsPassive;\n    }\n    var on = function on(event, handler, useCapture) {\n      var args = Array.prototype.slice.call(arguments);\n      if (tgtIsDom && r.supportsPassiveEvents) {\n        // replace useCapture w/ opts obj\n        args[2] = {\n          capture: useCapture != null ? useCapture : false,\n          passive: false,\n          once: false\n        };\n      }\n      r.bindings.push({\n        target: tgt,\n        args: args\n      });\n      (tgt.addEventListener || tgt.on).apply(tgt, args);\n      return this;\n    };\n    return {\n      on: on,\n      addEventListener: on,\n      addListener: on,\n      bind: on\n    };\n  };\n  BRp$3.nodeIsDraggable = function (node) {\n    return node && node.isNode() && !node.locked() && node.grabbable();\n  };\n  BRp$3.nodeIsGrabbable = function (node) {\n    return this.nodeIsDraggable(node) && node.interactive();\n  };\n  BRp$3.load = function () {\n    var r = this;\n    var containerWindow = r.cy.window();\n    var isSelected = function isSelected(ele) {\n      return ele.selected();\n    };\n    var triggerEvents = function triggerEvents(target, names, e, position) {\n      if (target == null) {\n        target = r.cy;\n      }\n      for (var i = 0; i < names.length; i++) {\n        var name = names[i];\n        target.emit({\n          originalEvent: e,\n          type: name,\n          position: position\n        });\n      }\n    };\n    var isMultSelKeyDown = function isMultSelKeyDown(e) {\n      return e.shiftKey || e.metaKey || e.ctrlKey; // maybe e.altKey\n    };\n\n    var allowPanningPassthrough = function allowPanningPassthrough(down, downs) {\n      var allowPassthrough = true;\n      if (r.cy.hasCompoundNodes() && down && down.pannable()) {\n        // a grabbable compound node below the ele => no passthrough panning\n        for (var i = 0; downs && i < downs.length; i++) {\n          var down = downs[i];\n\n          //if any parent node in event hierarchy isn't pannable, reject passthrough\n          if (down.isNode() && down.isParent() && !down.pannable()) {\n            allowPassthrough = false;\n            break;\n          }\n        }\n      } else {\n        allowPassthrough = true;\n      }\n      return allowPassthrough;\n    };\n    var setGrabbed = function setGrabbed(ele) {\n      ele[0]._private.grabbed = true;\n    };\n    var setFreed = function setFreed(ele) {\n      ele[0]._private.grabbed = false;\n    };\n    var setInDragLayer = function setInDragLayer(ele) {\n      ele[0]._private.rscratch.inDragLayer = true;\n    };\n    var setOutDragLayer = function setOutDragLayer(ele) {\n      ele[0]._private.rscratch.inDragLayer = false;\n    };\n    var setGrabTarget = function setGrabTarget(ele) {\n      ele[0]._private.rscratch.isGrabTarget = true;\n    };\n    var removeGrabTarget = function removeGrabTarget(ele) {\n      ele[0]._private.rscratch.isGrabTarget = false;\n    };\n    var addToDragList = function addToDragList(ele, opts) {\n      var list = opts.addToList;\n      var listHasEle = list.has(ele);\n      if (!listHasEle && ele.grabbable() && !ele.locked()) {\n        list.merge(ele);\n        setGrabbed(ele);\n      }\n    };\n\n    // helper function to determine which child nodes and inner edges\n    // of a compound node to be dragged as well as the grabbed and selected nodes\n    var addDescendantsToDrag = function addDescendantsToDrag(node, opts) {\n      if (!node.cy().hasCompoundNodes()) {\n        return;\n      }\n      if (opts.inDragLayer == null && opts.addToList == null) {\n        return;\n      } // nothing to do\n\n      var innerNodes = node.descendants();\n      if (opts.inDragLayer) {\n        innerNodes.forEach(setInDragLayer);\n        innerNodes.connectedEdges().forEach(setInDragLayer);\n      }\n      if (opts.addToList) {\n        addToDragList(innerNodes, opts);\n      }\n    };\n\n    // adds the given nodes and its neighbourhood to the drag layer\n    var addNodesToDrag = function addNodesToDrag(nodes, opts) {\n      opts = opts || {};\n      var hasCompoundNodes = nodes.cy().hasCompoundNodes();\n      if (opts.inDragLayer) {\n        nodes.forEach(setInDragLayer);\n        nodes.neighborhood().stdFilter(function (ele) {\n          return !hasCompoundNodes || ele.isEdge();\n        }).forEach(setInDragLayer);\n      }\n      if (opts.addToList) {\n        nodes.forEach(function (ele) {\n          addToDragList(ele, opts);\n        });\n      }\n      addDescendantsToDrag(nodes, opts); // always add to drag\n\n      // also add nodes and edges related to the topmost ancestor\n      updateAncestorsInDragLayer(nodes, {\n        inDragLayer: opts.inDragLayer\n      });\n      r.updateCachedGrabbedEles();\n    };\n    var addNodeToDrag = addNodesToDrag;\n    var freeDraggedElements = function freeDraggedElements(grabbedEles) {\n      if (!grabbedEles) {\n        return;\n      }\n\n      // just go over all elements rather than doing a bunch of (possibly expensive) traversals\n      r.getCachedZSortedEles().forEach(function (ele) {\n        setFreed(ele);\n        setOutDragLayer(ele);\n        removeGrabTarget(ele);\n      });\n      r.updateCachedGrabbedEles();\n    };\n\n    // helper function to determine which ancestor nodes and edges should go\n    // to the drag layer (or should be removed from drag layer).\n    var updateAncestorsInDragLayer = function updateAncestorsInDragLayer(node, opts) {\n      if (opts.inDragLayer == null && opts.addToList == null) {\n        return;\n      } // nothing to do\n\n      if (!node.cy().hasCompoundNodes()) {\n        return;\n      }\n\n      // find top-level parent\n      var parent = node.ancestors().orphans();\n\n      // no parent node: no nodes to add to the drag layer\n      if (parent.same(node)) {\n        return;\n      }\n      var nodes = parent.descendants().spawnSelf().merge(parent).unmerge(node).unmerge(node.descendants());\n      var edges = nodes.connectedEdges();\n      if (opts.inDragLayer) {\n        edges.forEach(setInDragLayer);\n        nodes.forEach(setInDragLayer);\n      }\n      if (opts.addToList) {\n        nodes.forEach(function (ele) {\n          addToDragList(ele, opts);\n        });\n      }\n    };\n    var blurActiveDomElement = function blurActiveDomElement() {\n      if (document.activeElement != null && document.activeElement.blur != null) {\n        document.activeElement.blur();\n      }\n    };\n    var haveMutationsApi = typeof MutationObserver !== 'undefined';\n    var haveResizeObserverApi = typeof ResizeObserver !== 'undefined';\n\n    // watch for when the cy container is removed from the dom\n    if (haveMutationsApi) {\n      r.removeObserver = new MutationObserver(function (mutns) {\n        // eslint-disable-line no-undef\n        for (var i = 0; i < mutns.length; i++) {\n          var mutn = mutns[i];\n          var rNodes = mutn.removedNodes;\n          if (rNodes) {\n            for (var j = 0; j < rNodes.length; j++) {\n              var rNode = rNodes[j];\n              if (rNode === r.container) {\n                r.destroy();\n                break;\n              }\n            }\n          }\n        }\n      });\n      if (r.container.parentNode) {\n        r.removeObserver.observe(r.container.parentNode, {\n          childList: true\n        });\n      }\n    } else {\n      r.registerBinding(r.container, 'DOMNodeRemoved', function (e) {\n        // eslint-disable-line no-unused-vars\n        r.destroy();\n      });\n    }\n    var onResize = debounce_1(function () {\n      r.cy.resize();\n    }, 100);\n    if (haveMutationsApi) {\n      r.styleObserver = new MutationObserver(onResize); // eslint-disable-line no-undef\n\n      r.styleObserver.observe(r.container, {\n        attributes: true\n      });\n    }\n\n    // auto resize\n    r.registerBinding(containerWindow, 'resize', onResize); // eslint-disable-line no-undef\n\n    if (haveResizeObserverApi) {\n      r.resizeObserver = new ResizeObserver(onResize); // eslint-disable-line no-undef\n\n      r.resizeObserver.observe(r.container);\n    }\n    var forEachUp = function forEachUp(domEle, fn) {\n      while (domEle != null) {\n        fn(domEle);\n        domEle = domEle.parentNode;\n      }\n    };\n    var invalidateCoords = function invalidateCoords() {\n      r.invalidateContainerClientCoordsCache();\n    };\n    forEachUp(r.container, function (domEle) {\n      r.registerBinding(domEle, 'transitionend', invalidateCoords);\n      r.registerBinding(domEle, 'animationend', invalidateCoords);\n      r.registerBinding(domEle, 'scroll', invalidateCoords);\n    });\n\n    // stop right click menu from appearing on cy\n    r.registerBinding(r.container, 'contextmenu', function (e) {\n      e.preventDefault();\n    });\n    var inBoxSelection = function inBoxSelection() {\n      return r.selection[4] !== 0;\n    };\n    var eventInContainer = function eventInContainer(e) {\n      // save cycles if mouse events aren't to be captured\n      var containerPageCoords = r.findContainerClientCoords();\n      var x = containerPageCoords[0];\n      var y = containerPageCoords[1];\n      var width = containerPageCoords[2];\n      var height = containerPageCoords[3];\n      var positions = e.touches ? e.touches : [e];\n      var atLeastOnePosInside = false;\n      for (var i = 0; i < positions.length; i++) {\n        var p = positions[i];\n        if (x <= p.clientX && p.clientX <= x + width && y <= p.clientY && p.clientY <= y + height) {\n          atLeastOnePosInside = true;\n          break;\n        }\n      }\n      if (!atLeastOnePosInside) {\n        return false;\n      }\n      var container = r.container;\n      var target = e.target;\n      var tParent = target.parentNode;\n      var containerIsTarget = false;\n      while (tParent) {\n        if (tParent === container) {\n          containerIsTarget = true;\n          break;\n        }\n        tParent = tParent.parentNode;\n      }\n      if (!containerIsTarget) {\n        return false;\n      } // if target is outisde cy container, then this event is not for us\n\n      return true;\n    };\n\n    // Primary key\n    r.registerBinding(r.container, 'mousedown', function mousedownHandler(e) {\n      if (!eventInContainer(e)) {\n        return;\n      }\n      e.preventDefault();\n      blurActiveDomElement();\n      r.hoverData.capture = true;\n      r.hoverData.which = e.which;\n      var cy = r.cy;\n      var gpos = [e.clientX, e.clientY];\n      var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n      var select = r.selection;\n      var nears = r.findNearestElements(pos[0], pos[1], true, false);\n      var near = nears[0];\n      var draggedElements = r.dragData.possibleDragElements;\n      r.hoverData.mdownPos = pos;\n      r.hoverData.mdownGPos = gpos;\n      var checkForTaphold = function checkForTaphold() {\n        r.hoverData.tapholdCancelled = false;\n        clearTimeout(r.hoverData.tapholdTimeout);\n        r.hoverData.tapholdTimeout = setTimeout(function () {\n          if (r.hoverData.tapholdCancelled) {\n            return;\n          } else {\n            var ele = r.hoverData.down;\n            if (ele) {\n              ele.emit({\n                originalEvent: e,\n                type: 'taphold',\n                position: {\n                  x: pos[0],\n                  y: pos[1]\n                }\n              });\n            } else {\n              cy.emit({\n                originalEvent: e,\n                type: 'taphold',\n                position: {\n                  x: pos[0],\n                  y: pos[1]\n                }\n              });\n            }\n          }\n        }, r.tapholdDuration);\n      };\n\n      // Right click button\n      if (e.which == 3) {\n        r.hoverData.cxtStarted = true;\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxttapstart',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        };\n        if (near) {\n          near.activate();\n          near.emit(cxtEvt);\n          r.hoverData.down = near;\n        } else {\n          cy.emit(cxtEvt);\n        }\n        r.hoverData.downTime = new Date().getTime();\n        r.hoverData.cxtDragged = false;\n\n        // Primary button\n      } else if (e.which == 1) {\n        if (near) {\n          near.activate();\n        }\n\n        // Element dragging\n        {\n          // If something is under the cursor and it is draggable, prepare to grab it\n          if (near != null) {\n            if (r.nodeIsGrabbable(near)) {\n              var makeEvent = function makeEvent(type) {\n                return {\n                  originalEvent: e,\n                  type: type,\n                  position: {\n                    x: pos[0],\n                    y: pos[1]\n                  }\n                };\n              };\n              var triggerGrab = function triggerGrab(ele) {\n                ele.emit(makeEvent('grab'));\n              };\n              setGrabTarget(near);\n              if (!near.selected()) {\n                draggedElements = r.dragData.possibleDragElements = cy.collection();\n                addNodeToDrag(near, {\n                  addToList: draggedElements\n                });\n                near.emit(makeEvent('grabon')).emit(makeEvent('grab'));\n              } else {\n                draggedElements = r.dragData.possibleDragElements = cy.collection();\n                var selectedNodes = cy.$(function (ele) {\n                  return ele.isNode() && ele.selected() && r.nodeIsGrabbable(ele);\n                });\n                addNodesToDrag(selectedNodes, {\n                  addToList: draggedElements\n                });\n                near.emit(makeEvent('grabon'));\n                selectedNodes.forEach(triggerGrab);\n              }\n              r.redrawHint('eles', true);\n              r.redrawHint('drag', true);\n            }\n          }\n          r.hoverData.down = near;\n          r.hoverData.downs = nears;\n          r.hoverData.downTime = new Date().getTime();\n        }\n        triggerEvents(near, ['mousedown', 'tapstart', 'vmousedown'], e, {\n          x: pos[0],\n          y: pos[1]\n        });\n        if (near == null) {\n          select[4] = 1;\n          r.data.bgActivePosistion = {\n            x: pos[0],\n            y: pos[1]\n          };\n          r.redrawHint('select', true);\n          r.redraw();\n        } else if (near.pannable()) {\n          select[4] = 1; // for future pan\n        }\n\n        checkForTaphold();\n      }\n\n      // Initialize selection box coordinates\n      select[0] = select[2] = pos[0];\n      select[1] = select[3] = pos[1];\n    }, false);\n    r.registerBinding(containerWindow, 'mousemove', function mousemoveHandler(e) {\n      // eslint-disable-line no-undef\n      var capture = r.hoverData.capture;\n      if (!capture && !eventInContainer(e)) {\n        return;\n      }\n      var preventDefault = false;\n      var cy = r.cy;\n      var zoom = cy.zoom();\n      var gpos = [e.clientX, e.clientY];\n      var pos = r.projectIntoViewport(gpos[0], gpos[1]);\n      var mdownPos = r.hoverData.mdownPos;\n      var mdownGPos = r.hoverData.mdownGPos;\n      var select = r.selection;\n      var near = null;\n      if (!r.hoverData.draggingEles && !r.hoverData.dragging && !r.hoverData.selecting) {\n        near = r.findNearestElement(pos[0], pos[1], true, false);\n      }\n      var last = r.hoverData.last;\n      var down = r.hoverData.down;\n      var disp = [pos[0] - select[2], pos[1] - select[3]];\n      var draggedElements = r.dragData.possibleDragElements;\n      var isOverThresholdDrag;\n      if (mdownGPos) {\n        var dx = gpos[0] - mdownGPos[0];\n        var dx2 = dx * dx;\n        var dy = gpos[1] - mdownGPos[1];\n        var dy2 = dy * dy;\n        var dist2 = dx2 + dy2;\n        r.hoverData.isOverThresholdDrag = isOverThresholdDrag = dist2 >= r.desktopTapThreshold2;\n      }\n      var multSelKeyDown = isMultSelKeyDown(e);\n      if (isOverThresholdDrag) {\n        r.hoverData.tapholdCancelled = true;\n      }\n      var updateDragDelta = function updateDragDelta() {\n        var dragDelta = r.hoverData.dragDelta = r.hoverData.dragDelta || [];\n        if (dragDelta.length === 0) {\n          dragDelta.push(disp[0]);\n          dragDelta.push(disp[1]);\n        } else {\n          dragDelta[0] += disp[0];\n          dragDelta[1] += disp[1];\n        }\n      };\n      preventDefault = true;\n      triggerEvents(near, ['mousemove', 'vmousemove', 'tapdrag'], e, {\n        x: pos[0],\n        y: pos[1]\n      });\n      var goIntoBoxMode = function goIntoBoxMode() {\n        r.data.bgActivePosistion = undefined;\n        if (!r.hoverData.selecting) {\n          cy.emit({\n            originalEvent: e,\n            type: 'boxstart',\n            position: {\n              x: pos[0],\n              y: pos[1]\n            }\n          });\n        }\n        select[4] = 1;\n        r.hoverData.selecting = true;\n        r.redrawHint('select', true);\n        r.redraw();\n      };\n\n      // trigger context drag if rmouse down\n      if (r.hoverData.which === 3) {\n        // but only if over threshold\n        if (isOverThresholdDrag) {\n          var cxtEvt = {\n            originalEvent: e,\n            type: 'cxtdrag',\n            position: {\n              x: pos[0],\n              y: pos[1]\n            }\n          };\n          if (down) {\n            down.emit(cxtEvt);\n          } else {\n            cy.emit(cxtEvt);\n          }\n          r.hoverData.cxtDragged = true;\n          if (!r.hoverData.cxtOver || near !== r.hoverData.cxtOver) {\n            if (r.hoverData.cxtOver) {\n              r.hoverData.cxtOver.emit({\n                originalEvent: e,\n                type: 'cxtdragout',\n                position: {\n                  x: pos[0],\n                  y: pos[1]\n                }\n              });\n            }\n            r.hoverData.cxtOver = near;\n            if (near) {\n              near.emit({\n                originalEvent: e,\n                type: 'cxtdragover',\n                position: {\n                  x: pos[0],\n                  y: pos[1]\n                }\n              });\n            }\n          }\n        }\n\n        // Check if we are drag panning the entire graph\n      } else if (r.hoverData.dragging) {\n        preventDefault = true;\n        if (cy.panningEnabled() && cy.userPanningEnabled()) {\n          var deltaP;\n          if (r.hoverData.justStartedPan) {\n            var mdPos = r.hoverData.mdownPos;\n            deltaP = {\n              x: (pos[0] - mdPos[0]) * zoom,\n              y: (pos[1] - mdPos[1]) * zoom\n            };\n            r.hoverData.justStartedPan = false;\n          } else {\n            deltaP = {\n              x: disp[0] * zoom,\n              y: disp[1] * zoom\n            };\n          }\n          cy.panBy(deltaP);\n          cy.emit('dragpan');\n          r.hoverData.dragged = true;\n        }\n\n        // Needs reproject due to pan changing viewport\n        pos = r.projectIntoViewport(e.clientX, e.clientY);\n\n        // Checks primary button down & out of time & mouse not moved much\n      } else if (select[4] == 1 && (down == null || down.pannable())) {\n        if (isOverThresholdDrag) {\n          if (!r.hoverData.dragging && cy.boxSelectionEnabled() && (multSelKeyDown || !cy.panningEnabled() || !cy.userPanningEnabled())) {\n            goIntoBoxMode();\n          } else if (!r.hoverData.selecting && cy.panningEnabled() && cy.userPanningEnabled()) {\n            var allowPassthrough = allowPanningPassthrough(down, r.hoverData.downs);\n            if (allowPassthrough) {\n              r.hoverData.dragging = true;\n              r.hoverData.justStartedPan = true;\n              select[4] = 0;\n              r.data.bgActivePosistion = array2point(mdownPos);\n              r.redrawHint('select', true);\n              r.redraw();\n            }\n          }\n          if (down && down.pannable() && down.active()) {\n            down.unactivate();\n          }\n        }\n      } else {\n        if (down && down.pannable() && down.active()) {\n          down.unactivate();\n        }\n        if ((!down || !down.grabbed()) && near != last) {\n          if (last) {\n            triggerEvents(last, ['mouseout', 'tapdragout'], e, {\n              x: pos[0],\n              y: pos[1]\n            });\n          }\n          if (near) {\n            triggerEvents(near, ['mouseover', 'tapdragover'], e, {\n              x: pos[0],\n              y: pos[1]\n            });\n          }\n          r.hoverData.last = near;\n        }\n        if (down) {\n          if (isOverThresholdDrag) {\n            // then we can take action\n\n            if (cy.boxSelectionEnabled() && multSelKeyDown) {\n              // then selection overrides\n              if (down && down.grabbed()) {\n                freeDraggedElements(draggedElements);\n                down.emit('freeon');\n                draggedElements.emit('free');\n                if (r.dragData.didDrag) {\n                  down.emit('dragfreeon');\n                  draggedElements.emit('dragfree');\n                }\n              }\n              goIntoBoxMode();\n            } else if (down && down.grabbed() && r.nodeIsDraggable(down)) {\n              // drag node\n              var justStartedDrag = !r.dragData.didDrag;\n              if (justStartedDrag) {\n                r.redrawHint('eles', true);\n              }\n              r.dragData.didDrag = true; // indicate that we actually did drag the node\n\n              // now, add the elements to the drag layer if not done already\n              if (!r.hoverData.draggingEles) {\n                addNodesToDrag(draggedElements, {\n                  inDragLayer: true\n                });\n              }\n              var totalShift = {\n                x: 0,\n                y: 0\n              };\n              if (number$1(disp[0]) && number$1(disp[1])) {\n                totalShift.x += disp[0];\n                totalShift.y += disp[1];\n                if (justStartedDrag) {\n                  var dragDelta = r.hoverData.dragDelta;\n                  if (dragDelta && number$1(dragDelta[0]) && number$1(dragDelta[1])) {\n                    totalShift.x += dragDelta[0];\n                    totalShift.y += dragDelta[1];\n                  }\n                }\n              }\n              r.hoverData.draggingEles = true;\n              draggedElements.silentShift(totalShift).emit('position drag');\n              r.redrawHint('drag', true);\n              r.redraw();\n            }\n          } else {\n            // otherwise save drag delta for when we actually start dragging so the relative grab pos is constant\n            updateDragDelta();\n          }\n        }\n\n        // prevent the dragging from triggering text selection on the page\n        preventDefault = true;\n      }\n      select[2] = pos[0];\n      select[3] = pos[1];\n      if (preventDefault) {\n        if (e.stopPropagation) e.stopPropagation();\n        if (e.preventDefault) e.preventDefault();\n        return false;\n      }\n    }, false);\n    var clickTimeout, didDoubleClick, prevClickTimeStamp;\n    r.registerBinding(containerWindow, 'mouseup', function mouseupHandler(e) {\n      // eslint-disable-line no-undef\n      var capture = r.hoverData.capture;\n      if (!capture) {\n        return;\n      }\n      r.hoverData.capture = false;\n      var cy = r.cy;\n      var pos = r.projectIntoViewport(e.clientX, e.clientY);\n      var select = r.selection;\n      var near = r.findNearestElement(pos[0], pos[1], true, false);\n      var draggedElements = r.dragData.possibleDragElements;\n      var down = r.hoverData.down;\n      var multSelKeyDown = isMultSelKeyDown(e);\n      if (r.data.bgActivePosistion) {\n        r.redrawHint('select', true);\n        r.redraw();\n      }\n      r.hoverData.tapholdCancelled = true;\n      r.data.bgActivePosistion = undefined; // not active bg now\n\n      if (down) {\n        down.unactivate();\n      }\n      if (r.hoverData.which === 3) {\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxttapend',\n          position: {\n            x: pos[0],\n            y: pos[1]\n          }\n        };\n        if (down) {\n          down.emit(cxtEvt);\n        } else {\n          cy.emit(cxtEvt);\n        }\n        if (!r.hoverData.cxtDragged) {\n          var cxtTap = {\n            originalEvent: e,\n            type: 'cxttap',\n            position: {\n              x: pos[0],\n              y: pos[1]\n            }\n          };\n          if (down) {\n            down.emit(cxtTap);\n          } else {\n            cy.emit(cxtTap);\n          }\n        }\n        r.hoverData.cxtDragged = false;\n        r.hoverData.which = null;\n      } else if (r.hoverData.which === 1) {\n        triggerEvents(near, ['mouseup', 'tapend', 'vmouseup'], e, {\n          x: pos[0],\n          y: pos[1]\n        });\n        if (!r.dragData.didDrag &&\n        // didn't move a node around\n        !r.hoverData.dragged &&\n        // didn't pan\n        !r.hoverData.selecting &&\n        // not box selection\n        !r.hoverData.isOverThresholdDrag // didn't move too much\n        ) {\n          triggerEvents(down, [\"click\", \"tap\", \"vclick\"], e, {\n            x: pos[0],\n            y: pos[1]\n          });\n          didDoubleClick = false;\n          if (e.timeStamp - prevClickTimeStamp <= cy.multiClickDebounceTime()) {\n            clickTimeout && clearTimeout(clickTimeout);\n            didDoubleClick = true;\n            prevClickTimeStamp = null;\n            triggerEvents(down, [\"dblclick\", \"dbltap\", \"vdblclick\"], e, {\n              x: pos[0],\n              y: pos[1]\n            });\n          } else {\n            clickTimeout = setTimeout(function () {\n              if (didDoubleClick) return;\n              triggerEvents(down, [\"oneclick\", \"onetap\", \"voneclick\"], e, {\n                x: pos[0],\n                y: pos[1]\n              });\n            }, cy.multiClickDebounceTime());\n            prevClickTimeStamp = e.timeStamp;\n          }\n        }\n\n        // Deselect all elements if nothing is currently under the mouse cursor and we aren't dragging something\n        if (down == null // not mousedown on node\n        && !r.dragData.didDrag // didn't move the node around\n        && !r.hoverData.selecting // not box selection\n        && !r.hoverData.dragged // didn't pan\n        && !isMultSelKeyDown(e)) {\n          cy.$(isSelected).unselect(['tapunselect']);\n          if (draggedElements.length > 0) {\n            r.redrawHint('eles', true);\n          }\n          r.dragData.possibleDragElements = draggedElements = cy.collection();\n        }\n\n        // Single selection\n        if (near == down && !r.dragData.didDrag && !r.hoverData.selecting) {\n          if (near != null && near._private.selectable) {\n            if (r.hoverData.dragging) ; else if (cy.selectionType() === 'additive' || multSelKeyDown) {\n              if (near.selected()) {\n                near.unselect(['tapunselect']);\n              } else {\n                near.select(['tapselect']);\n              }\n            } else {\n              if (!multSelKeyDown) {\n                cy.$(isSelected).unmerge(near).unselect(['tapunselect']);\n                near.select(['tapselect']);\n              }\n            }\n            r.redrawHint('eles', true);\n          }\n        }\n        if (r.hoverData.selecting) {\n          var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n          r.redrawHint('select', true);\n          if (box.length > 0) {\n            r.redrawHint('eles', true);\n          }\n          cy.emit({\n            type: 'boxend',\n            originalEvent: e,\n            position: {\n              x: pos[0],\n              y: pos[1]\n            }\n          });\n          var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n            return ele.selectable() && !ele.selected();\n          };\n          if (cy.selectionType() === 'additive') {\n            box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n          } else {\n            if (!multSelKeyDown) {\n              cy.$(isSelected).unmerge(box).unselect();\n            }\n            box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n          }\n\n          // always need redraw in case eles unselectable\n          r.redraw();\n        }\n\n        // Cancel drag pan\n        if (r.hoverData.dragging) {\n          r.hoverData.dragging = false;\n          r.redrawHint('select', true);\n          r.redrawHint('eles', true);\n          r.redraw();\n        }\n        if (!select[4]) {\n          r.redrawHint('drag', true);\n          r.redrawHint('eles', true);\n          var downWasGrabbed = down && down.grabbed();\n          freeDraggedElements(draggedElements);\n          if (downWasGrabbed) {\n            down.emit('freeon');\n            draggedElements.emit('free');\n            if (r.dragData.didDrag) {\n              down.emit('dragfreeon');\n              draggedElements.emit('dragfree');\n            }\n          }\n        }\n      } // else not right mouse\n\n      select[4] = 0;\n      r.hoverData.down = null;\n      r.hoverData.cxtStarted = false;\n      r.hoverData.draggingEles = false;\n      r.hoverData.selecting = false;\n      r.hoverData.isOverThresholdDrag = false;\n      r.dragData.didDrag = false;\n      r.hoverData.dragged = false;\n      r.hoverData.dragDelta = [];\n      r.hoverData.mdownPos = null;\n      r.hoverData.mdownGPos = null;\n    }, false);\n    var wheelHandler = function wheelHandler(e) {\n      if (r.scrollingPage) {\n        return;\n      } // while scrolling, ignore wheel-to-zoom\n\n      var cy = r.cy;\n      var zoom = cy.zoom();\n      var pan = cy.pan();\n      var pos = r.projectIntoViewport(e.clientX, e.clientY);\n      var rpos = [pos[0] * zoom + pan.x, pos[1] * zoom + pan.y];\n      if (r.hoverData.draggingEles || r.hoverData.dragging || r.hoverData.cxtStarted || inBoxSelection()) {\n        // if pan dragging or cxt dragging, wheel movements make no zoom\n        e.preventDefault();\n        return;\n      }\n      if (cy.panningEnabled() && cy.userPanningEnabled() && cy.zoomingEnabled() && cy.userZoomingEnabled()) {\n        e.preventDefault();\n        r.data.wheelZooming = true;\n        clearTimeout(r.data.wheelTimeout);\n        r.data.wheelTimeout = setTimeout(function () {\n          r.data.wheelZooming = false;\n          r.redrawHint('eles', true);\n          r.redraw();\n        }, 150);\n        var diff;\n        if (e.deltaY != null) {\n          diff = e.deltaY / -250;\n        } else if (e.wheelDeltaY != null) {\n          diff = e.wheelDeltaY / 1000;\n        } else {\n          diff = e.wheelDelta / 1000;\n        }\n        diff = diff * r.wheelSensitivity;\n        var needsWheelFix = e.deltaMode === 1;\n        if (needsWheelFix) {\n          // fixes slow wheel events on ff/linux and ff/windows\n          diff *= 33;\n        }\n        var newZoom = cy.zoom() * Math.pow(10, diff);\n        if (e.type === 'gesturechange') {\n          newZoom = r.gestureStartZoom * e.scale;\n        }\n        cy.zoom({\n          level: newZoom,\n          renderedPosition: {\n            x: rpos[0],\n            y: rpos[1]\n          }\n        });\n        cy.emit(e.type === 'gesturechange' ? 'pinchzoom' : 'scrollzoom');\n      }\n    };\n\n    // Functions to help with whether mouse wheel should trigger zooming\n    // --\n    r.registerBinding(r.container, 'wheel', wheelHandler, true);\n\n    // disable nonstandard wheel events\n    // r.registerBinding(r.container, 'mousewheel', wheelHandler, true);\n    // r.registerBinding(r.container, 'DOMMouseScroll', wheelHandler, true);\n    // r.registerBinding(r.container, 'MozMousePixelScroll', wheelHandler, true); // older firefox\n\n    r.registerBinding(containerWindow, 'scroll', function scrollHandler(e) {\n      // eslint-disable-line no-unused-vars\n      r.scrollingPage = true;\n      clearTimeout(r.scrollingPageTimeout);\n      r.scrollingPageTimeout = setTimeout(function () {\n        r.scrollingPage = false;\n      }, 250);\n    }, true);\n\n    // desktop safari pinch to zoom start\n    r.registerBinding(r.container, 'gesturestart', function gestureStartHandler(e) {\n      r.gestureStartZoom = r.cy.zoom();\n      if (!r.hasTouchStarted) {\n        // don't affect touch devices like iphone\n        e.preventDefault();\n      }\n    }, true);\n    r.registerBinding(r.container, 'gesturechange', function (e) {\n      if (!r.hasTouchStarted) {\n        // don't affect touch devices like iphone\n        wheelHandler(e);\n      }\n    }, true);\n\n    // Functions to help with handling mouseout/mouseover on the Cytoscape container\n    // Handle mouseout on Cytoscape container\n    r.registerBinding(r.container, 'mouseout', function mouseOutHandler(e) {\n      var pos = r.projectIntoViewport(e.clientX, e.clientY);\n      r.cy.emit({\n        originalEvent: e,\n        type: 'mouseout',\n        position: {\n          x: pos[0],\n          y: pos[1]\n        }\n      });\n    }, false);\n    r.registerBinding(r.container, 'mouseover', function mouseOverHandler(e) {\n      var pos = r.projectIntoViewport(e.clientX, e.clientY);\n      r.cy.emit({\n        originalEvent: e,\n        type: 'mouseover',\n        position: {\n          x: pos[0],\n          y: pos[1]\n        }\n      });\n    }, false);\n    var f1x1, f1y1, f2x1, f2y1; // starting points for pinch-to-zoom\n    var distance1, distance1Sq; // initial distance between finger 1 and finger 2 for pinch-to-zoom\n    var center1, modelCenter1; // center point on start pinch to zoom\n    var offsetLeft, offsetTop;\n    var containerWidth, containerHeight;\n    var twoFingersStartInside;\n    var distance = function distance(x1, y1, x2, y2) {\n      return Math.sqrt((x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1));\n    };\n    var distanceSq = function distanceSq(x1, y1, x2, y2) {\n      return (x2 - x1) * (x2 - x1) + (y2 - y1) * (y2 - y1);\n    };\n    var touchstartHandler;\n    r.registerBinding(r.container, 'touchstart', touchstartHandler = function touchstartHandler(e) {\n      r.hasTouchStarted = true;\n      if (!eventInContainer(e)) {\n        return;\n      }\n      blurActiveDomElement();\n      r.touchData.capture = true;\n      r.data.bgActivePosistion = undefined;\n      var cy = r.cy;\n      var now = r.touchData.now;\n      var earlier = r.touchData.earlier;\n      if (e.touches[0]) {\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];\n        now[1] = pos[1];\n      }\n      if (e.touches[1]) {\n        var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n        now[2] = pos[0];\n        now[3] = pos[1];\n      }\n      if (e.touches[2]) {\n        var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n        now[4] = pos[0];\n        now[5] = pos[1];\n      }\n\n      // record starting points for pinch-to-zoom\n      if (e.touches[1]) {\n        r.touchData.singleTouchMoved = true;\n        freeDraggedElements(r.dragData.touchDragEles);\n        var offsets = r.findContainerClientCoords();\n        offsetLeft = offsets[0];\n        offsetTop = offsets[1];\n        containerWidth = offsets[2];\n        containerHeight = offsets[3];\n        f1x1 = e.touches[0].clientX - offsetLeft;\n        f1y1 = e.touches[0].clientY - offsetTop;\n        f2x1 = e.touches[1].clientX - offsetLeft;\n        f2y1 = e.touches[1].clientY - offsetTop;\n        twoFingersStartInside = 0 <= f1x1 && f1x1 <= containerWidth && 0 <= f2x1 && f2x1 <= containerWidth && 0 <= f1y1 && f1y1 <= containerHeight && 0 <= f2y1 && f2y1 <= containerHeight;\n        var pan = cy.pan();\n        var zoom = cy.zoom();\n        distance1 = distance(f1x1, f1y1, f2x1, f2y1);\n        distance1Sq = distanceSq(f1x1, f1y1, f2x1, f2y1);\n        center1 = [(f1x1 + f2x1) / 2, (f1y1 + f2y1) / 2];\n        modelCenter1 = [(center1[0] - pan.x) / zoom, (center1[1] - pan.y) / zoom];\n\n        // consider context tap\n        var cxtDistThreshold = 200;\n        var cxtDistThresholdSq = cxtDistThreshold * cxtDistThreshold;\n        if (distance1Sq < cxtDistThresholdSq && !e.touches[2]) {\n          var near1 = r.findNearestElement(now[0], now[1], true, true);\n          var near2 = r.findNearestElement(now[2], now[3], true, true);\n          if (near1 && near1.isNode()) {\n            near1.activate().emit({\n              originalEvent: e,\n              type: 'cxttapstart',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n            r.touchData.start = near1;\n          } else if (near2 && near2.isNode()) {\n            near2.activate().emit({\n              originalEvent: e,\n              type: 'cxttapstart',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n            r.touchData.start = near2;\n          } else {\n            cy.emit({\n              originalEvent: e,\n              type: 'cxttapstart',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n          }\n          if (r.touchData.start) {\n            r.touchData.start._private.grabbed = false;\n          }\n          r.touchData.cxt = true;\n          r.touchData.cxtDragged = false;\n          r.data.bgActivePosistion = undefined;\n          r.redraw();\n          return;\n        }\n      }\n      if (e.touches[2]) {\n        // ignore\n\n        // safari on ios pans the page otherwise (normally you should be able to preventdefault on touchmove...)\n        if (cy.boxSelectionEnabled()) {\n          e.preventDefault();\n        }\n      } else if (e.touches[1]) ; else if (e.touches[0]) {\n        var nears = r.findNearestElements(now[0], now[1], true, true);\n        var near = nears[0];\n        if (near != null) {\n          near.activate();\n          r.touchData.start = near;\n          r.touchData.starts = nears;\n          if (r.nodeIsGrabbable(near)) {\n            var draggedEles = r.dragData.touchDragEles = cy.collection();\n            var selectedNodes = null;\n            r.redrawHint('eles', true);\n            r.redrawHint('drag', true);\n            if (near.selected()) {\n              // reset drag elements, since near will be added again\n\n              selectedNodes = cy.$(function (ele) {\n                return ele.selected() && r.nodeIsGrabbable(ele);\n              });\n              addNodesToDrag(selectedNodes, {\n                addToList: draggedEles\n              });\n            } else {\n              addNodeToDrag(near, {\n                addToList: draggedEles\n              });\n            }\n            setGrabTarget(near);\n            var makeEvent = function makeEvent(type) {\n              return {\n                originalEvent: e,\n                type: type,\n                position: {\n                  x: now[0],\n                  y: now[1]\n                }\n              };\n            };\n            near.emit(makeEvent('grabon'));\n            if (selectedNodes) {\n              selectedNodes.forEach(function (n) {\n                n.emit(makeEvent('grab'));\n              });\n            } else {\n              near.emit(makeEvent('grab'));\n            }\n          }\n        }\n        triggerEvents(near, ['touchstart', 'tapstart', 'vmousedown'], e, {\n          x: now[0],\n          y: now[1]\n        });\n        if (near == null) {\n          r.data.bgActivePosistion = {\n            x: pos[0],\n            y: pos[1]\n          };\n          r.redrawHint('select', true);\n          r.redraw();\n        }\n\n        // Tap, taphold\n        // -----\n\n        r.touchData.singleTouchMoved = false;\n        r.touchData.singleTouchStartTime = +new Date();\n        clearTimeout(r.touchData.tapholdTimeout);\n        r.touchData.tapholdTimeout = setTimeout(function () {\n          if (r.touchData.singleTouchMoved === false && !r.pinching // if pinching, then taphold unselect shouldn't take effect\n          && !r.touchData.selecting // box selection shouldn't allow taphold through\n          ) {\n            triggerEvents(r.touchData.start, ['taphold'], e, {\n              x: now[0],\n              y: now[1]\n            });\n          }\n        }, r.tapholdDuration);\n      }\n      if (e.touches.length >= 1) {\n        var sPos = r.touchData.startPosition = [null, null, null, null, null, null];\n        for (var i = 0; i < now.length; i++) {\n          sPos[i] = earlier[i] = now[i];\n        }\n        var touch0 = e.touches[0];\n        r.touchData.startGPosition = [touch0.clientX, touch0.clientY];\n      }\n    }, false);\n    var touchmoveHandler;\n    r.registerBinding(window, 'touchmove', touchmoveHandler = function touchmoveHandler(e) {\n      // eslint-disable-line no-undef\n      var capture = r.touchData.capture;\n      if (!capture && !eventInContainer(e)) {\n        return;\n      }\n      var select = r.selection;\n      var cy = r.cy;\n      var now = r.touchData.now;\n      var earlier = r.touchData.earlier;\n      var zoom = cy.zoom();\n      if (e.touches[0]) {\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];\n        now[1] = pos[1];\n      }\n      if (e.touches[1]) {\n        var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n        now[2] = pos[0];\n        now[3] = pos[1];\n      }\n      if (e.touches[2]) {\n        var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n        now[4] = pos[0];\n        now[5] = pos[1];\n      }\n      var startGPos = r.touchData.startGPosition;\n      var isOverThresholdDrag;\n      if (capture && e.touches[0] && startGPos) {\n        var disp = [];\n        for (var j = 0; j < now.length; j++) {\n          disp[j] = now[j] - earlier[j];\n        }\n        var dx = e.touches[0].clientX - startGPos[0];\n        var dx2 = dx * dx;\n        var dy = e.touches[0].clientY - startGPos[1];\n        var dy2 = dy * dy;\n        var dist2 = dx2 + dy2;\n        isOverThresholdDrag = dist2 >= r.touchTapThreshold2;\n      }\n\n      // context swipe cancelling\n      if (capture && r.touchData.cxt) {\n        e.preventDefault();\n        var f1x2 = e.touches[0].clientX - offsetLeft,\n          f1y2 = e.touches[0].clientY - offsetTop;\n        var f2x2 = e.touches[1].clientX - offsetLeft,\n          f2y2 = e.touches[1].clientY - offsetTop;\n        // var distance2 = distance( f1x2, f1y2, f2x2, f2y2 );\n        var distance2Sq = distanceSq(f1x2, f1y2, f2x2, f2y2);\n        var factorSq = distance2Sq / distance1Sq;\n        var distThreshold = 150;\n        var distThresholdSq = distThreshold * distThreshold;\n        var factorThreshold = 1.5;\n        var factorThresholdSq = factorThreshold * factorThreshold;\n\n        // cancel ctx gestures if the distance b/t the fingers increases\n        if (factorSq >= factorThresholdSq || distance2Sq >= distThresholdSq) {\n          r.touchData.cxt = false;\n          r.data.bgActivePosistion = undefined;\n          r.redrawHint('select', true);\n          var cxtEvt = {\n            originalEvent: e,\n            type: 'cxttapend',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          };\n          if (r.touchData.start) {\n            r.touchData.start.unactivate().emit(cxtEvt);\n            r.touchData.start = null;\n          } else {\n            cy.emit(cxtEvt);\n          }\n        }\n      }\n\n      // context swipe\n      if (capture && r.touchData.cxt) {\n        var cxtEvt = {\n          originalEvent: e,\n          type: 'cxtdrag',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        };\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n        if (r.touchData.start) {\n          r.touchData.start.emit(cxtEvt);\n        } else {\n          cy.emit(cxtEvt);\n        }\n        if (r.touchData.start) {\n          r.touchData.start._private.grabbed = false;\n        }\n        r.touchData.cxtDragged = true;\n        var near = r.findNearestElement(now[0], now[1], true, true);\n        if (!r.touchData.cxtOver || near !== r.touchData.cxtOver) {\n          if (r.touchData.cxtOver) {\n            r.touchData.cxtOver.emit({\n              originalEvent: e,\n              type: 'cxtdragout',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n          }\n          r.touchData.cxtOver = near;\n          if (near) {\n            near.emit({\n              originalEvent: e,\n              type: 'cxtdragover',\n              position: {\n                x: now[0],\n                y: now[1]\n              }\n            });\n          }\n        }\n\n        // box selection\n      } else if (capture && e.touches[2] && cy.boxSelectionEnabled()) {\n        e.preventDefault();\n        r.data.bgActivePosistion = undefined;\n        this.lastThreeTouch = +new Date();\n        if (!r.touchData.selecting) {\n          cy.emit({\n            originalEvent: e,\n            type: 'boxstart',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          });\n        }\n        r.touchData.selecting = true;\n        r.touchData.didSelect = true;\n        select[4] = 1;\n        if (!select || select.length === 0 || select[0] === undefined) {\n          select[0] = (now[0] + now[2] + now[4]) / 3;\n          select[1] = (now[1] + now[3] + now[5]) / 3;\n          select[2] = (now[0] + now[2] + now[4]) / 3 + 1;\n          select[3] = (now[1] + now[3] + now[5]) / 3 + 1;\n        } else {\n          select[2] = (now[0] + now[2] + now[4]) / 3;\n          select[3] = (now[1] + now[3] + now[5]) / 3;\n        }\n        r.redrawHint('select', true);\n        r.redraw();\n\n        // pinch to zoom\n      } else if (capture && e.touches[1] && !r.touchData.didSelect // don't allow box selection to degrade to pinch-to-zoom\n      && cy.zoomingEnabled() && cy.panningEnabled() && cy.userZoomingEnabled() && cy.userPanningEnabled()) {\n        // two fingers => pinch to zoom\n        e.preventDefault();\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n        var draggedEles = r.dragData.touchDragEles;\n        if (draggedEles) {\n          r.redrawHint('drag', true);\n          for (var i = 0; i < draggedEles.length; i++) {\n            var de_p = draggedEles[i]._private;\n            de_p.grabbed = false;\n            de_p.rscratch.inDragLayer = false;\n          }\n        }\n        var _start = r.touchData.start;\n\n        // (x2, y2) for fingers 1 and 2\n        var f1x2 = e.touches[0].clientX - offsetLeft,\n          f1y2 = e.touches[0].clientY - offsetTop;\n        var f2x2 = e.touches[1].clientX - offsetLeft,\n          f2y2 = e.touches[1].clientY - offsetTop;\n        var distance2 = distance(f1x2, f1y2, f2x2, f2y2);\n        // var distance2Sq = distanceSq( f1x2, f1y2, f2x2, f2y2 );\n        // var factor = Math.sqrt( distance2Sq ) / Math.sqrt( distance1Sq );\n        var factor = distance2 / distance1;\n        if (twoFingersStartInside) {\n          // delta finger1\n          var df1x = f1x2 - f1x1;\n          var df1y = f1y2 - f1y1;\n\n          // delta finger 2\n          var df2x = f2x2 - f2x1;\n          var df2y = f2y2 - f2y1;\n\n          // translation is the normalised vector of the two fingers movement\n          // i.e. so pinching cancels out and moving together pans\n          var tx = (df1x + df2x) / 2;\n          var ty = (df1y + df2y) / 2;\n\n          // now calculate the zoom\n          var zoom1 = cy.zoom();\n          var zoom2 = zoom1 * factor;\n          var pan1 = cy.pan();\n\n          // the model center point converted to the current rendered pos\n          var ctrx = modelCenter1[0] * zoom1 + pan1.x;\n          var ctry = modelCenter1[1] * zoom1 + pan1.y;\n          var pan2 = {\n            x: -zoom2 / zoom1 * (ctrx - pan1.x - tx) + ctrx,\n            y: -zoom2 / zoom1 * (ctry - pan1.y - ty) + ctry\n          };\n\n          // remove dragged eles\n          if (_start && _start.active()) {\n            var draggedEles = r.dragData.touchDragEles;\n            freeDraggedElements(draggedEles);\n            r.redrawHint('drag', true);\n            r.redrawHint('eles', true);\n            _start.unactivate().emit('freeon');\n            draggedEles.emit('free');\n            if (r.dragData.didDrag) {\n              _start.emit('dragfreeon');\n              draggedEles.emit('dragfree');\n            }\n          }\n          cy.viewport({\n            zoom: zoom2,\n            pan: pan2,\n            cancelOnFailedZoom: true\n          });\n          cy.emit('pinchzoom');\n          distance1 = distance2;\n          f1x1 = f1x2;\n          f1y1 = f1y2;\n          f2x1 = f2x2;\n          f2y1 = f2y2;\n          r.pinching = true;\n        }\n\n        // Re-project\n        if (e.touches[0]) {\n          var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n          now[0] = pos[0];\n          now[1] = pos[1];\n        }\n        if (e.touches[1]) {\n          var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n          now[2] = pos[0];\n          now[3] = pos[1];\n        }\n        if (e.touches[2]) {\n          var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n          now[4] = pos[0];\n          now[5] = pos[1];\n        }\n      } else if (e.touches[0] && !r.touchData.didSelect // don't allow box selection to degrade to single finger events like panning\n      ) {\n        var start = r.touchData.start;\n        var last = r.touchData.last;\n        var near;\n        if (!r.hoverData.draggingEles && !r.swipePanning) {\n          near = r.findNearestElement(now[0], now[1], true, true);\n        }\n        if (capture && start != null) {\n          e.preventDefault();\n        }\n\n        // dragging nodes\n        if (capture && start != null && r.nodeIsDraggable(start)) {\n          if (isOverThresholdDrag) {\n            // then dragging can happen\n            var draggedEles = r.dragData.touchDragEles;\n            var justStartedDrag = !r.dragData.didDrag;\n            if (justStartedDrag) {\n              addNodesToDrag(draggedEles, {\n                inDragLayer: true\n              });\n            }\n            r.dragData.didDrag = true;\n            var totalShift = {\n              x: 0,\n              y: 0\n            };\n            if (number$1(disp[0]) && number$1(disp[1])) {\n              totalShift.x += disp[0];\n              totalShift.y += disp[1];\n              if (justStartedDrag) {\n                r.redrawHint('eles', true);\n                var dragDelta = r.touchData.dragDelta;\n                if (dragDelta && number$1(dragDelta[0]) && number$1(dragDelta[1])) {\n                  totalShift.x += dragDelta[0];\n                  totalShift.y += dragDelta[1];\n                }\n              }\n            }\n            r.hoverData.draggingEles = true;\n            draggedEles.silentShift(totalShift).emit('position drag');\n            r.redrawHint('drag', true);\n            if (r.touchData.startPosition[0] == earlier[0] && r.touchData.startPosition[1] == earlier[1]) {\n              r.redrawHint('eles', true);\n            }\n            r.redraw();\n          } else {\n            // otherwise keep track of drag delta for later\n            var dragDelta = r.touchData.dragDelta = r.touchData.dragDelta || [];\n            if (dragDelta.length === 0) {\n              dragDelta.push(disp[0]);\n              dragDelta.push(disp[1]);\n            } else {\n              dragDelta[0] += disp[0];\n              dragDelta[1] += disp[1];\n            }\n          }\n        }\n\n        // touchmove\n        {\n          triggerEvents(start || near, ['touchmove', 'tapdrag', 'vmousemove'], e, {\n            x: now[0],\n            y: now[1]\n          });\n          if ((!start || !start.grabbed()) && near != last) {\n            if (last) {\n              last.emit({\n                originalEvent: e,\n                type: 'tapdragout',\n                position: {\n                  x: now[0],\n                  y: now[1]\n                }\n              });\n            }\n            if (near) {\n              near.emit({\n                originalEvent: e,\n                type: 'tapdragover',\n                position: {\n                  x: now[0],\n                  y: now[1]\n                }\n              });\n            }\n          }\n          r.touchData.last = near;\n        }\n\n        // check to cancel taphold\n        if (capture) {\n          for (var i = 0; i < now.length; i++) {\n            if (now[i] && r.touchData.startPosition[i] && isOverThresholdDrag) {\n              r.touchData.singleTouchMoved = true;\n            }\n          }\n        }\n\n        // panning\n        if (capture && (start == null || start.pannable()) && cy.panningEnabled() && cy.userPanningEnabled()) {\n          var allowPassthrough = allowPanningPassthrough(start, r.touchData.starts);\n          if (allowPassthrough) {\n            e.preventDefault();\n            if (!r.data.bgActivePosistion) {\n              r.data.bgActivePosistion = array2point(r.touchData.startPosition);\n            }\n            if (r.swipePanning) {\n              cy.panBy({\n                x: disp[0] * zoom,\n                y: disp[1] * zoom\n              });\n              cy.emit('dragpan');\n            } else if (isOverThresholdDrag) {\n              r.swipePanning = true;\n              cy.panBy({\n                x: dx * zoom,\n                y: dy * zoom\n              });\n              cy.emit('dragpan');\n              if (start) {\n                start.unactivate();\n                r.redrawHint('select', true);\n                r.touchData.start = null;\n              }\n            }\n          }\n\n          // Re-project\n          var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n          now[0] = pos[0];\n          now[1] = pos[1];\n        }\n      }\n      for (var j = 0; j < now.length; j++) {\n        earlier[j] = now[j];\n      }\n\n      // the active bg indicator should be removed when making a swipe that is neither for dragging nodes or panning\n      if (capture && e.touches.length > 0 && !r.hoverData.draggingEles && !r.swipePanning && r.data.bgActivePosistion != null) {\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n        r.redraw();\n      }\n    }, false);\n    var touchcancelHandler;\n    r.registerBinding(containerWindow, 'touchcancel', touchcancelHandler = function touchcancelHandler(e) {\n      // eslint-disable-line no-unused-vars\n      var start = r.touchData.start;\n      r.touchData.capture = false;\n      if (start) {\n        start.unactivate();\n      }\n    });\n    var touchendHandler, didDoubleTouch, touchTimeout, prevTouchTimeStamp;\n    r.registerBinding(containerWindow, 'touchend', touchendHandler = function touchendHandler(e) {\n      // eslint-disable-line no-unused-vars\n      var start = r.touchData.start;\n      var capture = r.touchData.capture;\n      if (capture) {\n        if (e.touches.length === 0) {\n          r.touchData.capture = false;\n        }\n        e.preventDefault();\n      } else {\n        return;\n      }\n      var select = r.selection;\n      r.swipePanning = false;\n      r.hoverData.draggingEles = false;\n      var cy = r.cy;\n      var zoom = cy.zoom();\n      var now = r.touchData.now;\n      var earlier = r.touchData.earlier;\n      if (e.touches[0]) {\n        var pos = r.projectIntoViewport(e.touches[0].clientX, e.touches[0].clientY);\n        now[0] = pos[0];\n        now[1] = pos[1];\n      }\n      if (e.touches[1]) {\n        var pos = r.projectIntoViewport(e.touches[1].clientX, e.touches[1].clientY);\n        now[2] = pos[0];\n        now[3] = pos[1];\n      }\n      if (e.touches[2]) {\n        var pos = r.projectIntoViewport(e.touches[2].clientX, e.touches[2].clientY);\n        now[4] = pos[0];\n        now[5] = pos[1];\n      }\n      if (start) {\n        start.unactivate();\n      }\n      var ctxTapend;\n      if (r.touchData.cxt) {\n        ctxTapend = {\n          originalEvent: e,\n          type: 'cxttapend',\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        };\n        if (start) {\n          start.emit(ctxTapend);\n        } else {\n          cy.emit(ctxTapend);\n        }\n        if (!r.touchData.cxtDragged) {\n          var ctxTap = {\n            originalEvent: e,\n            type: 'cxttap',\n            position: {\n              x: now[0],\n              y: now[1]\n            }\n          };\n          if (start) {\n            start.emit(ctxTap);\n          } else {\n            cy.emit(ctxTap);\n          }\n        }\n        if (r.touchData.start) {\n          r.touchData.start._private.grabbed = false;\n        }\n        r.touchData.cxt = false;\n        r.touchData.start = null;\n        r.redraw();\n        return;\n      }\n\n      // no more box selection if we don't have three fingers\n      if (!e.touches[2] && cy.boxSelectionEnabled() && r.touchData.selecting) {\n        r.touchData.selecting = false;\n        var box = cy.collection(r.getAllInBox(select[0], select[1], select[2], select[3]));\n        select[0] = undefined;\n        select[1] = undefined;\n        select[2] = undefined;\n        select[3] = undefined;\n        select[4] = 0;\n        r.redrawHint('select', true);\n        cy.emit({\n          type: 'boxend',\n          originalEvent: e,\n          position: {\n            x: now[0],\n            y: now[1]\n          }\n        });\n        var eleWouldBeSelected = function eleWouldBeSelected(ele) {\n          return ele.selectable() && !ele.selected();\n        };\n        box.emit('box').stdFilter(eleWouldBeSelected).select().emit('boxselect');\n        if (box.nonempty()) {\n          r.redrawHint('eles', true);\n        }\n        r.redraw();\n      }\n      if (start != null) {\n        start.unactivate();\n      }\n      if (e.touches[2]) {\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n      } else if (e.touches[1]) ; else if (e.touches[0]) ; else if (!e.touches[0]) {\n        r.data.bgActivePosistion = undefined;\n        r.redrawHint('select', true);\n        var draggedEles = r.dragData.touchDragEles;\n        if (start != null) {\n          var startWasGrabbed = start._private.grabbed;\n          freeDraggedElements(draggedEles);\n          r.redrawHint('drag', true);\n          r.redrawHint('eles', true);\n          if (startWasGrabbed) {\n            start.emit('freeon');\n            draggedEles.emit('free');\n            if (r.dragData.didDrag) {\n              start.emit('dragfreeon');\n              draggedEles.emit('dragfree');\n            }\n          }\n          triggerEvents(start, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n            x: now[0],\n            y: now[1]\n          });\n          start.unactivate();\n          r.touchData.start = null;\n        } else {\n          var near = r.findNearestElement(now[0], now[1], true, true);\n          triggerEvents(near, ['touchend', 'tapend', 'vmouseup', 'tapdragout'], e, {\n            x: now[0],\n            y: now[1]\n          });\n        }\n        var dx = r.touchData.startPosition[0] - now[0];\n        var dx2 = dx * dx;\n        var dy = r.touchData.startPosition[1] - now[1];\n        var dy2 = dy * dy;\n        var dist2 = dx2 + dy2;\n        var rdist2 = dist2 * zoom * zoom;\n\n        // Tap event, roughly same as mouse click event for touch\n        if (!r.touchData.singleTouchMoved) {\n          if (!start) {\n            cy.$(':selected').unselect(['tapunselect']);\n          }\n          triggerEvents(start, ['tap', 'vclick'], e, {\n            x: now[0],\n            y: now[1]\n          });\n          didDoubleTouch = false;\n          if (e.timeStamp - prevTouchTimeStamp <= cy.multiClickDebounceTime()) {\n            touchTimeout && clearTimeout(touchTimeout);\n            didDoubleTouch = true;\n            prevTouchTimeStamp = null;\n            triggerEvents(start, ['dbltap', 'vdblclick'], e, {\n              x: now[0],\n              y: now[1]\n            });\n          } else {\n            touchTimeout = setTimeout(function () {\n              if (didDoubleTouch) return;\n              triggerEvents(start, ['onetap', 'voneclick'], e, {\n                x: now[0],\n                y: now[1]\n              });\n            }, cy.multiClickDebounceTime());\n            prevTouchTimeStamp = e.timeStamp;\n          }\n        }\n\n        // Prepare to select the currently touched node, only if it hasn't been dragged past a certain distance\n        if (start != null && !r.dragData.didDrag // didn't drag nodes around\n        && start._private.selectable && rdist2 < r.touchTapThreshold2 && !r.pinching // pinch to zoom should not affect selection\n        ) {\n          if (cy.selectionType() === 'single') {\n            cy.$(isSelected).unmerge(start).unselect(['tapunselect']);\n            start.select(['tapselect']);\n          } else {\n            if (start.selected()) {\n              start.unselect(['tapunselect']);\n            } else {\n              start.select(['tapselect']);\n            }\n          }\n          r.redrawHint('eles', true);\n        }\n        r.touchData.singleTouchMoved = true;\n      }\n      for (var j = 0; j < now.length; j++) {\n        earlier[j] = now[j];\n      }\n      r.dragData.didDrag = false; // reset for next touchstart\n\n      if (e.touches.length === 0) {\n        r.touchData.dragDelta = [];\n        r.touchData.startPosition = [null, null, null, null, null, null];\n        r.touchData.startGPosition = null;\n        r.touchData.didSelect = false;\n      }\n      if (e.touches.length < 2) {\n        if (e.touches.length === 1) {\n          // the old start global pos'n may not be the same finger that remains\n          r.touchData.startGPosition = [e.touches[0].clientX, e.touches[0].clientY];\n        }\n        r.pinching = false;\n        r.redrawHint('eles', true);\n        r.redraw();\n      }\n\n      //r.redraw();\n    }, false);\n\n    // fallback compatibility layer for ms pointer events\n    if (typeof TouchEvent === 'undefined') {\n      var pointers = [];\n      var makeTouch = function makeTouch(e) {\n        return {\n          clientX: e.clientX,\n          clientY: e.clientY,\n          force: 1,\n          identifier: e.pointerId,\n          pageX: e.pageX,\n          pageY: e.pageY,\n          radiusX: e.width / 2,\n          radiusY: e.height / 2,\n          screenX: e.screenX,\n          screenY: e.screenY,\n          target: e.target\n        };\n      };\n      var makePointer = function makePointer(e) {\n        return {\n          event: e,\n          touch: makeTouch(e)\n        };\n      };\n      var addPointer = function addPointer(e) {\n        pointers.push(makePointer(e));\n      };\n      var removePointer = function removePointer(e) {\n        for (var i = 0; i < pointers.length; i++) {\n          var p = pointers[i];\n          if (p.event.pointerId === e.pointerId) {\n            pointers.splice(i, 1);\n            return;\n          }\n        }\n      };\n      var updatePointer = function updatePointer(e) {\n        var p = pointers.filter(function (p) {\n          return p.event.pointerId === e.pointerId;\n        })[0];\n        p.event = e;\n        p.touch = makeTouch(e);\n      };\n      var addTouchesToEvent = function addTouchesToEvent(e) {\n        e.touches = pointers.map(function (p) {\n          return p.touch;\n        });\n      };\n      var pointerIsMouse = function pointerIsMouse(e) {\n        return e.pointerType === 'mouse' || e.pointerType === 4;\n      };\n      r.registerBinding(r.container, 'pointerdown', function (e) {\n        if (pointerIsMouse(e)) {\n          return;\n        } // mouse already handled\n\n        e.preventDefault();\n        addPointer(e);\n        addTouchesToEvent(e);\n        touchstartHandler(e);\n      });\n      r.registerBinding(r.container, 'pointerup', function (e) {\n        if (pointerIsMouse(e)) {\n          return;\n        } // mouse already handled\n\n        removePointer(e);\n        addTouchesToEvent(e);\n        touchendHandler(e);\n      });\n      r.registerBinding(r.container, 'pointercancel', function (e) {\n        if (pointerIsMouse(e)) {\n          return;\n        } // mouse already handled\n\n        removePointer(e);\n        addTouchesToEvent(e);\n        touchcancelHandler(e);\n      });\n      r.registerBinding(r.container, 'pointermove', function (e) {\n        if (pointerIsMouse(e)) {\n          return;\n        } // mouse already handled\n\n        e.preventDefault();\n        updatePointer(e);\n        addTouchesToEvent(e);\n        touchmoveHandler(e);\n      });\n    }\n  };\n\n  var BRp$2 = {};\n  BRp$2.generatePolygon = function (name, points) {\n    return this.nodeShapes[name] = {\n      renderer: this,\n      name: name,\n      points: points,\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl('polygon', context, centerX, centerY, width, height, this.points);\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        return polygonIntersectLine(x, y, this.points, nodeX, nodeY, width / 2, height / 2, padding);\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        return pointInsidePolygon(x, y, this.points, centerX, centerY, width, height, [0, -1], padding);\n      }\n    };\n  };\n  BRp$2.generateEllipse = function () {\n    return this.nodeShapes['ellipse'] = {\n      renderer: this,\n      name: 'ellipse',\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        return intersectLineEllipse(x, y, nodeX, nodeY, width / 2 + padding, height / 2 + padding);\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        return checkInEllipse(x, y, width, height, centerX, centerY, padding);\n      }\n    };\n  };\n  BRp$2.generateRoundPolygon = function (name, points) {\n    // Pre-compute control points\n    // Since these points depend on the radius length (which in turns depend on the width/height of the node) we will only pre-compute\n    // the unit vectors.\n    // For simplicity the layout will be:\n    // [ p0, UnitVectorP0P1, p1, UniVectorP1P2, ..., pn, UnitVectorPnP0 ]\n    var allPoints = new Array(points.length * 2);\n    for (var i = 0; i < points.length / 2; i++) {\n      var sourceIndex = i * 2;\n      var destIndex = void 0;\n      if (i < points.length / 2 - 1) {\n        destIndex = (i + 1) * 2;\n      } else {\n        destIndex = 0;\n      }\n      allPoints[i * 4] = points[sourceIndex];\n      allPoints[i * 4 + 1] = points[sourceIndex + 1];\n      var xDest = points[destIndex] - points[sourceIndex];\n      var yDest = points[destIndex + 1] - points[sourceIndex + 1];\n      var norm = Math.sqrt(xDest * xDest + yDest * yDest);\n      allPoints[i * 4 + 2] = xDest / norm;\n      allPoints[i * 4 + 3] = yDest / norm;\n    }\n    return this.nodeShapes[name] = {\n      renderer: this,\n      name: name,\n      points: allPoints,\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl('round-polygon', context, centerX, centerY, width, height, this.points);\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        return roundPolygonIntersectLine(x, y, this.points, nodeX, nodeY, width, height);\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        return pointInsideRoundPolygon(x, y, this.points, centerX, centerY, width, height);\n      }\n    };\n  };\n  BRp$2.generateRoundRectangle = function () {\n    return this.nodeShapes['round-rectangle'] = this.nodeShapes['roundrectangle'] = {\n      renderer: this,\n      name: 'round-rectangle',\n      points: generateUnitNgonPointsFitToSquare(4, 0),\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        return roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding);\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        var cornerRadius = getRoundRectangleRadius(width, height);\n        var diam = cornerRadius * 2;\n\n        // Check hBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n          return true;\n        }\n\n        // Check vBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n          return true;\n        }\n\n        // Check top left quarter circle\n        if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY - height / 2 + cornerRadius, padding)) {\n          return true;\n        }\n\n        // Check top right quarter circle\n        if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY - height / 2 + cornerRadius, padding)) {\n          return true;\n        }\n\n        // Check bottom right quarter circle\n        if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n          return true;\n        }\n\n        // Check bottom left quarter circle\n        if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n          return true;\n        }\n        return false;\n      }\n    };\n  };\n  BRp$2.generateCutRectangle = function () {\n    return this.nodeShapes['cut-rectangle'] = this.nodeShapes['cutrectangle'] = {\n      renderer: this,\n      name: 'cut-rectangle',\n      cornerLength: getCutRectangleCornerLength(),\n      points: generateUnitNgonPointsFitToSquare(4, 0),\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n      },\n      generateCutTrianglePts: function generateCutTrianglePts(width, height, centerX, centerY) {\n        var cl = this.cornerLength;\n        var hh = height / 2;\n        var hw = width / 2;\n        var xBegin = centerX - hw;\n        var xEnd = centerX + hw;\n        var yBegin = centerY - hh;\n        var yEnd = centerY + hh;\n\n        // points are in clockwise order, inner (imaginary) triangle pt on [4, 5]\n        return {\n          topLeft: [xBegin, yBegin + cl, xBegin + cl, yBegin, xBegin + cl, yBegin + cl],\n          topRight: [xEnd - cl, yBegin, xEnd, yBegin + cl, xEnd - cl, yBegin + cl],\n          bottomRight: [xEnd, yEnd - cl, xEnd - cl, yEnd, xEnd - cl, yEnd - cl],\n          bottomLeft: [xBegin + cl, yEnd, xBegin, yEnd - cl, xBegin + cl, yEnd - cl]\n        };\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        var cPts = this.generateCutTrianglePts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n        var pts = [].concat.apply([], [cPts.topLeft.splice(0, 4), cPts.topRight.splice(0, 4), cPts.bottomRight.splice(0, 4), cPts.bottomLeft.splice(0, 4)]);\n        return polygonIntersectLine(x, y, pts, nodeX, nodeY);\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        // Check hBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * this.cornerLength, [0, -1], padding)) {\n          return true;\n        }\n\n        // Check vBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * this.cornerLength, height, [0, -1], padding)) {\n          return true;\n        }\n        var cutTrianglePts = this.generateCutTrianglePts(width, height, centerX, centerY);\n        return pointInsidePolygonPoints(x, y, cutTrianglePts.topLeft) || pointInsidePolygonPoints(x, y, cutTrianglePts.topRight) || pointInsidePolygonPoints(x, y, cutTrianglePts.bottomRight) || pointInsidePolygonPoints(x, y, cutTrianglePts.bottomLeft);\n      }\n    };\n  };\n  BRp$2.generateBarrel = function () {\n    return this.nodeShapes['barrel'] = {\n      renderer: this,\n      name: 'barrel',\n      points: generateUnitNgonPointsFitToSquare(4, 0),\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        // use two fixed t values for the bezier curve approximation\n\n        var t0 = 0.15;\n        var t1 = 0.5;\n        var t2 = 0.85;\n        var bPts = this.generateBarrelBezierPts(width + 2 * padding, height + 2 * padding, nodeX, nodeY);\n        var approximateBarrelCurvePts = function approximateBarrelCurvePts(pts) {\n          // approximate curve pts based on the two t values\n          var m0 = qbezierPtAt({\n            x: pts[0],\n            y: pts[1]\n          }, {\n            x: pts[2],\n            y: pts[3]\n          }, {\n            x: pts[4],\n            y: pts[5]\n          }, t0);\n          var m1 = qbezierPtAt({\n            x: pts[0],\n            y: pts[1]\n          }, {\n            x: pts[2],\n            y: pts[3]\n          }, {\n            x: pts[4],\n            y: pts[5]\n          }, t1);\n          var m2 = qbezierPtAt({\n            x: pts[0],\n            y: pts[1]\n          }, {\n            x: pts[2],\n            y: pts[3]\n          }, {\n            x: pts[4],\n            y: pts[5]\n          }, t2);\n          return [pts[0], pts[1], m0.x, m0.y, m1.x, m1.y, m2.x, m2.y, pts[4], pts[5]];\n        };\n        var pts = [].concat(approximateBarrelCurvePts(bPts.topLeft), approximateBarrelCurvePts(bPts.topRight), approximateBarrelCurvePts(bPts.bottomRight), approximateBarrelCurvePts(bPts.bottomLeft));\n        return polygonIntersectLine(x, y, pts, nodeX, nodeY);\n      },\n      generateBarrelBezierPts: function generateBarrelBezierPts(width, height, centerX, centerY) {\n        var hh = height / 2;\n        var hw = width / 2;\n        var xBegin = centerX - hw;\n        var xEnd = centerX + hw;\n        var yBegin = centerY - hh;\n        var yEnd = centerY + hh;\n        var curveConstants = getBarrelCurveConstants(width, height);\n        var hOffset = curveConstants.heightOffset;\n        var wOffset = curveConstants.widthOffset;\n        var ctrlPtXOffset = curveConstants.ctrlPtOffsetPct * width;\n\n        // points are in clockwise order, inner (imaginary) control pt on [4, 5]\n        var pts = {\n          topLeft: [xBegin, yBegin + hOffset, xBegin + ctrlPtXOffset, yBegin, xBegin + wOffset, yBegin],\n          topRight: [xEnd - wOffset, yBegin, xEnd - ctrlPtXOffset, yBegin, xEnd, yBegin + hOffset],\n          bottomRight: [xEnd, yEnd - hOffset, xEnd - ctrlPtXOffset, yEnd, xEnd - wOffset, yEnd],\n          bottomLeft: [xBegin + wOffset, yEnd, xBegin + ctrlPtXOffset, yEnd, xBegin, yEnd - hOffset]\n        };\n        pts.topLeft.isTop = true;\n        pts.topRight.isTop = true;\n        pts.bottomLeft.isBottom = true;\n        pts.bottomRight.isBottom = true;\n        return pts;\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        var curveConstants = getBarrelCurveConstants(width, height);\n        var hOffset = curveConstants.heightOffset;\n        var wOffset = curveConstants.widthOffset;\n\n        // Check hBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - 2 * hOffset, [0, -1], padding)) {\n          return true;\n        }\n\n        // Check vBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - 2 * wOffset, height, [0, -1], padding)) {\n          return true;\n        }\n        var barrelCurvePts = this.generateBarrelBezierPts(width, height, centerX, centerY);\n        var getCurveT = function getCurveT(x, y, curvePts) {\n          var x0 = curvePts[4];\n          var x1 = curvePts[2];\n          var x2 = curvePts[0];\n          var y0 = curvePts[5];\n          // var y1 = curvePts[ 3 ];\n          var y2 = curvePts[1];\n          var xMin = Math.min(x0, x2);\n          var xMax = Math.max(x0, x2);\n          var yMin = Math.min(y0, y2);\n          var yMax = Math.max(y0, y2);\n          if (xMin <= x && x <= xMax && yMin <= y && y <= yMax) {\n            var coeff = bezierPtsToQuadCoeff(x0, x1, x2);\n            var roots = solveQuadratic(coeff[0], coeff[1], coeff[2], x);\n            var validRoots = roots.filter(function (r) {\n              return 0 <= r && r <= 1;\n            });\n            if (validRoots.length > 0) {\n              return validRoots[0];\n            }\n          }\n          return null;\n        };\n        var curveRegions = Object.keys(barrelCurvePts);\n        for (var i = 0; i < curveRegions.length; i++) {\n          var corner = curveRegions[i];\n          var cornerPts = barrelCurvePts[corner];\n          var t = getCurveT(x, y, cornerPts);\n          if (t == null) {\n            continue;\n          }\n          var y0 = cornerPts[5];\n          var y1 = cornerPts[3];\n          var y2 = cornerPts[1];\n          var bezY = qbezierAt(y0, y1, y2, t);\n          if (cornerPts.isTop && bezY <= y) {\n            return true;\n          }\n          if (cornerPts.isBottom && y <= bezY) {\n            return true;\n          }\n        }\n        return false;\n      }\n    };\n  };\n  BRp$2.generateBottomRoundrectangle = function () {\n    return this.nodeShapes['bottom-round-rectangle'] = this.nodeShapes['bottomroundrectangle'] = {\n      renderer: this,\n      name: 'bottom-round-rectangle',\n      points: generateUnitNgonPointsFitToSquare(4, 0),\n      draw: function draw(context, centerX, centerY, width, height) {\n        this.renderer.nodeShapeImpl(this.name, context, centerX, centerY, width, height);\n      },\n      intersectLine: function intersectLine(nodeX, nodeY, width, height, x, y, padding) {\n        var topStartX = nodeX - (width / 2 + padding);\n        var topStartY = nodeY - (height / 2 + padding);\n        var topEndY = topStartY;\n        var topEndX = nodeX + (width / 2 + padding);\n        var topIntersections = finiteLinesIntersect(x, y, nodeX, nodeY, topStartX, topStartY, topEndX, topEndY, false);\n        if (topIntersections.length > 0) {\n          return topIntersections;\n        }\n        return roundRectangleIntersectLine(x, y, nodeX, nodeY, width, height, padding);\n      },\n      checkPoint: function checkPoint(x, y, padding, width, height, centerX, centerY) {\n        var cornerRadius = getRoundRectangleRadius(width, height);\n        var diam = 2 * cornerRadius;\n\n        // Check hBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width, height - diam, [0, -1], padding)) {\n          return true;\n        }\n\n        // Check vBox\n        if (pointInsidePolygon(x, y, this.points, centerX, centerY, width - diam, height, [0, -1], padding)) {\n          return true;\n        }\n\n        // check non-rounded top side\n        var outerWidth = width / 2 + 2 * padding;\n        var outerHeight = height / 2 + 2 * padding;\n        var points = [centerX - outerWidth, centerY - outerHeight, centerX - outerWidth, centerY, centerX + outerWidth, centerY, centerX + outerWidth, centerY - outerHeight];\n        if (pointInsidePolygonPoints(x, y, points)) {\n          return true;\n        }\n\n        // Check bottom right quarter circle\n        if (checkInEllipse(x, y, diam, diam, centerX + width / 2 - cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n          return true;\n        }\n\n        // Check bottom left quarter circle\n        if (checkInEllipse(x, y, diam, diam, centerX - width / 2 + cornerRadius, centerY + height / 2 - cornerRadius, padding)) {\n          return true;\n        }\n        return false;\n      }\n    };\n  };\n  BRp$2.registerNodeShapes = function () {\n    var nodeShapes = this.nodeShapes = {};\n    var renderer = this;\n    this.generateEllipse();\n    this.generatePolygon('triangle', generateUnitNgonPointsFitToSquare(3, 0));\n    this.generateRoundPolygon('round-triangle', generateUnitNgonPointsFitToSquare(3, 0));\n    this.generatePolygon('rectangle', generateUnitNgonPointsFitToSquare(4, 0));\n    nodeShapes['square'] = nodeShapes['rectangle'];\n    this.generateRoundRectangle();\n    this.generateCutRectangle();\n    this.generateBarrel();\n    this.generateBottomRoundrectangle();\n    {\n      var diamondPoints = [0, 1, 1, 0, 0, -1, -1, 0];\n      this.generatePolygon('diamond', diamondPoints);\n      this.generateRoundPolygon('round-diamond', diamondPoints);\n    }\n    this.generatePolygon('pentagon', generateUnitNgonPointsFitToSquare(5, 0));\n    this.generateRoundPolygon('round-pentagon', generateUnitNgonPointsFitToSquare(5, 0));\n    this.generatePolygon('hexagon', generateUnitNgonPointsFitToSquare(6, 0));\n    this.generateRoundPolygon('round-hexagon', generateUnitNgonPointsFitToSquare(6, 0));\n    this.generatePolygon('heptagon', generateUnitNgonPointsFitToSquare(7, 0));\n    this.generateRoundPolygon('round-heptagon', generateUnitNgonPointsFitToSquare(7, 0));\n    this.generatePolygon('octagon', generateUnitNgonPointsFitToSquare(8, 0));\n    this.generateRoundPolygon('round-octagon', generateUnitNgonPointsFitToSquare(8, 0));\n    var star5Points = new Array(20);\n    {\n      var outerPoints = generateUnitNgonPoints(5, 0);\n      var innerPoints = generateUnitNgonPoints(5, Math.PI / 5);\n\n      // Outer radius is 1; inner radius of star is smaller\n      var innerRadius = 0.5 * (3 - Math.sqrt(5));\n      innerRadius *= 1.57;\n      for (var i = 0; i < innerPoints.length / 2; i++) {\n        innerPoints[i * 2] *= innerRadius;\n        innerPoints[i * 2 + 1] *= innerRadius;\n      }\n      for (var i = 0; i < 20 / 4; i++) {\n        star5Points[i * 4] = outerPoints[i * 2];\n        star5Points[i * 4 + 1] = outerPoints[i * 2 + 1];\n        star5Points[i * 4 + 2] = innerPoints[i * 2];\n        star5Points[i * 4 + 3] = innerPoints[i * 2 + 1];\n      }\n    }\n    star5Points = fitPolygonToSquare(star5Points);\n    this.generatePolygon('star', star5Points);\n    this.generatePolygon('vee', [-1, -1, 0, -0.333, 1, -1, 0, 1]);\n    this.generatePolygon('rhomboid', [-1, -1, 0.333, -1, 1, 1, -0.333, 1]);\n    this.generatePolygon('right-rhomboid', [-0.333, -1, 1, -1, 0.333, 1, -1, 1]);\n    this.nodeShapes['concavehexagon'] = this.generatePolygon('concave-hexagon', [-1, -0.95, -0.75, 0, -1, 0.95, 1, 0.95, 0.75, 0, 1, -0.95]);\n    {\n      var tagPoints = [-1, -1, 0.25, -1, 1, 0, 0.25, 1, -1, 1];\n      this.generatePolygon('tag', tagPoints);\n      this.generateRoundPolygon('round-tag', tagPoints);\n    }\n    nodeShapes.makePolygon = function (points) {\n      // use caching on user-specified polygons so they are as fast as native shapes\n\n      var key = points.join('$');\n      var name = 'polygon-' + key;\n      var shape;\n      if (shape = this[name]) {\n        // got cached shape\n        return shape;\n      }\n\n      // create and cache new shape\n      return renderer.generatePolygon(name, points);\n    };\n  };\n\n  var BRp$1 = {};\n  BRp$1.timeToRender = function () {\n    return this.redrawTotalTime / this.redrawCount;\n  };\n  BRp$1.redraw = function (options) {\n    options = options || staticEmptyObject();\n    var r = this;\n    if (r.averageRedrawTime === undefined) {\n      r.averageRedrawTime = 0;\n    }\n    if (r.lastRedrawTime === undefined) {\n      r.lastRedrawTime = 0;\n    }\n    if (r.lastDrawTime === undefined) {\n      r.lastDrawTime = 0;\n    }\n    r.requestedFrame = true;\n    r.renderOptions = options;\n  };\n  BRp$1.beforeRender = function (fn, priority) {\n    // the renderer can't add tick callbacks when destroyed\n    if (this.destroyed) {\n      return;\n    }\n    if (priority == null) {\n      error('Priority is not optional for beforeRender');\n    }\n    var cbs = this.beforeRenderCallbacks;\n    cbs.push({\n      fn: fn,\n      priority: priority\n    });\n\n    // higher priority callbacks executed first\n    cbs.sort(function (a, b) {\n      return b.priority - a.priority;\n    });\n  };\n  var beforeRenderCallbacks = function beforeRenderCallbacks(r, willDraw, startTime) {\n    var cbs = r.beforeRenderCallbacks;\n    for (var i = 0; i < cbs.length; i++) {\n      cbs[i].fn(willDraw, startTime);\n    }\n  };\n  BRp$1.startRenderLoop = function () {\n    var r = this;\n    var cy = r.cy;\n    if (r.renderLoopStarted) {\n      return;\n    } else {\n      r.renderLoopStarted = true;\n    }\n    var renderFn = function renderFn(requestTime) {\n      if (r.destroyed) {\n        return;\n      }\n      if (cy.batching()) ; else if (r.requestedFrame && !r.skipFrame) {\n        beforeRenderCallbacks(r, true, requestTime);\n        var startTime = performanceNow();\n        r.render(r.renderOptions);\n        var endTime = r.lastDrawTime = performanceNow();\n        if (r.averageRedrawTime === undefined) {\n          r.averageRedrawTime = endTime - startTime;\n        }\n        if (r.redrawCount === undefined) {\n          r.redrawCount = 0;\n        }\n        r.redrawCount++;\n        if (r.redrawTotalTime === undefined) {\n          r.redrawTotalTime = 0;\n        }\n        var duration = endTime - startTime;\n        r.redrawTotalTime += duration;\n        r.lastRedrawTime = duration;\n\n        // use a weighted average with a bias from the previous average so we don't spike so easily\n        r.averageRedrawTime = r.averageRedrawTime / 2 + duration / 2;\n        r.requestedFrame = false;\n      } else {\n        beforeRenderCallbacks(r, false, requestTime);\n      }\n      r.skipFrame = false;\n      requestAnimationFrame(renderFn);\n    };\n    requestAnimationFrame(renderFn);\n  };\n\n  var BaseRenderer = function BaseRenderer(options) {\n    this.init(options);\n  };\n  var BR = BaseRenderer;\n  var BRp = BR.prototype;\n  BRp.clientFunctions = ['redrawHint', 'render', 'renderTo', 'matchCanvasSize', 'nodeShapeImpl', 'arrowShapeImpl'];\n  BRp.init = function (options) {\n    var r = this;\n    r.options = options;\n    r.cy = options.cy;\n    var ctr = r.container = options.cy.container();\n    var containerWindow = r.cy.window();\n\n    // prepend a stylesheet in the head such that\n    if (containerWindow) {\n      var document = containerWindow.document;\n      var head = document.head;\n      var stylesheetId = '__________cytoscape_stylesheet';\n      var className = '__________cytoscape_container';\n      var stylesheetAlreadyExists = document.getElementById(stylesheetId) != null;\n      if (ctr.className.indexOf(className) < 0) {\n        ctr.className = (ctr.className || '') + ' ' + className;\n      }\n      if (!stylesheetAlreadyExists) {\n        var stylesheet = document.createElement('style');\n        stylesheet.id = stylesheetId;\n        stylesheet.textContent = '.' + className + ' { position: relative; }';\n        head.insertBefore(stylesheet, head.children[0]); // first so lowest priority\n      }\n\n      var computedStyle = containerWindow.getComputedStyle(ctr);\n      var position = computedStyle.getPropertyValue('position');\n      if (position === 'static') {\n        warn('A Cytoscape container has style position:static and so can not use UI extensions properly');\n      }\n    }\n    r.selection = [undefined, undefined, undefined, undefined, 0]; // Coordinates for selection box, plus enabled flag\n\n    r.bezierProjPcts = [0.05, 0.225, 0.4, 0.5, 0.6, 0.775, 0.95];\n\n    //--Pointer-related data\n    r.hoverData = {\n      down: null,\n      last: null,\n      downTime: null,\n      triggerMode: null,\n      dragging: false,\n      initialPan: [null, null],\n      capture: false\n    };\n    r.dragData = {\n      possibleDragElements: []\n    };\n    r.touchData = {\n      start: null,\n      capture: false,\n      // These 3 fields related to tap, taphold events\n      startPosition: [null, null, null, null, null, null],\n      singleTouchStartTime: null,\n      singleTouchMoved: true,\n      now: [null, null, null, null, null, null],\n      earlier: [null, null, null, null, null, null]\n    };\n    r.redraws = 0;\n    r.showFps = options.showFps;\n    r.debug = options.debug;\n    r.hideEdgesOnViewport = options.hideEdgesOnViewport;\n    r.textureOnViewport = options.textureOnViewport;\n    r.wheelSensitivity = options.wheelSensitivity;\n    r.motionBlurEnabled = options.motionBlur; // on by default\n    r.forcedPixelRatio = number$1(options.pixelRatio) ? options.pixelRatio : null;\n    r.motionBlur = options.motionBlur; // for initial kick off\n    r.motionBlurOpacity = options.motionBlurOpacity;\n    r.motionBlurTransparency = 1 - r.motionBlurOpacity;\n    r.motionBlurPxRatio = 1;\n    r.mbPxRBlurry = 1; //0.8;\n    r.minMbLowQualFrames = 4;\n    r.fullQualityMb = false;\n    r.clearedForMotionBlur = [];\n    r.desktopTapThreshold = options.desktopTapThreshold;\n    r.desktopTapThreshold2 = options.desktopTapThreshold * options.desktopTapThreshold;\n    r.touchTapThreshold = options.touchTapThreshold;\n    r.touchTapThreshold2 = options.touchTapThreshold * options.touchTapThreshold;\n    r.tapholdDuration = 500;\n    r.bindings = [];\n    r.beforeRenderCallbacks = [];\n    r.beforeRenderPriorities = {\n      // higher priority execs before lower one\n      animations: 400,\n      eleCalcs: 300,\n      eleTxrDeq: 200,\n      lyrTxrDeq: 150,\n      lyrTxrSkip: 100\n    };\n    r.registerNodeShapes();\n    r.registerArrowShapes();\n    r.registerCalculationListeners();\n  };\n  BRp.notify = function (eventName, eles) {\n    var r = this;\n    var cy = r.cy;\n\n    // the renderer can't be notified after it's destroyed\n    if (this.destroyed) {\n      return;\n    }\n    if (eventName === 'init') {\n      r.load();\n      return;\n    }\n    if (eventName === 'destroy') {\n      r.destroy();\n      return;\n    }\n    if (eventName === 'add' || eventName === 'remove' || eventName === 'move' && cy.hasCompoundNodes() || eventName === 'load' || eventName === 'zorder' || eventName === 'mount') {\n      r.invalidateCachedZSortedEles();\n    }\n    if (eventName === 'viewport') {\n      r.redrawHint('select', true);\n    }\n    if (eventName === 'load' || eventName === 'resize' || eventName === 'mount') {\n      r.invalidateContainerClientCoordsCache();\n      r.matchCanvasSize(r.container);\n    }\n    r.redrawHint('eles', true);\n    r.redrawHint('drag', true);\n    this.startRenderLoop();\n    this.redraw();\n  };\n  BRp.destroy = function () {\n    var r = this;\n    r.destroyed = true;\n    r.cy.stopAnimationLoop();\n    for (var i = 0; i < r.bindings.length; i++) {\n      var binding = r.bindings[i];\n      var b = binding;\n      var tgt = b.target;\n      (tgt.off || tgt.removeEventListener).apply(tgt, b.args);\n    }\n    r.bindings = [];\n    r.beforeRenderCallbacks = [];\n    r.onUpdateEleCalcsFns = [];\n    if (r.removeObserver) {\n      r.removeObserver.disconnect();\n    }\n    if (r.styleObserver) {\n      r.styleObserver.disconnect();\n    }\n    if (r.resizeObserver) {\n      r.resizeObserver.disconnect();\n    }\n    if (r.labelCalcDiv) {\n      try {\n        document.body.removeChild(r.labelCalcDiv); // eslint-disable-line no-undef\n      } catch (e) {\n        // ie10 issue #1014\n      }\n    }\n  };\n  BRp.isHeadless = function () {\n    return false;\n  };\n  [BRp$f, BRp$5, BRp$4, BRp$3, BRp$2, BRp$1].forEach(function (props) {\n    extend(BRp, props);\n  });\n\n  var fullFpsTime = 1000 / 60; // assume 60 frames per second\n\n  var defs = {\n    setupDequeueing: function setupDequeueing(opts) {\n      return function setupDequeueingImpl() {\n        var self = this;\n        var r = this.renderer;\n        if (self.dequeueingSetup) {\n          return;\n        } else {\n          self.dequeueingSetup = true;\n        }\n        var queueRedraw = debounce_1(function () {\n          r.redrawHint('eles', true);\n          r.redrawHint('drag', true);\n          r.redraw();\n        }, opts.deqRedrawThreshold);\n        var dequeue = function dequeue(willDraw, frameStartTime) {\n          var startTime = performanceNow();\n          var avgRenderTime = r.averageRedrawTime;\n          var renderTime = r.lastRedrawTime;\n          var deqd = [];\n          var extent = r.cy.extent();\n          var pixelRatio = r.getPixelRatio();\n\n          // if we aren't in a tick that causes a draw, then the rendered style\n          // queue won't automatically be flushed before dequeueing starts\n          if (!willDraw) {\n            r.flushRenderedStyleQueue();\n          }\n          while (true) {\n            // eslint-disable-line no-constant-condition\n            var now = performanceNow();\n            var duration = now - startTime;\n            var frameDuration = now - frameStartTime;\n            if (renderTime < fullFpsTime) {\n              // if we're rendering faster than the ideal fps, then do dequeueing\n              // during all of the remaining frame time\n\n              var timeAvailable = fullFpsTime - (willDraw ? avgRenderTime : 0);\n              if (frameDuration >= opts.deqFastCost * timeAvailable) {\n                break;\n              }\n            } else {\n              if (willDraw) {\n                if (duration >= opts.deqCost * renderTime || duration >= opts.deqAvgCost * avgRenderTime) {\n                  break;\n                }\n              } else if (frameDuration >= opts.deqNoDrawCost * fullFpsTime) {\n                break;\n              }\n            }\n            var thisDeqd = opts.deq(self, pixelRatio, extent);\n            if (thisDeqd.length > 0) {\n              for (var i = 0; i < thisDeqd.length; i++) {\n                deqd.push(thisDeqd[i]);\n              }\n            } else {\n              break;\n            }\n          }\n\n          // callbacks on dequeue\n          if (deqd.length > 0) {\n            opts.onDeqd(self, deqd);\n            if (!willDraw && opts.shouldRedraw(self, deqd, pixelRatio, extent)) {\n              queueRedraw();\n            }\n          }\n        };\n        var priority = opts.priority || noop$1;\n        r.beforeRender(dequeue, priority(self));\n      };\n    }\n  };\n\n  // Allows lookups for (ele, lvl) => cache.\n  // Uses keys so elements may share the same cache.\n  var ElementTextureCacheLookup = /*#__PURE__*/function () {\n    function ElementTextureCacheLookup(getKey) {\n      var doesEleInvalidateKey = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : falsify;\n      _classCallCheck(this, ElementTextureCacheLookup);\n      this.idsByKey = new Map$2();\n      this.keyForId = new Map$2();\n      this.cachesByLvl = new Map$2();\n      this.lvls = [];\n      this.getKey = getKey;\n      this.doesEleInvalidateKey = doesEleInvalidateKey;\n    }\n    _createClass(ElementTextureCacheLookup, [{\n      key: \"getIdsFor\",\n      value: function getIdsFor(key) {\n        if (key == null) {\n          error(\"Can not get id list for null key\");\n        }\n        var idsByKey = this.idsByKey;\n        var ids = this.idsByKey.get(key);\n        if (!ids) {\n          ids = new Set$1();\n          idsByKey.set(key, ids);\n        }\n        return ids;\n      }\n    }, {\n      key: \"addIdForKey\",\n      value: function addIdForKey(key, id) {\n        if (key != null) {\n          this.getIdsFor(key).add(id);\n        }\n      }\n    }, {\n      key: \"deleteIdForKey\",\n      value: function deleteIdForKey(key, id) {\n        if (key != null) {\n          this.getIdsFor(key)[\"delete\"](id);\n        }\n      }\n    }, {\n      key: \"getNumberOfIdsForKey\",\n      value: function getNumberOfIdsForKey(key) {\n        if (key == null) {\n          return 0;\n        } else {\n          return this.getIdsFor(key).size;\n        }\n      }\n    }, {\n      key: \"updateKeyMappingFor\",\n      value: function updateKeyMappingFor(ele) {\n        var id = ele.id();\n        var prevKey = this.keyForId.get(id);\n        var currKey = this.getKey(ele);\n        this.deleteIdForKey(prevKey, id);\n        this.addIdForKey(currKey, id);\n        this.keyForId.set(id, currKey);\n      }\n    }, {\n      key: \"deleteKeyMappingFor\",\n      value: function deleteKeyMappingFor(ele) {\n        var id = ele.id();\n        var prevKey = this.keyForId.get(id);\n        this.deleteIdForKey(prevKey, id);\n        this.keyForId[\"delete\"](id);\n      }\n    }, {\n      key: \"keyHasChangedFor\",\n      value: function keyHasChangedFor(ele) {\n        var id = ele.id();\n        var prevKey = this.keyForId.get(id);\n        var newKey = this.getKey(ele);\n        return prevKey !== newKey;\n      }\n    }, {\n      key: \"isInvalid\",\n      value: function isInvalid(ele) {\n        return this.keyHasChangedFor(ele) || this.doesEleInvalidateKey(ele);\n      }\n    }, {\n      key: \"getCachesAt\",\n      value: function getCachesAt(lvl) {\n        var cachesByLvl = this.cachesByLvl,\n          lvls = this.lvls;\n        var caches = cachesByLvl.get(lvl);\n        if (!caches) {\n          caches = new Map$2();\n          cachesByLvl.set(lvl, caches);\n          lvls.push(lvl);\n        }\n        return caches;\n      }\n    }, {\n      key: \"getCache\",\n      value: function getCache(key, lvl) {\n        return this.getCachesAt(lvl).get(key);\n      }\n    }, {\n      key: \"get\",\n      value: function get(ele, lvl) {\n        var key = this.getKey(ele);\n        var cache = this.getCache(key, lvl);\n\n        // getting for an element may need to add to the id list b/c eles can share keys\n        if (cache != null) {\n          this.updateKeyMappingFor(ele);\n        }\n        return cache;\n      }\n    }, {\n      key: \"getForCachedKey\",\n      value: function getForCachedKey(ele, lvl) {\n        var key = this.keyForId.get(ele.id()); // n.b. use cached key, not newly computed key\n        var cache = this.getCache(key, lvl);\n        return cache;\n      }\n    }, {\n      key: \"hasCache\",\n      value: function hasCache(key, lvl) {\n        return this.getCachesAt(lvl).has(key);\n      }\n    }, {\n      key: \"has\",\n      value: function has(ele, lvl) {\n        var key = this.getKey(ele);\n        return this.hasCache(key, lvl);\n      }\n    }, {\n      key: \"setCache\",\n      value: function setCache(key, lvl, cache) {\n        cache.key = key;\n        this.getCachesAt(lvl).set(key, cache);\n      }\n    }, {\n      key: \"set\",\n      value: function set(ele, lvl, cache) {\n        var key = this.getKey(ele);\n        this.setCache(key, lvl, cache);\n        this.updateKeyMappingFor(ele);\n      }\n    }, {\n      key: \"deleteCache\",\n      value: function deleteCache(key, lvl) {\n        this.getCachesAt(lvl)[\"delete\"](key);\n      }\n    }, {\n      key: \"delete\",\n      value: function _delete(ele, lvl) {\n        var key = this.getKey(ele);\n        this.deleteCache(key, lvl);\n      }\n    }, {\n      key: \"invalidateKey\",\n      value: function invalidateKey(key) {\n        var _this = this;\n        this.lvls.forEach(function (lvl) {\n          return _this.deleteCache(key, lvl);\n        });\n      }\n\n      // returns true if no other eles reference the invalidated cache (n.b. other eles may need the cache with the same key)\n    }, {\n      key: \"invalidate\",\n      value: function invalidate(ele) {\n        var id = ele.id();\n        var key = this.keyForId.get(id); // n.b. use stored key rather than current (potential key)\n\n        this.deleteKeyMappingFor(ele);\n        var entireKeyInvalidated = this.doesEleInvalidateKey(ele);\n        if (entireKeyInvalidated) {\n          // clear mapping for current key\n          this.invalidateKey(key);\n        }\n        return entireKeyInvalidated || this.getNumberOfIdsForKey(key) === 0;\n      }\n    }]);\n    return ElementTextureCacheLookup;\n  }();\n\n  var minTxrH = 25; // the size of the texture cache for small height eles (special case)\n  var txrStepH = 50; // the min size of the regular cache, and the size it increases with each step up\n  var minLvl$1 = -4; // when scaling smaller than that we don't need to re-render\n  var maxLvl$1 = 3; // when larger than this scale just render directly (caching is not helpful)\n  var maxZoom$1 = 7.99; // beyond this zoom level, layered textures are not used\n  var eleTxrSpacing = 8; // spacing between elements on textures to avoid blitting overlaps\n  var defTxrWidth = 1024; // default/minimum texture width\n  var maxTxrW = 1024; // the maximum width of a texture\n  var maxTxrH = 1024; // the maximum height of a texture\n  var minUtility = 0.2; // if usage of texture is less than this, it is retired\n  var maxFullness = 0.8; // fullness of texture after which queue removal is checked\n  var maxFullnessChecks = 10; // dequeued after this many checks\n  var deqCost$1 = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\n  var deqAvgCost$1 = 0.1; // % of add'l rendering cost compared to average overall redraw time\n  var deqNoDrawCost$1 = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\n  var deqFastCost$1 = 0.9; // % of frame time to be used when >60fps\n  var deqRedrawThreshold$1 = 100; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\n  var maxDeqSize$1 = 1; // number of eles to dequeue and render at higher texture in each batch\n\n  var getTxrReasons = {\n    dequeue: 'dequeue',\n    downscale: 'downscale',\n    highQuality: 'highQuality'\n  };\n  var initDefaults = defaults$g({\n    getKey: null,\n    doesEleInvalidateKey: falsify,\n    drawElement: null,\n    getBoundingBox: null,\n    getRotationPoint: null,\n    getRotationOffset: null,\n    isVisible: trueify,\n    allowEdgeTxrCaching: true,\n    allowParentTxrCaching: true\n  });\n  var ElementTextureCache = function ElementTextureCache(renderer, initOptions) {\n    var self = this;\n    self.renderer = renderer;\n    self.onDequeues = [];\n    var opts = initDefaults(initOptions);\n    extend(self, opts);\n    self.lookup = new ElementTextureCacheLookup(opts.getKey, opts.doesEleInvalidateKey);\n    self.setupDequeueing();\n  };\n  var ETCp = ElementTextureCache.prototype;\n  ETCp.reasons = getTxrReasons;\n\n  // the list of textures in which new subtextures for elements can be placed\n  ETCp.getTextureQueue = function (txrH) {\n    var self = this;\n    self.eleImgCaches = self.eleImgCaches || {};\n    return self.eleImgCaches[txrH] = self.eleImgCaches[txrH] || [];\n  };\n\n  // the list of usused textures which can be recycled (in use in texture queue)\n  ETCp.getRetiredTextureQueue = function (txrH) {\n    var self = this;\n    var rtxtrQs = self.eleImgCaches.retired = self.eleImgCaches.retired || {};\n    var rtxtrQ = rtxtrQs[txrH] = rtxtrQs[txrH] || [];\n    return rtxtrQ;\n  };\n\n  // queue of element draw requests at different scale levels\n  ETCp.getElementQueue = function () {\n    var self = this;\n    var q = self.eleCacheQueue = self.eleCacheQueue || new heap(function (a, b) {\n      return b.reqs - a.reqs;\n    });\n    return q;\n  };\n\n  // queue of element draw requests at different scale levels (element id lookup)\n  ETCp.getElementKeyToQueue = function () {\n    var self = this;\n    var k2q = self.eleKeyToCacheQueue = self.eleKeyToCacheQueue || {};\n    return k2q;\n  };\n  ETCp.getElement = function (ele, bb, pxRatio, lvl, reason) {\n    var self = this;\n    var r = this.renderer;\n    var zoom = r.cy.zoom();\n    var lookup = this.lookup;\n    if (!bb || bb.w === 0 || bb.h === 0 || isNaN(bb.w) || isNaN(bb.h) || !ele.visible() || ele.removed()) {\n      return null;\n    }\n    if (!self.allowEdgeTxrCaching && ele.isEdge() || !self.allowParentTxrCaching && ele.isParent()) {\n      return null;\n    }\n    if (lvl == null) {\n      lvl = Math.ceil(log2(zoom * pxRatio));\n    }\n    if (lvl < minLvl$1) {\n      lvl = minLvl$1;\n    } else if (zoom >= maxZoom$1 || lvl > maxLvl$1) {\n      return null;\n    }\n    var scale = Math.pow(2, lvl);\n    var eleScaledH = bb.h * scale;\n    var eleScaledW = bb.w * scale;\n    var scaledLabelShown = r.eleTextBiggerThanMin(ele, scale);\n    if (!this.isVisible(ele, scaledLabelShown)) {\n      return null;\n    }\n    var eleCache = lookup.get(ele, lvl);\n\n    // if this get was on an unused/invalidated cache, then restore the texture usage metric\n    if (eleCache && eleCache.invalidated) {\n      eleCache.invalidated = false;\n      eleCache.texture.invalidatedWidth -= eleCache.width;\n    }\n    if (eleCache) {\n      return eleCache;\n    }\n    var txrH; // which texture height this ele belongs to\n\n    if (eleScaledH <= minTxrH) {\n      txrH = minTxrH;\n    } else if (eleScaledH <= txrStepH) {\n      txrH = txrStepH;\n    } else {\n      txrH = Math.ceil(eleScaledH / txrStepH) * txrStepH;\n    }\n    if (eleScaledH > maxTxrH || eleScaledW > maxTxrW) {\n      return null; // caching large elements is not efficient\n    }\n\n    var txrQ = self.getTextureQueue(txrH);\n\n    // first try the second last one in case it has space at the end\n    var txr = txrQ[txrQ.length - 2];\n    var addNewTxr = function addNewTxr() {\n      return self.recycleTexture(txrH, eleScaledW) || self.addTexture(txrH, eleScaledW);\n    };\n\n    // try the last one if there is no second last one\n    if (!txr) {\n      txr = txrQ[txrQ.length - 1];\n    }\n\n    // if the last one doesn't exist, we need a first one\n    if (!txr) {\n      txr = addNewTxr();\n    }\n\n    // if there's no room in the current texture, we need a new one\n    if (txr.width - txr.usedWidth < eleScaledW) {\n      txr = addNewTxr();\n    }\n    var scalableFrom = function scalableFrom(otherCache) {\n      return otherCache && otherCache.scaledLabelShown === scaledLabelShown;\n    };\n    var deqing = reason && reason === getTxrReasons.dequeue;\n    var highQualityReq = reason && reason === getTxrReasons.highQuality;\n    var downscaleReq = reason && reason === getTxrReasons.downscale;\n    var higherCache; // the nearest cache with a higher level\n    for (var l = lvl + 1; l <= maxLvl$1; l++) {\n      var c = lookup.get(ele, l);\n      if (c) {\n        higherCache = c;\n        break;\n      }\n    }\n    var oneUpCache = higherCache && higherCache.level === lvl + 1 ? higherCache : null;\n    var downscale = function downscale() {\n      txr.context.drawImage(oneUpCache.texture.canvas, oneUpCache.x, 0, oneUpCache.width, oneUpCache.height, txr.usedWidth, 0, eleScaledW, eleScaledH);\n    };\n\n    // reset ele area in texture\n    txr.context.setTransform(1, 0, 0, 1, 0, 0);\n    txr.context.clearRect(txr.usedWidth, 0, eleScaledW, txrH);\n    if (scalableFrom(oneUpCache)) {\n      // then we can relatively cheaply rescale the existing image w/o rerendering\n      downscale();\n    } else if (scalableFrom(higherCache)) {\n      // then use the higher cache for now and queue the next level down\n      // to cheaply scale towards the smaller level\n\n      if (highQualityReq) {\n        for (var _l = higherCache.level; _l > lvl; _l--) {\n          oneUpCache = self.getElement(ele, bb, pxRatio, _l, getTxrReasons.downscale);\n        }\n        downscale();\n      } else {\n        self.queueElement(ele, higherCache.level - 1);\n        return higherCache;\n      }\n    } else {\n      var lowerCache; // the nearest cache with a lower level\n      if (!deqing && !highQualityReq && !downscaleReq) {\n        for (var _l2 = lvl - 1; _l2 >= minLvl$1; _l2--) {\n          var _c = lookup.get(ele, _l2);\n          if (_c) {\n            lowerCache = _c;\n            break;\n          }\n        }\n      }\n      if (scalableFrom(lowerCache)) {\n        // then use the lower quality cache for now and queue the better one for later\n\n        self.queueElement(ele, lvl);\n        return lowerCache;\n      }\n      txr.context.translate(txr.usedWidth, 0);\n      txr.context.scale(scale, scale);\n      this.drawElement(txr.context, ele, bb, scaledLabelShown, false);\n      txr.context.scale(1 / scale, 1 / scale);\n      txr.context.translate(-txr.usedWidth, 0);\n    }\n    eleCache = {\n      x: txr.usedWidth,\n      texture: txr,\n      level: lvl,\n      scale: scale,\n      width: eleScaledW,\n      height: eleScaledH,\n      scaledLabelShown: scaledLabelShown\n    };\n    txr.usedWidth += Math.ceil(eleScaledW + eleTxrSpacing);\n    txr.eleCaches.push(eleCache);\n    lookup.set(ele, lvl, eleCache);\n    self.checkTextureFullness(txr);\n    return eleCache;\n  };\n  ETCp.invalidateElements = function (eles) {\n    for (var i = 0; i < eles.length; i++) {\n      this.invalidateElement(eles[i]);\n    }\n  };\n  ETCp.invalidateElement = function (ele) {\n    var self = this;\n    var lookup = self.lookup;\n    var caches = [];\n    var invalid = lookup.isInvalid(ele);\n    if (!invalid) {\n      return; // override the invalidation request if the element key has not changed\n    }\n\n    for (var lvl = minLvl$1; lvl <= maxLvl$1; lvl++) {\n      var cache = lookup.getForCachedKey(ele, lvl);\n      if (cache) {\n        caches.push(cache);\n      }\n    }\n    var noOtherElesUseCache = lookup.invalidate(ele);\n    if (noOtherElesUseCache) {\n      for (var i = 0; i < caches.length; i++) {\n        var _cache = caches[i];\n        var txr = _cache.texture;\n\n        // remove space from the texture it belongs to\n        txr.invalidatedWidth += _cache.width;\n\n        // mark the cache as invalidated\n        _cache.invalidated = true;\n\n        // retire the texture if its utility is low\n        self.checkTextureUtility(txr);\n      }\n    }\n\n    // remove from queue since the old req was for the old state\n    self.removeFromQueue(ele);\n  };\n  ETCp.checkTextureUtility = function (txr) {\n    // invalidate all entries in the cache if the cache size is small\n    if (txr.invalidatedWidth >= minUtility * txr.width) {\n      this.retireTexture(txr);\n    }\n  };\n  ETCp.checkTextureFullness = function (txr) {\n    // if texture has been mostly filled and passed over several times, remove\n    // it from the queue so we don't need to waste time looking at it to put new things\n\n    var self = this;\n    var txrQ = self.getTextureQueue(txr.height);\n    if (txr.usedWidth / txr.width > maxFullness && txr.fullnessChecks >= maxFullnessChecks) {\n      removeFromArray(txrQ, txr);\n    } else {\n      txr.fullnessChecks++;\n    }\n  };\n  ETCp.retireTexture = function (txr) {\n    var self = this;\n    var txrH = txr.height;\n    var txrQ = self.getTextureQueue(txrH);\n    var lookup = this.lookup;\n\n    // retire the texture from the active / searchable queue:\n\n    removeFromArray(txrQ, txr);\n    txr.retired = true;\n\n    // remove the refs from the eles to the caches:\n\n    var eleCaches = txr.eleCaches;\n    for (var i = 0; i < eleCaches.length; i++) {\n      var eleCache = eleCaches[i];\n      lookup.deleteCache(eleCache.key, eleCache.level);\n    }\n    clearArray(eleCaches);\n\n    // add the texture to a retired queue so it can be recycled in future:\n\n    var rtxtrQ = self.getRetiredTextureQueue(txrH);\n    rtxtrQ.push(txr);\n  };\n  ETCp.addTexture = function (txrH, minW) {\n    var self = this;\n    var txrQ = self.getTextureQueue(txrH);\n    var txr = {};\n    txrQ.push(txr);\n    txr.eleCaches = [];\n    txr.height = txrH;\n    txr.width = Math.max(defTxrWidth, minW);\n    txr.usedWidth = 0;\n    txr.invalidatedWidth = 0;\n    txr.fullnessChecks = 0;\n    txr.canvas = self.renderer.makeOffscreenCanvas(txr.width, txr.height);\n    txr.context = txr.canvas.getContext('2d');\n    return txr;\n  };\n  ETCp.recycleTexture = function (txrH, minW) {\n    var self = this;\n    var txrQ = self.getTextureQueue(txrH);\n    var rtxtrQ = self.getRetiredTextureQueue(txrH);\n    for (var i = 0; i < rtxtrQ.length; i++) {\n      var txr = rtxtrQ[i];\n      if (txr.width >= minW) {\n        txr.retired = false;\n        txr.usedWidth = 0;\n        txr.invalidatedWidth = 0;\n        txr.fullnessChecks = 0;\n        clearArray(txr.eleCaches);\n        txr.context.setTransform(1, 0, 0, 1, 0, 0);\n        txr.context.clearRect(0, 0, txr.width, txr.height);\n        removeFromArray(rtxtrQ, txr);\n        txrQ.push(txr);\n        return txr;\n      }\n    }\n  };\n  ETCp.queueElement = function (ele, lvl) {\n    var self = this;\n    var q = self.getElementQueue();\n    var k2q = self.getElementKeyToQueue();\n    var key = this.getKey(ele);\n    var existingReq = k2q[key];\n    if (existingReq) {\n      // use the max lvl b/c in between lvls are cheap to make\n      existingReq.level = Math.max(existingReq.level, lvl);\n      existingReq.eles.merge(ele);\n      existingReq.reqs++;\n      q.updateItem(existingReq);\n    } else {\n      var req = {\n        eles: ele.spawn().merge(ele),\n        level: lvl,\n        reqs: 1,\n        key: key\n      };\n      q.push(req);\n      k2q[key] = req;\n    }\n  };\n  ETCp.dequeue = function (pxRatio /*, extent*/) {\n    var self = this;\n    var q = self.getElementQueue();\n    var k2q = self.getElementKeyToQueue();\n    var dequeued = [];\n    var lookup = self.lookup;\n    for (var i = 0; i < maxDeqSize$1; i++) {\n      if (q.size() > 0) {\n        var req = q.pop();\n        var key = req.key;\n        var ele = req.eles[0]; // all eles have the same key\n        var cacheExists = lookup.hasCache(ele, req.level);\n\n        // clear out the key to req lookup\n        k2q[key] = null;\n\n        // dequeueing isn't necessary with an existing cache\n        if (cacheExists) {\n          continue;\n        }\n        dequeued.push(req);\n        var bb = self.getBoundingBox(ele);\n        self.getElement(ele, bb, pxRatio, req.level, getTxrReasons.dequeue);\n      } else {\n        break;\n      }\n    }\n    return dequeued;\n  };\n  ETCp.removeFromQueue = function (ele) {\n    var self = this;\n    var q = self.getElementQueue();\n    var k2q = self.getElementKeyToQueue();\n    var key = this.getKey(ele);\n    var req = k2q[key];\n    if (req != null) {\n      if (req.eles.length === 1) {\n        // remove if last ele in the req\n        // bring to front of queue\n        req.reqs = MAX_INT$1;\n        q.updateItem(req);\n        q.pop(); // remove from queue\n\n        k2q[key] = null; // remove from lookup map\n      } else {\n        // otherwise just remove ele from req\n        req.eles.unmerge(ele);\n      }\n    }\n  };\n  ETCp.onDequeue = function (fn) {\n    this.onDequeues.push(fn);\n  };\n  ETCp.offDequeue = function (fn) {\n    removeFromArray(this.onDequeues, fn);\n  };\n  ETCp.setupDequeueing = defs.setupDequeueing({\n    deqRedrawThreshold: deqRedrawThreshold$1,\n    deqCost: deqCost$1,\n    deqAvgCost: deqAvgCost$1,\n    deqNoDrawCost: deqNoDrawCost$1,\n    deqFastCost: deqFastCost$1,\n    deq: function deq(self, pxRatio, extent) {\n      return self.dequeue(pxRatio, extent);\n    },\n    onDeqd: function onDeqd(self, deqd) {\n      for (var i = 0; i < self.onDequeues.length; i++) {\n        var fn = self.onDequeues[i];\n        fn(deqd);\n      }\n    },\n    shouldRedraw: function shouldRedraw(self, deqd, pxRatio, extent) {\n      for (var i = 0; i < deqd.length; i++) {\n        var eles = deqd[i].eles;\n        for (var j = 0; j < eles.length; j++) {\n          var bb = eles[j].boundingBox();\n          if (boundingBoxesIntersect(bb, extent)) {\n            return true;\n          }\n        }\n      }\n      return false;\n    },\n    priority: function priority(self) {\n      return self.renderer.beforeRenderPriorities.eleTxrDeq;\n    }\n  });\n\n  var defNumLayers = 1; // default number of layers to use\n  var minLvl = -4; // when scaling smaller than that we don't need to re-render\n  var maxLvl = 2; // when larger than this scale just render directly (caching is not helpful)\n  var maxZoom = 3.99; // beyond this zoom level, layered textures are not used\n  var deqRedrawThreshold = 50; // time to batch redraws together from dequeueing to allow more dequeueing calcs to happen in the meanwhile\n  var refineEleDebounceTime = 50; // time to debounce sharper ele texture updates\n  var deqCost = 0.15; // % of add'l rendering cost allowed for dequeuing ele caches each frame\n  var deqAvgCost = 0.1; // % of add'l rendering cost compared to average overall redraw time\n  var deqNoDrawCost = 0.9; // % of avg frame time that can be used for dequeueing when not drawing\n  var deqFastCost = 0.9; // % of frame time to be used when >60fps\n  var maxDeqSize = 1; // number of eles to dequeue and render at higher texture in each batch\n  var invalidThreshold = 250; // time threshold for disabling b/c of invalidations\n  var maxLayerArea = 4000 * 4000; // layers can't be bigger than this\n  var useHighQualityEleTxrReqs = true; // whether to use high quality ele txr requests (generally faster and cheaper in the longterm)\n\n  // var log = function(){ console.log.apply( console, arguments ); };\n\n  var LayeredTextureCache = function LayeredTextureCache(renderer) {\n    var self = this;\n    var r = self.renderer = renderer;\n    var cy = r.cy;\n    self.layersByLevel = {}; // e.g. 2 => [ layer1, layer2, ..., layerN ]\n\n    self.firstGet = true;\n    self.lastInvalidationTime = performanceNow() - 2 * invalidThreshold;\n    self.skipping = false;\n    self.eleTxrDeqs = cy.collection();\n    self.scheduleElementRefinement = debounce_1(function () {\n      self.refineElementTextures(self.eleTxrDeqs);\n      self.eleTxrDeqs.unmerge(self.eleTxrDeqs);\n    }, refineEleDebounceTime);\n    r.beforeRender(function (willDraw, now) {\n      if (now - self.lastInvalidationTime <= invalidThreshold) {\n        self.skipping = true;\n      } else {\n        self.skipping = false;\n      }\n    }, r.beforeRenderPriorities.lyrTxrSkip);\n    var qSort = function qSort(a, b) {\n      return b.reqs - a.reqs;\n    };\n    self.layersQueue = new heap(qSort);\n    self.setupDequeueing();\n  };\n  var LTCp = LayeredTextureCache.prototype;\n  var layerIdPool = 0;\n  var MAX_INT = Math.pow(2, 53) - 1;\n  LTCp.makeLayer = function (bb, lvl) {\n    var scale = Math.pow(2, lvl);\n    var w = Math.ceil(bb.w * scale);\n    var h = Math.ceil(bb.h * scale);\n    var canvas = this.renderer.makeOffscreenCanvas(w, h);\n    var layer = {\n      id: layerIdPool = ++layerIdPool % MAX_INT,\n      bb: bb,\n      level: lvl,\n      width: w,\n      height: h,\n      canvas: canvas,\n      context: canvas.getContext('2d'),\n      eles: [],\n      elesQueue: [],\n      reqs: 0\n    };\n\n    // log('make layer %s with w %s and h %s and lvl %s', layer.id, layer.width, layer.height, layer.level);\n\n    var cxt = layer.context;\n    var dx = -layer.bb.x1;\n    var dy = -layer.bb.y1;\n\n    // do the transform on creation to save cycles (it's the same for all eles)\n    cxt.scale(scale, scale);\n    cxt.translate(dx, dy);\n    return layer;\n  };\n  LTCp.getLayers = function (eles, pxRatio, lvl) {\n    var self = this;\n    var r = self.renderer;\n    var cy = r.cy;\n    var zoom = cy.zoom();\n    var firstGet = self.firstGet;\n    self.firstGet = false;\n\n    // log('--\\nget layers with %s eles', eles.length);\n    //log eles.map(function(ele){ return ele.id() }) );\n\n    if (lvl == null) {\n      lvl = Math.ceil(log2(zoom * pxRatio));\n      if (lvl < minLvl) {\n        lvl = minLvl;\n      } else if (zoom >= maxZoom || lvl > maxLvl) {\n        return null;\n      }\n    }\n    self.validateLayersElesOrdering(lvl, eles);\n    var layersByLvl = self.layersByLevel;\n    var scale = Math.pow(2, lvl);\n    var layers = layersByLvl[lvl] = layersByLvl[lvl] || [];\n    var bb;\n    var lvlComplete = self.levelIsComplete(lvl, eles);\n    var tmpLayers;\n    var checkTempLevels = function checkTempLevels() {\n      var canUseAsTmpLvl = function canUseAsTmpLvl(l) {\n        self.validateLayersElesOrdering(l, eles);\n        if (self.levelIsComplete(l, eles)) {\n          tmpLayers = layersByLvl[l];\n          return true;\n        }\n      };\n      var checkLvls = function checkLvls(dir) {\n        if (tmpLayers) {\n          return;\n        }\n        for (var l = lvl + dir; minLvl <= l && l <= maxLvl; l += dir) {\n          if (canUseAsTmpLvl(l)) {\n            break;\n          }\n        }\n      };\n      checkLvls(+1);\n      checkLvls(-1);\n\n      // remove the invalid layers; they will be replaced as needed later in this function\n      for (var i = layers.length - 1; i >= 0; i--) {\n        var layer = layers[i];\n        if (layer.invalid) {\n          removeFromArray(layers, layer);\n        }\n      }\n    };\n    if (!lvlComplete) {\n      // if the current level is incomplete, then use the closest, best quality layerset temporarily\n      // and later queue the current layerset so we can get the proper quality level soon\n\n      checkTempLevels();\n    } else {\n      // log('level complete, using existing layers\\n--');\n      return layers;\n    }\n    var getBb = function getBb() {\n      if (!bb) {\n        bb = makeBoundingBox();\n        for (var i = 0; i < eles.length; i++) {\n          updateBoundingBox(bb, eles[i].boundingBox());\n        }\n      }\n      return bb;\n    };\n    var makeLayer = function makeLayer(opts) {\n      opts = opts || {};\n      var after = opts.after;\n      getBb();\n      var area = bb.w * scale * (bb.h * scale);\n      if (area > maxLayerArea) {\n        return null;\n      }\n      var layer = self.makeLayer(bb, lvl);\n      if (after != null) {\n        var index = layers.indexOf(after) + 1;\n        layers.splice(index, 0, layer);\n      } else if (opts.insert === undefined || opts.insert) {\n        // no after specified => first layer made so put at start\n        layers.unshift(layer);\n      }\n\n      // if( tmpLayers ){\n      //self.queueLayer( layer );\n      // }\n\n      return layer;\n    };\n    if (self.skipping && !firstGet) {\n      // log('skip layers');\n      return null;\n    }\n\n    // log('do layers');\n\n    var layer = null;\n    var maxElesPerLayer = eles.length / defNumLayers;\n    var allowLazyQueueing = !firstGet;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      var rs = ele._private.rscratch;\n      var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n\n      // log('look at ele', ele.id());\n\n      var existingLayer = caches[lvl];\n      if (existingLayer) {\n        // reuse layer for later eles\n        // log('reuse layer for', ele.id());\n        layer = existingLayer;\n        continue;\n      }\n      if (!layer || layer.eles.length >= maxElesPerLayer || !boundingBoxInBoundingBox(layer.bb, ele.boundingBox())) {\n        // log('make new layer for ele %s', ele.id());\n\n        layer = makeLayer({\n          insert: true,\n          after: layer\n        });\n\n        // if now layer can be built then we can't use layers at this level\n        if (!layer) {\n          return null;\n        }\n\n        // log('new layer with id %s', layer.id);\n      }\n\n      if (tmpLayers || allowLazyQueueing) {\n        // log('queue ele %s in layer %s', ele.id(), layer.id);\n        self.queueLayer(layer, ele);\n      } else {\n        // log('draw ele %s in layer %s', ele.id(), layer.id);\n        self.drawEleInLayer(layer, ele, lvl, pxRatio);\n      }\n      layer.eles.push(ele);\n      caches[lvl] = layer;\n    }\n\n    // log('--');\n\n    if (tmpLayers) {\n      // then we only queued the current layerset and can't draw it yet\n      return tmpLayers;\n    }\n    if (allowLazyQueueing) {\n      // log('lazy queue level', lvl);\n      return null;\n    }\n    return layers;\n  };\n\n  // a layer may want to use an ele cache of a higher level to avoid blurriness\n  // so the layer level might not equal the ele level\n  LTCp.getEleLevelForLayerLevel = function (lvl, pxRatio) {\n    return lvl;\n  };\n  LTCp.drawEleInLayer = function (layer, ele, lvl, pxRatio) {\n    var self = this;\n    var r = this.renderer;\n    var context = layer.context;\n    var bb = ele.boundingBox();\n    if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n      return;\n    }\n    lvl = self.getEleLevelForLayerLevel(lvl, pxRatio);\n    {\n      r.setImgSmoothing(context, false);\n    }\n    {\n      r.drawCachedElement(context, ele, null, null, lvl, useHighQualityEleTxrReqs);\n    }\n    {\n      r.setImgSmoothing(context, true);\n    }\n  };\n  LTCp.levelIsComplete = function (lvl, eles) {\n    var self = this;\n    var layers = self.layersByLevel[lvl];\n    if (!layers || layers.length === 0) {\n      return false;\n    }\n    var numElesInLayers = 0;\n    for (var i = 0; i < layers.length; i++) {\n      var layer = layers[i];\n\n      // if there are any eles needed to be drawn yet, the level is not complete\n      if (layer.reqs > 0) {\n        return false;\n      }\n\n      // if the layer is invalid, the level is not complete\n      if (layer.invalid) {\n        return false;\n      }\n      numElesInLayers += layer.eles.length;\n    }\n\n    // we should have exactly the number of eles passed in to be complete\n    if (numElesInLayers !== eles.length) {\n      return false;\n    }\n    return true;\n  };\n  LTCp.validateLayersElesOrdering = function (lvl, eles) {\n    var layers = this.layersByLevel[lvl];\n    if (!layers) {\n      return;\n    }\n\n    // if in a layer the eles are not in the same order, then the layer is invalid\n    // (i.e. there is an ele in between the eles in the layer)\n\n    for (var i = 0; i < layers.length; i++) {\n      var layer = layers[i];\n      var offset = -1;\n\n      // find the offset\n      for (var j = 0; j < eles.length; j++) {\n        if (layer.eles[0] === eles[j]) {\n          offset = j;\n          break;\n        }\n      }\n      if (offset < 0) {\n        // then the layer has nonexistent elements and is invalid\n        this.invalidateLayer(layer);\n        continue;\n      }\n\n      // the eles in the layer must be in the same continuous order, else the layer is invalid\n\n      var o = offset;\n      for (var j = 0; j < layer.eles.length; j++) {\n        if (layer.eles[j] !== eles[o + j]) {\n          // log('invalidate based on ordering', layer.id);\n\n          this.invalidateLayer(layer);\n          break;\n        }\n      }\n    }\n  };\n  LTCp.updateElementsInLayers = function (eles, update) {\n    var self = this;\n    var isEles = element(eles[0]);\n\n    // collect udpated elements (cascaded from the layers) and update each\n    // layer itself along the way\n    for (var i = 0; i < eles.length; i++) {\n      var req = isEles ? null : eles[i];\n      var ele = isEles ? eles[i] : eles[i].ele;\n      var rs = ele._private.rscratch;\n      var caches = rs.imgLayerCaches = rs.imgLayerCaches || {};\n      for (var l = minLvl; l <= maxLvl; l++) {\n        var layer = caches[l];\n        if (!layer) {\n          continue;\n        }\n\n        // if update is a request from the ele cache, then it affects only\n        // the matching level\n        if (req && self.getEleLevelForLayerLevel(layer.level) !== req.level) {\n          continue;\n        }\n        update(layer, ele, req);\n      }\n    }\n  };\n  LTCp.haveLayers = function () {\n    var self = this;\n    var haveLayers = false;\n    for (var l = minLvl; l <= maxLvl; l++) {\n      var layers = self.layersByLevel[l];\n      if (layers && layers.length > 0) {\n        haveLayers = true;\n        break;\n      }\n    }\n    return haveLayers;\n  };\n  LTCp.invalidateElements = function (eles) {\n    var self = this;\n    if (eles.length === 0) {\n      return;\n    }\n    self.lastInvalidationTime = performanceNow();\n\n    // log('update invalidate layer time from eles');\n\n    if (eles.length === 0 || !self.haveLayers()) {\n      return;\n    }\n    self.updateElementsInLayers(eles, function invalAssocLayers(layer, ele, req) {\n      self.invalidateLayer(layer);\n    });\n  };\n  LTCp.invalidateLayer = function (layer) {\n    // log('update invalidate layer time');\n\n    this.lastInvalidationTime = performanceNow();\n    if (layer.invalid) {\n      return;\n    } // save cycles\n\n    var lvl = layer.level;\n    var eles = layer.eles;\n    var layers = this.layersByLevel[lvl];\n\n    // log('invalidate layer', layer.id );\n\n    removeFromArray(layers, layer);\n    // layer.eles = [];\n\n    layer.elesQueue = [];\n    layer.invalid = true;\n    if (layer.replacement) {\n      layer.replacement.invalid = true;\n    }\n    for (var i = 0; i < eles.length; i++) {\n      var caches = eles[i]._private.rscratch.imgLayerCaches;\n      if (caches) {\n        caches[lvl] = null;\n      }\n    }\n  };\n  LTCp.refineElementTextures = function (eles) {\n    var self = this;\n\n    // log('refine', eles.length);\n\n    self.updateElementsInLayers(eles, function refineEachEle(layer, ele, req) {\n      var rLyr = layer.replacement;\n      if (!rLyr) {\n        rLyr = layer.replacement = self.makeLayer(layer.bb, layer.level);\n        rLyr.replaces = layer;\n        rLyr.eles = layer.eles;\n\n        // log('make replacement layer %s for %s with level %s', rLyr.id, layer.id, rLyr.level);\n      }\n\n      if (!rLyr.reqs) {\n        for (var i = 0; i < rLyr.eles.length; i++) {\n          self.queueLayer(rLyr, rLyr.eles[i]);\n        }\n\n        // log('queue replacement layer refinement', rLyr.id);\n      }\n    });\n  };\n\n  LTCp.enqueueElementRefinement = function (ele) {\n    this.eleTxrDeqs.merge(ele);\n    this.scheduleElementRefinement();\n  };\n  LTCp.queueLayer = function (layer, ele) {\n    var self = this;\n    var q = self.layersQueue;\n    var elesQ = layer.elesQueue;\n    var hasId = elesQ.hasId = elesQ.hasId || {};\n\n    // if a layer is going to be replaced, queuing is a waste of time\n    if (layer.replacement) {\n      return;\n    }\n    if (ele) {\n      if (hasId[ele.id()]) {\n        return;\n      }\n      elesQ.push(ele);\n      hasId[ele.id()] = true;\n    }\n    if (layer.reqs) {\n      layer.reqs++;\n      q.updateItem(layer);\n    } else {\n      layer.reqs = 1;\n      q.push(layer);\n    }\n  };\n  LTCp.dequeue = function (pxRatio) {\n    var self = this;\n    var q = self.layersQueue;\n    var deqd = [];\n    var eleDeqs = 0;\n    while (eleDeqs < maxDeqSize) {\n      if (q.size() === 0) {\n        break;\n      }\n      var layer = q.peek();\n\n      // if a layer has been or will be replaced, then don't waste time with it\n      if (layer.replacement) {\n        // log('layer %s in queue skipped b/c it already has a replacement', layer.id);\n        q.pop();\n        continue;\n      }\n\n      // if this is a replacement layer that has been superceded, then forget it\n      if (layer.replaces && layer !== layer.replaces.replacement) {\n        // log('layer is no longer the most uptodate replacement; dequeued', layer.id)\n        q.pop();\n        continue;\n      }\n      if (layer.invalid) {\n        // log('replacement layer %s is invalid; dequeued', layer.id);\n        q.pop();\n        continue;\n      }\n      var ele = layer.elesQueue.shift();\n      if (ele) {\n        // log('dequeue layer %s', layer.id);\n\n        self.drawEleInLayer(layer, ele, layer.level, pxRatio);\n        eleDeqs++;\n      }\n      if (deqd.length === 0) {\n        // we need only one entry in deqd to queue redrawing etc\n        deqd.push(true);\n      }\n\n      // if the layer has all its eles done, then remove from the queue\n      if (layer.elesQueue.length === 0) {\n        q.pop();\n        layer.reqs = 0;\n\n        // log('dequeue of layer %s complete', layer.id);\n\n        // when a replacement layer is dequeued, it replaces the old layer in the level\n        if (layer.replaces) {\n          self.applyLayerReplacement(layer);\n        }\n        self.requestRedraw();\n      }\n    }\n    return deqd;\n  };\n  LTCp.applyLayerReplacement = function (layer) {\n    var self = this;\n    var layersInLevel = self.layersByLevel[layer.level];\n    var replaced = layer.replaces;\n    var index = layersInLevel.indexOf(replaced);\n\n    // if the replaced layer is not in the active list for the level, then replacing\n    // refs would be a mistake (i.e. overwriting the true active layer)\n    if (index < 0 || replaced.invalid) {\n      // log('replacement layer would have no effect', layer.id);\n      return;\n    }\n    layersInLevel[index] = layer; // replace level ref\n\n    // replace refs in eles\n    for (var i = 0; i < layer.eles.length; i++) {\n      var _p = layer.eles[i]._private;\n      var cache = _p.imgLayerCaches = _p.imgLayerCaches || {};\n      if (cache) {\n        cache[layer.level] = layer;\n      }\n    }\n\n    // log('apply replacement layer %s over %s', layer.id, replaced.id);\n\n    self.requestRedraw();\n  };\n  LTCp.requestRedraw = debounce_1(function () {\n    var r = this.renderer;\n    r.redrawHint('eles', true);\n    r.redrawHint('drag', true);\n    r.redraw();\n  }, 100);\n  LTCp.setupDequeueing = defs.setupDequeueing({\n    deqRedrawThreshold: deqRedrawThreshold,\n    deqCost: deqCost,\n    deqAvgCost: deqAvgCost,\n    deqNoDrawCost: deqNoDrawCost,\n    deqFastCost: deqFastCost,\n    deq: function deq(self, pxRatio) {\n      return self.dequeue(pxRatio);\n    },\n    onDeqd: noop$1,\n    shouldRedraw: trueify,\n    priority: function priority(self) {\n      return self.renderer.beforeRenderPriorities.lyrTxrDeq;\n    }\n  });\n\n  var CRp$a = {};\n  var impl;\n  function polygon(context, points) {\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n      context.lineTo(pt.x, pt.y);\n    }\n  }\n  function triangleBackcurve(context, points, controlPoint) {\n    var firstPt;\n    for (var i = 0; i < points.length; i++) {\n      var pt = points[i];\n      if (i === 0) {\n        firstPt = pt;\n      }\n      context.lineTo(pt.x, pt.y);\n    }\n    context.quadraticCurveTo(controlPoint.x, controlPoint.y, firstPt.x, firstPt.y);\n  }\n  function triangleTee(context, trianglePoints, teePoints) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    var triPts = trianglePoints;\n    for (var i = 0; i < triPts.length; i++) {\n      var pt = triPts[i];\n      context.lineTo(pt.x, pt.y);\n    }\n    var teePts = teePoints;\n    var firstTeePt = teePoints[0];\n    context.moveTo(firstTeePt.x, firstTeePt.y);\n    for (var i = 1; i < teePts.length; i++) {\n      var pt = teePts[i];\n      context.lineTo(pt.x, pt.y);\n    }\n    if (context.closePath) {\n      context.closePath();\n    }\n  }\n  function circleTriangle(context, trianglePoints, rx, ry, r) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    context.arc(rx, ry, r, 0, Math.PI * 2, false);\n    var triPts = trianglePoints;\n    var firstTrPt = triPts[0];\n    context.moveTo(firstTrPt.x, firstTrPt.y);\n    for (var i = 0; i < triPts.length; i++) {\n      var pt = triPts[i];\n      context.lineTo(pt.x, pt.y);\n    }\n    if (context.closePath) {\n      context.closePath();\n    }\n  }\n  function circle(context, rx, ry, r) {\n    context.arc(rx, ry, r, 0, Math.PI * 2, false);\n  }\n  CRp$a.arrowShapeImpl = function (name) {\n    return (impl || (impl = {\n      'polygon': polygon,\n      'triangle-backcurve': triangleBackcurve,\n      'triangle-tee': triangleTee,\n      'circle-triangle': circleTriangle,\n      'triangle-cross': triangleTee,\n      'circle': circle\n    }))[name];\n  };\n\n  var CRp$9 = {};\n  CRp$9.drawElement = function (context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity) {\n    var r = this;\n    if (ele.isNode()) {\n      r.drawNode(context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity);\n    } else {\n      r.drawEdge(context, ele, shiftToOriginWithBb, showLabel, showOverlay, showOpacity);\n    }\n  };\n  CRp$9.drawElementOverlay = function (context, ele) {\n    var r = this;\n    if (ele.isNode()) {\n      r.drawNodeOverlay(context, ele);\n    } else {\n      r.drawEdgeOverlay(context, ele);\n    }\n  };\n  CRp$9.drawElementUnderlay = function (context, ele) {\n    var r = this;\n    if (ele.isNode()) {\n      r.drawNodeUnderlay(context, ele);\n    } else {\n      r.drawEdgeUnderlay(context, ele);\n    }\n  };\n  CRp$9.drawCachedElementPortion = function (context, ele, eleTxrCache, pxRatio, lvl, reason, getRotation, getOpacity) {\n    var r = this;\n    var bb = eleTxrCache.getBoundingBox(ele);\n    if (bb.w === 0 || bb.h === 0) {\n      return;\n    } // ignore zero size case\n\n    var eleCache = eleTxrCache.getElement(ele, bb, pxRatio, lvl, reason);\n    if (eleCache != null) {\n      var opacity = getOpacity(r, ele);\n      if (opacity === 0) {\n        return;\n      }\n      var theta = getRotation(r, ele);\n      var x1 = bb.x1,\n        y1 = bb.y1,\n        w = bb.w,\n        h = bb.h;\n      var x, y, sx, sy, smooth;\n      if (theta !== 0) {\n        var rotPt = eleTxrCache.getRotationPoint(ele);\n        sx = rotPt.x;\n        sy = rotPt.y;\n        context.translate(sx, sy);\n        context.rotate(theta);\n        smooth = r.getImgSmoothing(context);\n        if (!smooth) {\n          r.setImgSmoothing(context, true);\n        }\n        var off = eleTxrCache.getRotationOffset(ele);\n        x = off.x;\n        y = off.y;\n      } else {\n        x = x1;\n        y = y1;\n      }\n      var oldGlobalAlpha;\n      if (opacity !== 1) {\n        oldGlobalAlpha = context.globalAlpha;\n        context.globalAlpha = oldGlobalAlpha * opacity;\n      }\n      context.drawImage(eleCache.texture.canvas, eleCache.x, 0, eleCache.width, eleCache.height, x, y, w, h);\n      if (opacity !== 1) {\n        context.globalAlpha = oldGlobalAlpha;\n      }\n      if (theta !== 0) {\n        context.rotate(-theta);\n        context.translate(-sx, -sy);\n        if (!smooth) {\n          r.setImgSmoothing(context, false);\n        }\n      }\n    } else {\n      eleTxrCache.drawElement(context, ele); // direct draw fallback\n    }\n  };\n\n  var getZeroRotation = function getZeroRotation() {\n    return 0;\n  };\n  var getLabelRotation = function getLabelRotation(r, ele) {\n    return r.getTextAngle(ele, null);\n  };\n  var getSourceLabelRotation = function getSourceLabelRotation(r, ele) {\n    return r.getTextAngle(ele, 'source');\n  };\n  var getTargetLabelRotation = function getTargetLabelRotation(r, ele) {\n    return r.getTextAngle(ele, 'target');\n  };\n  var getOpacity = function getOpacity(r, ele) {\n    return ele.effectiveOpacity();\n  };\n  var getTextOpacity = function getTextOpacity(e, ele) {\n    return ele.pstyle('text-opacity').pfValue * ele.effectiveOpacity();\n  };\n  CRp$9.drawCachedElement = function (context, ele, pxRatio, extent, lvl, requestHighQuality) {\n    var r = this;\n    var _r$data = r.data,\n      eleTxrCache = _r$data.eleTxrCache,\n      lblTxrCache = _r$data.lblTxrCache,\n      slbTxrCache = _r$data.slbTxrCache,\n      tlbTxrCache = _r$data.tlbTxrCache;\n    var bb = ele.boundingBox();\n    var reason = requestHighQuality === true ? eleTxrCache.reasons.highQuality : null;\n    if (bb.w === 0 || bb.h === 0 || !ele.visible()) {\n      return;\n    }\n    if (!extent || boundingBoxesIntersect(bb, extent)) {\n      var isEdge = ele.isEdge();\n      var badLine = ele.element()._private.rscratch.badLine;\n      r.drawElementUnderlay(context, ele);\n      r.drawCachedElementPortion(context, ele, eleTxrCache, pxRatio, lvl, reason, getZeroRotation, getOpacity);\n      if (!isEdge || !badLine) {\n        r.drawCachedElementPortion(context, ele, lblTxrCache, pxRatio, lvl, reason, getLabelRotation, getTextOpacity);\n      }\n      if (isEdge && !badLine) {\n        r.drawCachedElementPortion(context, ele, slbTxrCache, pxRatio, lvl, reason, getSourceLabelRotation, getTextOpacity);\n        r.drawCachedElementPortion(context, ele, tlbTxrCache, pxRatio, lvl, reason, getTargetLabelRotation, getTextOpacity);\n      }\n      r.drawElementOverlay(context, ele);\n    }\n  };\n  CRp$9.drawElements = function (context, eles) {\n    var r = this;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      r.drawElement(context, ele);\n    }\n  };\n  CRp$9.drawCachedElements = function (context, eles, pxRatio, extent) {\n    var r = this;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      r.drawCachedElement(context, ele, pxRatio, extent);\n    }\n  };\n  CRp$9.drawCachedNodes = function (context, eles, pxRatio, extent) {\n    var r = this;\n    for (var i = 0; i < eles.length; i++) {\n      var ele = eles[i];\n      if (!ele.isNode()) {\n        continue;\n      }\n      r.drawCachedElement(context, ele, pxRatio, extent);\n    }\n  };\n  CRp$9.drawLayeredElements = function (context, eles, pxRatio, extent) {\n    var r = this;\n    var layers = r.data.lyrTxrCache.getLayers(eles, pxRatio);\n    if (layers) {\n      for (var i = 0; i < layers.length; i++) {\n        var layer = layers[i];\n        var bb = layer.bb;\n        if (bb.w === 0 || bb.h === 0) {\n          continue;\n        }\n        context.drawImage(layer.canvas, bb.x1, bb.y1, bb.w, bb.h);\n      }\n    } else {\n      // fall back on plain caching if no layers\n      r.drawCachedElements(context, eles, pxRatio, extent);\n    }\n  };\n\n  /* global Path2D */\n  var CRp$8 = {};\n  CRp$8.drawEdge = function (context, edge, shiftToOriginWithBb) {\n    var drawLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var shouldDrawOverlay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var shouldDrawOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n    var r = this;\n    var rs = edge._private.rscratch;\n    if (shouldDrawOpacity && !edge.visible()) {\n      return;\n    }\n\n    // if bezier ctrl pts can not be calculated, then die\n    if (rs.badLine || rs.allpts == null || isNaN(rs.allpts[0])) {\n      // isNaN in case edge is impossible and browser bugs (e.g. safari)\n      return;\n    }\n    var bb;\n    if (shiftToOriginWithBb) {\n      bb = shiftToOriginWithBb;\n      context.translate(-bb.x1, -bb.y1);\n    }\n    var opacity = shouldDrawOpacity ? edge.pstyle('opacity').value : 1;\n    var lineOpacity = shouldDrawOpacity ? edge.pstyle('line-opacity').value : 1;\n    var curveStyle = edge.pstyle('curve-style').value;\n    var lineStyle = edge.pstyle('line-style').value;\n    var edgeWidth = edge.pstyle('width').pfValue;\n    var lineCap = edge.pstyle('line-cap').value;\n    var effectiveLineOpacity = opacity * lineOpacity;\n    // separate arrow opacity would require arrow-opacity property\n    var effectiveArrowOpacity = opacity * lineOpacity;\n    var drawLine = function drawLine() {\n      var strokeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : effectiveLineOpacity;\n      if (curveStyle === 'straight-triangle') {\n        r.eleStrokeStyle(context, edge, strokeOpacity);\n        r.drawEdgeTrianglePath(edge, context, rs.allpts);\n      } else {\n        context.lineWidth = edgeWidth;\n        context.lineCap = lineCap;\n        r.eleStrokeStyle(context, edge, strokeOpacity);\n        r.drawEdgePath(edge, context, rs.allpts, lineStyle);\n        context.lineCap = 'butt'; // reset for other drawing functions\n      }\n    };\n\n    var drawOverlay = function drawOverlay() {\n      if (!shouldDrawOverlay) {\n        return;\n      }\n      r.drawEdgeOverlay(context, edge);\n    };\n    var drawUnderlay = function drawUnderlay() {\n      if (!shouldDrawOverlay) {\n        return;\n      }\n      r.drawEdgeUnderlay(context, edge);\n    };\n    var drawArrows = function drawArrows() {\n      var arrowOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : effectiveArrowOpacity;\n      r.drawArrowheads(context, edge, arrowOpacity);\n    };\n    var drawText = function drawText() {\n      r.drawElementText(context, edge, null, drawLabel);\n    };\n    context.lineJoin = 'round';\n    var ghost = edge.pstyle('ghost').value === 'yes';\n    if (ghost) {\n      var gx = edge.pstyle('ghost-offset-x').pfValue;\n      var gy = edge.pstyle('ghost-offset-y').pfValue;\n      var ghostOpacity = edge.pstyle('ghost-opacity').value;\n      var effectiveGhostOpacity = effectiveLineOpacity * ghostOpacity;\n      context.translate(gx, gy);\n      drawLine(effectiveGhostOpacity);\n      drawArrows(effectiveGhostOpacity);\n      context.translate(-gx, -gy);\n    }\n    drawUnderlay();\n    drawLine();\n    drawArrows();\n    drawOverlay();\n    drawText();\n    if (shiftToOriginWithBb) {\n      context.translate(bb.x1, bb.y1);\n    }\n  };\n  var drawEdgeOverlayUnderlay = function drawEdgeOverlayUnderlay(overlayOrUnderlay) {\n    if (!['overlay', 'underlay'].includes(overlayOrUnderlay)) {\n      throw new Error('Invalid state');\n    }\n    return function (context, edge) {\n      if (!edge.visible()) {\n        return;\n      }\n      var opacity = edge.pstyle(\"\".concat(overlayOrUnderlay, \"-opacity\")).value;\n      if (opacity === 0) {\n        return;\n      }\n      var r = this;\n      var usePaths = r.usePaths();\n      var rs = edge._private.rscratch;\n      var padding = edge.pstyle(\"\".concat(overlayOrUnderlay, \"-padding\")).pfValue;\n      var width = 2 * padding;\n      var color = edge.pstyle(\"\".concat(overlayOrUnderlay, \"-color\")).value;\n      context.lineWidth = width;\n      if (rs.edgeType === 'self' && !usePaths) {\n        context.lineCap = 'butt';\n      } else {\n        context.lineCap = 'round';\n      }\n      r.colorStrokeStyle(context, color[0], color[1], color[2], opacity);\n      r.drawEdgePath(edge, context, rs.allpts, 'solid');\n    };\n  };\n  CRp$8.drawEdgeOverlay = drawEdgeOverlayUnderlay('overlay');\n  CRp$8.drawEdgeUnderlay = drawEdgeOverlayUnderlay('underlay');\n  CRp$8.drawEdgePath = function (edge, context, pts, type) {\n    var rs = edge._private.rscratch;\n    var canvasCxt = context;\n    var path;\n    var pathCacheHit = false;\n    var usePaths = this.usePaths();\n    var lineDashPattern = edge.pstyle('line-dash-pattern').pfValue;\n    var lineDashOffset = edge.pstyle('line-dash-offset').pfValue;\n    if (usePaths) {\n      var pathCacheKey = pts.join('$');\n      var keyMatches = rs.pathCacheKey && rs.pathCacheKey === pathCacheKey;\n      if (keyMatches) {\n        path = context = rs.pathCache;\n        pathCacheHit = true;\n      } else {\n        path = context = new Path2D();\n        rs.pathCacheKey = pathCacheKey;\n        rs.pathCache = path;\n      }\n    }\n    if (canvasCxt.setLineDash) {\n      // for very outofdate browsers\n      switch (type) {\n        case 'dotted':\n          canvasCxt.setLineDash([1, 1]);\n          break;\n        case 'dashed':\n          canvasCxt.setLineDash(lineDashPattern);\n          canvasCxt.lineDashOffset = lineDashOffset;\n          break;\n        case 'solid':\n          canvasCxt.setLineDash([]);\n          break;\n      }\n    }\n    if (!pathCacheHit && !rs.badLine) {\n      if (context.beginPath) {\n        context.beginPath();\n      }\n      context.moveTo(pts[0], pts[1]);\n      switch (rs.edgeType) {\n        case 'bezier':\n        case 'self':\n        case 'compound':\n        case 'multibezier':\n          for (var i = 2; i + 3 < pts.length; i += 4) {\n            context.quadraticCurveTo(pts[i], pts[i + 1], pts[i + 2], pts[i + 3]);\n          }\n          break;\n        case 'straight':\n        case 'segments':\n        case 'haystack':\n          for (var _i = 2; _i + 1 < pts.length; _i += 2) {\n            context.lineTo(pts[_i], pts[_i + 1]);\n          }\n          break;\n      }\n    }\n    context = canvasCxt;\n    if (usePaths) {\n      context.stroke(path);\n    } else {\n      context.stroke();\n    }\n\n    // reset any line dashes\n    if (context.setLineDash) {\n      // for very outofdate browsers\n      context.setLineDash([]);\n    }\n  };\n  CRp$8.drawEdgeTrianglePath = function (edge, context, pts) {\n    // use line stroke style for triangle fill style\n    context.fillStyle = context.strokeStyle;\n    var edgeWidth = edge.pstyle('width').pfValue;\n    for (var i = 0; i + 1 < pts.length; i += 2) {\n      var vector = [pts[i + 2] - pts[i], pts[i + 3] - pts[i + 1]];\n      var length = Math.sqrt(vector[0] * vector[0] + vector[1] * vector[1]);\n      var normal = [vector[1] / length, -vector[0] / length];\n      var triangleHead = [normal[0] * edgeWidth / 2, normal[1] * edgeWidth / 2];\n      context.beginPath();\n      context.moveTo(pts[i] - triangleHead[0], pts[i + 1] - triangleHead[1]);\n      context.lineTo(pts[i] + triangleHead[0], pts[i + 1] + triangleHead[1]);\n      context.lineTo(pts[i + 2], pts[i + 3]);\n      context.closePath();\n      context.fill();\n    }\n  };\n  CRp$8.drawArrowheads = function (context, edge, opacity) {\n    var rs = edge._private.rscratch;\n    var isHaystack = rs.edgeType === 'haystack';\n    if (!isHaystack) {\n      this.drawArrowhead(context, edge, 'source', rs.arrowStartX, rs.arrowStartY, rs.srcArrowAngle, opacity);\n    }\n    this.drawArrowhead(context, edge, 'mid-target', rs.midX, rs.midY, rs.midtgtArrowAngle, opacity);\n    this.drawArrowhead(context, edge, 'mid-source', rs.midX, rs.midY, rs.midsrcArrowAngle, opacity);\n    if (!isHaystack) {\n      this.drawArrowhead(context, edge, 'target', rs.arrowEndX, rs.arrowEndY, rs.tgtArrowAngle, opacity);\n    }\n  };\n  CRp$8.drawArrowhead = function (context, edge, prefix, x, y, angle, opacity) {\n    if (isNaN(x) || x == null || isNaN(y) || y == null || isNaN(angle) || angle == null) {\n      return;\n    }\n    var self = this;\n    var arrowShape = edge.pstyle(prefix + '-arrow-shape').value;\n    if (arrowShape === 'none') {\n      return;\n    }\n    var arrowClearFill = edge.pstyle(prefix + '-arrow-fill').value === 'hollow' ? 'both' : 'filled';\n    var arrowFill = edge.pstyle(prefix + '-arrow-fill').value;\n    var edgeWidth = edge.pstyle('width').pfValue;\n    var edgeOpacity = edge.pstyle('opacity').value;\n    if (opacity === undefined) {\n      opacity = edgeOpacity;\n    }\n    var gco = context.globalCompositeOperation;\n    if (opacity !== 1 || arrowFill === 'hollow') {\n      // then extra clear is needed\n      context.globalCompositeOperation = 'destination-out';\n      self.colorFillStyle(context, 255, 255, 255, 1);\n      self.colorStrokeStyle(context, 255, 255, 255, 1);\n      self.drawArrowShape(edge, context, arrowClearFill, edgeWidth, arrowShape, x, y, angle);\n      context.globalCompositeOperation = gco;\n    } // otherwise, the opaque arrow clears it for free :)\n\n    var color = edge.pstyle(prefix + '-arrow-color').value;\n    self.colorFillStyle(context, color[0], color[1], color[2], opacity);\n    self.colorStrokeStyle(context, color[0], color[1], color[2], opacity);\n    self.drawArrowShape(edge, context, arrowFill, edgeWidth, arrowShape, x, y, angle);\n  };\n  CRp$8.drawArrowShape = function (edge, context, fill, edgeWidth, shape, x, y, angle) {\n    var r = this;\n    var usePaths = this.usePaths() && shape !== 'triangle-cross';\n    var pathCacheHit = false;\n    var path;\n    var canvasContext = context;\n    var translation = {\n      x: x,\n      y: y\n    };\n    var scale = edge.pstyle('arrow-scale').value;\n    var size = this.getArrowWidth(edgeWidth, scale);\n    var shapeImpl = r.arrowShapes[shape];\n    if (usePaths) {\n      var cache = r.arrowPathCache = r.arrowPathCache || [];\n      var key = hashString(shape);\n      var cachedPath = cache[key];\n      if (cachedPath != null) {\n        path = context = cachedPath;\n        pathCacheHit = true;\n      } else {\n        path = context = new Path2D();\n        cache[key] = path;\n      }\n    }\n    if (!pathCacheHit) {\n      if (context.beginPath) {\n        context.beginPath();\n      }\n      if (usePaths) {\n        // store in the path cache with values easily manipulated later\n        shapeImpl.draw(context, 1, 0, {\n          x: 0,\n          y: 0\n        }, 1);\n      } else {\n        shapeImpl.draw(context, size, angle, translation, edgeWidth);\n      }\n      if (context.closePath) {\n        context.closePath();\n      }\n    }\n    context = canvasContext;\n    if (usePaths) {\n      // set transform to arrow position/orientation\n      context.translate(x, y);\n      context.rotate(angle);\n      context.scale(size, size);\n    }\n    if (fill === 'filled' || fill === 'both') {\n      if (usePaths) {\n        context.fill(path);\n      } else {\n        context.fill();\n      }\n    }\n    if (fill === 'hollow' || fill === 'both') {\n      context.lineWidth = (shapeImpl.matchEdgeWidth ? edgeWidth : 1) / (usePaths ? size : 1);\n      context.lineJoin = 'miter';\n      if (usePaths) {\n        context.stroke(path);\n      } else {\n        context.stroke();\n      }\n    }\n    if (usePaths) {\n      // reset transform by applying inverse\n      context.scale(1 / size, 1 / size);\n      context.rotate(-angle);\n      context.translate(-x, -y);\n    }\n  };\n\n  var CRp$7 = {};\n  CRp$7.safeDrawImage = function (context, img, ix, iy, iw, ih, x, y, w, h) {\n    // detect problematic cases for old browsers with bad images (cheaper than try-catch)\n    if (iw <= 0 || ih <= 0 || w <= 0 || h <= 0) {\n      return;\n    }\n    try {\n      context.drawImage(img, ix, iy, iw, ih, x, y, w, h);\n    } catch (e) {\n      warn(e);\n    }\n  };\n  CRp$7.drawInscribedImage = function (context, img, node, index, nodeOpacity) {\n    var r = this;\n    var pos = node.position();\n    var nodeX = pos.x;\n    var nodeY = pos.y;\n    var styleObj = node.cy().style();\n    var getIndexedStyle = styleObj.getIndexedStyle.bind(styleObj);\n    var fit = getIndexedStyle(node, 'background-fit', 'value', index);\n    var repeat = getIndexedStyle(node, 'background-repeat', 'value', index);\n    var nodeW = node.width();\n    var nodeH = node.height();\n    var paddingX2 = node.padding() * 2;\n    var nodeTW = nodeW + (getIndexedStyle(node, 'background-width-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n    var nodeTH = nodeH + (getIndexedStyle(node, 'background-height-relative-to', 'value', index) === 'inner' ? 0 : paddingX2);\n    var rs = node._private.rscratch;\n    var clip = getIndexedStyle(node, 'background-clip', 'value', index);\n    var shouldClip = clip === 'node';\n    var imgOpacity = getIndexedStyle(node, 'background-image-opacity', 'value', index) * nodeOpacity;\n    var smooth = getIndexedStyle(node, 'background-image-smoothing', 'value', index);\n    var imgW = img.width || img.cachedW;\n    var imgH = img.height || img.cachedH;\n\n    // workaround for broken browsers like ie\n    if (null == imgW || null == imgH) {\n      document.body.appendChild(img); // eslint-disable-line no-undef\n\n      imgW = img.cachedW = img.width || img.offsetWidth;\n      imgH = img.cachedH = img.height || img.offsetHeight;\n      document.body.removeChild(img); // eslint-disable-line no-undef\n    }\n\n    var w = imgW;\n    var h = imgH;\n    if (getIndexedStyle(node, 'background-width', 'value', index) !== 'auto') {\n      if (getIndexedStyle(node, 'background-width', 'units', index) === '%') {\n        w = getIndexedStyle(node, 'background-width', 'pfValue', index) * nodeTW;\n      } else {\n        w = getIndexedStyle(node, 'background-width', 'pfValue', index);\n      }\n    }\n    if (getIndexedStyle(node, 'background-height', 'value', index) !== 'auto') {\n      if (getIndexedStyle(node, 'background-height', 'units', index) === '%') {\n        h = getIndexedStyle(node, 'background-height', 'pfValue', index) * nodeTH;\n      } else {\n        h = getIndexedStyle(node, 'background-height', 'pfValue', index);\n      }\n    }\n    if (w === 0 || h === 0) {\n      return; // no point in drawing empty image (and chrome is broken in this case)\n    }\n\n    if (fit === 'contain') {\n      var scale = Math.min(nodeTW / w, nodeTH / h);\n      w *= scale;\n      h *= scale;\n    } else if (fit === 'cover') {\n      var scale = Math.max(nodeTW / w, nodeTH / h);\n      w *= scale;\n      h *= scale;\n    }\n    var x = nodeX - nodeTW / 2; // left\n    var posXUnits = getIndexedStyle(node, 'background-position-x', 'units', index);\n    var posXPfVal = getIndexedStyle(node, 'background-position-x', 'pfValue', index);\n    if (posXUnits === '%') {\n      x += (nodeTW - w) * posXPfVal;\n    } else {\n      x += posXPfVal;\n    }\n    var offXUnits = getIndexedStyle(node, 'background-offset-x', 'units', index);\n    var offXPfVal = getIndexedStyle(node, 'background-offset-x', 'pfValue', index);\n    if (offXUnits === '%') {\n      x += (nodeTW - w) * offXPfVal;\n    } else {\n      x += offXPfVal;\n    }\n    var y = nodeY - nodeTH / 2; // top\n    var posYUnits = getIndexedStyle(node, 'background-position-y', 'units', index);\n    var posYPfVal = getIndexedStyle(node, 'background-position-y', 'pfValue', index);\n    if (posYUnits === '%') {\n      y += (nodeTH - h) * posYPfVal;\n    } else {\n      y += posYPfVal;\n    }\n    var offYUnits = getIndexedStyle(node, 'background-offset-y', 'units', index);\n    var offYPfVal = getIndexedStyle(node, 'background-offset-y', 'pfValue', index);\n    if (offYUnits === '%') {\n      y += (nodeTH - h) * offYPfVal;\n    } else {\n      y += offYPfVal;\n    }\n    if (rs.pathCache) {\n      x -= nodeX;\n      y -= nodeY;\n      nodeX = 0;\n      nodeY = 0;\n    }\n    var gAlpha = context.globalAlpha;\n    context.globalAlpha = imgOpacity;\n    var smoothingEnabled = r.getImgSmoothing(context);\n    var isSmoothingSwitched = false;\n    if (smooth === 'no' && smoothingEnabled) {\n      r.setImgSmoothing(context, false);\n      isSmoothingSwitched = true;\n    } else if (smooth === 'yes' && !smoothingEnabled) {\n      r.setImgSmoothing(context, true);\n      isSmoothingSwitched = true;\n    }\n    if (repeat === 'no-repeat') {\n      if (shouldClip) {\n        context.save();\n        if (rs.pathCache) {\n          context.clip(rs.pathCache);\n        } else {\n          r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH);\n          context.clip();\n        }\n      }\n      r.safeDrawImage(context, img, 0, 0, imgW, imgH, x, y, w, h);\n      if (shouldClip) {\n        context.restore();\n      }\n    } else {\n      var pattern = context.createPattern(img, repeat);\n      context.fillStyle = pattern;\n      r.nodeShapes[r.getNodeShape(node)].draw(context, nodeX, nodeY, nodeTW, nodeTH);\n      context.translate(x, y);\n      context.fill();\n      context.translate(-x, -y);\n    }\n    context.globalAlpha = gAlpha;\n    if (isSmoothingSwitched) {\n      r.setImgSmoothing(context, smoothingEnabled);\n    }\n  };\n\n  var CRp$6 = {};\n  CRp$6.eleTextBiggerThanMin = function (ele, scale) {\n    if (!scale) {\n      var zoom = ele.cy().zoom();\n      var pxRatio = this.getPixelRatio();\n      var lvl = Math.ceil(log2(zoom * pxRatio)); // the effective texture level\n\n      scale = Math.pow(2, lvl);\n    }\n    var computedSize = ele.pstyle('font-size').pfValue * scale;\n    var minSize = ele.pstyle('min-zoomed-font-size').pfValue;\n    if (computedSize < minSize) {\n      return false;\n    }\n    return true;\n  };\n  CRp$6.drawElementText = function (context, ele, shiftToOriginWithBb, force, prefix) {\n    var useEleOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n    var r = this;\n    if (force == null) {\n      if (useEleOpacity && !r.eleTextBiggerThanMin(ele)) {\n        return;\n      }\n    } else if (force === false) {\n      return;\n    }\n    if (ele.isNode()) {\n      var label = ele.pstyle('label');\n      if (!label || !label.value) {\n        return;\n      }\n      var justification = r.getLabelJustification(ele);\n      context.textAlign = justification;\n      context.textBaseline = 'bottom';\n    } else {\n      var badLine = ele.element()._private.rscratch.badLine;\n      var _label = ele.pstyle('label');\n      var srcLabel = ele.pstyle('source-label');\n      var tgtLabel = ele.pstyle('target-label');\n      if (badLine || (!_label || !_label.value) && (!srcLabel || !srcLabel.value) && (!tgtLabel || !tgtLabel.value)) {\n        return;\n      }\n      context.textAlign = 'center';\n      context.textBaseline = 'bottom';\n    }\n    var applyRotation = !shiftToOriginWithBb;\n    var bb;\n    if (shiftToOriginWithBb) {\n      bb = shiftToOriginWithBb;\n      context.translate(-bb.x1, -bb.y1);\n    }\n    if (prefix == null) {\n      r.drawText(context, ele, null, applyRotation, useEleOpacity);\n      if (ele.isEdge()) {\n        r.drawText(context, ele, 'source', applyRotation, useEleOpacity);\n        r.drawText(context, ele, 'target', applyRotation, useEleOpacity);\n      }\n    } else {\n      r.drawText(context, ele, prefix, applyRotation, useEleOpacity);\n    }\n    if (shiftToOriginWithBb) {\n      context.translate(bb.x1, bb.y1);\n    }\n  };\n  CRp$6.getFontCache = function (context) {\n    var cache;\n    this.fontCaches = this.fontCaches || [];\n    for (var i = 0; i < this.fontCaches.length; i++) {\n      cache = this.fontCaches[i];\n      if (cache.context === context) {\n        return cache;\n      }\n    }\n    cache = {\n      context: context\n    };\n    this.fontCaches.push(cache);\n    return cache;\n  };\n\n  // set up canvas context with font\n  // returns transformed text string\n  CRp$6.setupTextStyle = function (context, ele) {\n    var useEleOpacity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n    // Font style\n    var labelStyle = ele.pstyle('font-style').strValue;\n    var labelSize = ele.pstyle('font-size').pfValue + 'px';\n    var labelFamily = ele.pstyle('font-family').strValue;\n    var labelWeight = ele.pstyle('font-weight').strValue;\n    var opacity = useEleOpacity ? ele.effectiveOpacity() * ele.pstyle('text-opacity').value : 1;\n    var outlineOpacity = ele.pstyle('text-outline-opacity').value * opacity;\n    var color = ele.pstyle('color').value;\n    var outlineColor = ele.pstyle('text-outline-color').value;\n    context.font = labelStyle + ' ' + labelWeight + ' ' + labelSize + ' ' + labelFamily;\n    context.lineJoin = 'round'; // so text outlines aren't jagged\n\n    this.colorFillStyle(context, color[0], color[1], color[2], opacity);\n    this.colorStrokeStyle(context, outlineColor[0], outlineColor[1], outlineColor[2], outlineOpacity);\n  };\n\n  // TODO ensure re-used\n  function roundRect(ctx, x, y, width, height) {\n    var radius = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 5;\n    ctx.beginPath();\n    ctx.moveTo(x + radius, y);\n    ctx.lineTo(x + width - radius, y);\n    ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n    ctx.lineTo(x + width, y + height - radius);\n    ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n    ctx.lineTo(x + radius, y + height);\n    ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n    ctx.lineTo(x, y + radius);\n    ctx.quadraticCurveTo(x, y, x + radius, y);\n    ctx.closePath();\n    ctx.fill();\n  }\n  CRp$6.getTextAngle = function (ele, prefix) {\n    var theta;\n    var _p = ele._private;\n    var rscratch = _p.rscratch;\n    var pdash = prefix ? prefix + '-' : '';\n    var rotation = ele.pstyle(pdash + 'text-rotation');\n    var textAngle = getPrefixedProperty(rscratch, 'labelAngle', prefix);\n    if (rotation.strValue === 'autorotate') {\n      theta = ele.isEdge() ? textAngle : 0;\n    } else if (rotation.strValue === 'none') {\n      theta = 0;\n    } else {\n      theta = rotation.pfValue;\n    }\n    return theta;\n  };\n  CRp$6.drawText = function (context, ele, prefix) {\n    var applyRotation = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var useEleOpacity = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var _p = ele._private;\n    var rscratch = _p.rscratch;\n    var parentOpacity = useEleOpacity ? ele.effectiveOpacity() : 1;\n    if (useEleOpacity && (parentOpacity === 0 || ele.pstyle('text-opacity').value === 0)) {\n      return;\n    }\n\n    // use 'main' as an alias for the main label (i.e. null prefix)\n    if (prefix === 'main') {\n      prefix = null;\n    }\n    var textX = getPrefixedProperty(rscratch, 'labelX', prefix);\n    var textY = getPrefixedProperty(rscratch, 'labelY', prefix);\n    var orgTextX, orgTextY; // used for rotation\n    var text = this.getLabelText(ele, prefix);\n    if (text != null && text !== '' && !isNaN(textX) && !isNaN(textY)) {\n      this.setupTextStyle(context, ele, useEleOpacity);\n      var pdash = prefix ? prefix + '-' : '';\n      var textW = getPrefixedProperty(rscratch, 'labelWidth', prefix);\n      var textH = getPrefixedProperty(rscratch, 'labelHeight', prefix);\n      var marginX = ele.pstyle(pdash + 'text-margin-x').pfValue;\n      var marginY = ele.pstyle(pdash + 'text-margin-y').pfValue;\n      var isEdge = ele.isEdge();\n      var halign = ele.pstyle('text-halign').value;\n      var valign = ele.pstyle('text-valign').value;\n      if (isEdge) {\n        halign = 'center';\n        valign = 'center';\n      }\n      textX += marginX;\n      textY += marginY;\n      var theta;\n      if (!applyRotation) {\n        theta = 0;\n      } else {\n        theta = this.getTextAngle(ele, prefix);\n      }\n      if (theta !== 0) {\n        orgTextX = textX;\n        orgTextY = textY;\n        context.translate(orgTextX, orgTextY);\n        context.rotate(theta);\n        textX = 0;\n        textY = 0;\n      }\n      switch (valign) {\n        case 'top':\n          break;\n        case 'center':\n          textY += textH / 2;\n          break;\n        case 'bottom':\n          textY += textH;\n          break;\n      }\n      var backgroundOpacity = ele.pstyle('text-background-opacity').value;\n      var borderOpacity = ele.pstyle('text-border-opacity').value;\n      var textBorderWidth = ele.pstyle('text-border-width').pfValue;\n      var backgroundPadding = ele.pstyle('text-background-padding').pfValue;\n      if (backgroundOpacity > 0 || textBorderWidth > 0 && borderOpacity > 0) {\n        var bgX = textX - backgroundPadding;\n        switch (halign) {\n          case 'left':\n            bgX -= textW;\n            break;\n          case 'center':\n            bgX -= textW / 2;\n            break;\n        }\n        var bgY = textY - textH - backgroundPadding;\n        var bgW = textW + 2 * backgroundPadding;\n        var bgH = textH + 2 * backgroundPadding;\n        if (backgroundOpacity > 0) {\n          var textFill = context.fillStyle;\n          var textBackgroundColor = ele.pstyle('text-background-color').value;\n          context.fillStyle = 'rgba(' + textBackgroundColor[0] + ',' + textBackgroundColor[1] + ',' + textBackgroundColor[2] + ',' + backgroundOpacity * parentOpacity + ')';\n          var styleShape = ele.pstyle('text-background-shape').strValue;\n          if (styleShape.indexOf('round') === 0) {\n            roundRect(context, bgX, bgY, bgW, bgH, 2);\n          } else {\n            context.fillRect(bgX, bgY, bgW, bgH);\n          }\n          context.fillStyle = textFill;\n        }\n        if (textBorderWidth > 0 && borderOpacity > 0) {\n          var textStroke = context.strokeStyle;\n          var textLineWidth = context.lineWidth;\n          var textBorderColor = ele.pstyle('text-border-color').value;\n          var textBorderStyle = ele.pstyle('text-border-style').value;\n          context.strokeStyle = 'rgba(' + textBorderColor[0] + ',' + textBorderColor[1] + ',' + textBorderColor[2] + ',' + borderOpacity * parentOpacity + ')';\n          context.lineWidth = textBorderWidth;\n          if (context.setLineDash) {\n            // for very outofdate browsers\n            switch (textBorderStyle) {\n              case 'dotted':\n                context.setLineDash([1, 1]);\n                break;\n              case 'dashed':\n                context.setLineDash([4, 2]);\n                break;\n              case 'double':\n                context.lineWidth = textBorderWidth / 4; // 50% reserved for white between the two borders\n                context.setLineDash([]);\n                break;\n              case 'solid':\n                context.setLineDash([]);\n                break;\n            }\n          }\n          context.strokeRect(bgX, bgY, bgW, bgH);\n          if (textBorderStyle === 'double') {\n            var whiteWidth = textBorderWidth / 2;\n            context.strokeRect(bgX + whiteWidth, bgY + whiteWidth, bgW - whiteWidth * 2, bgH - whiteWidth * 2);\n          }\n          if (context.setLineDash) {\n            // for very outofdate browsers\n            context.setLineDash([]);\n          }\n          context.lineWidth = textLineWidth;\n          context.strokeStyle = textStroke;\n        }\n      }\n      var lineWidth = 2 * ele.pstyle('text-outline-width').pfValue; // *2 b/c the stroke is drawn centred on the middle\n\n      if (lineWidth > 0) {\n        context.lineWidth = lineWidth;\n      }\n      if (ele.pstyle('text-wrap').value === 'wrap') {\n        var lines = getPrefixedProperty(rscratch, 'labelWrapCachedLines', prefix);\n        var lineHeight = getPrefixedProperty(rscratch, 'labelLineHeight', prefix);\n        var halfTextW = textW / 2;\n        var justification = this.getLabelJustification(ele);\n        if (justification === 'auto') ; else if (halign === 'left') {\n          // auto justification : right\n          if (justification === 'left') {\n            textX += -textW;\n          } else if (justification === 'center') {\n            textX += -halfTextW;\n          } // else same as auto\n        } else if (halign === 'center') {\n          // auto justfication : center\n          if (justification === 'left') {\n            textX += -halfTextW;\n          } else if (justification === 'right') {\n            textX += halfTextW;\n          } // else same as auto\n        } else if (halign === 'right') {\n          // auto justification : left\n          if (justification === 'center') {\n            textX += halfTextW;\n          } else if (justification === 'right') {\n            textX += textW;\n          } // else same as auto\n        }\n\n        switch (valign) {\n          case 'top':\n            textY -= (lines.length - 1) * lineHeight;\n            break;\n          case 'center':\n          case 'bottom':\n            textY -= (lines.length - 1) * lineHeight;\n            break;\n        }\n        for (var l = 0; l < lines.length; l++) {\n          if (lineWidth > 0) {\n            context.strokeText(lines[l], textX, textY);\n          }\n          context.fillText(lines[l], textX, textY);\n          textY += lineHeight;\n        }\n      } else {\n        if (lineWidth > 0) {\n          context.strokeText(text, textX, textY);\n        }\n        context.fillText(text, textX, textY);\n      }\n      if (theta !== 0) {\n        context.rotate(-theta);\n        context.translate(-orgTextX, -orgTextY);\n      }\n    }\n  };\n\n  /* global Path2D */\n  var CRp$5 = {};\n  CRp$5.drawNode = function (context, node, shiftToOriginWithBb) {\n    var drawLabel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n    var shouldDrawOverlay = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : true;\n    var shouldDrawOpacity = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : true;\n    var r = this;\n    var nodeWidth, nodeHeight;\n    var _p = node._private;\n    var rs = _p.rscratch;\n    var pos = node.position();\n    if (!number$1(pos.x) || !number$1(pos.y)) {\n      return; // can't draw node with undefined position\n    }\n\n    if (shouldDrawOpacity && !node.visible()) {\n      return;\n    }\n    var eleOpacity = shouldDrawOpacity ? node.effectiveOpacity() : 1;\n    var usePaths = r.usePaths();\n    var path;\n    var pathCacheHit = false;\n    var padding = node.padding();\n    nodeWidth = node.width() + 2 * padding;\n    nodeHeight = node.height() + 2 * padding;\n\n    //\n    // setup shift\n\n    var bb;\n    if (shiftToOriginWithBb) {\n      bb = shiftToOriginWithBb;\n      context.translate(-bb.x1, -bb.y1);\n    }\n\n    //\n    // load bg image\n\n    var bgImgProp = node.pstyle('background-image');\n    var urls = bgImgProp.value;\n    var urlDefined = new Array(urls.length);\n    var image = new Array(urls.length);\n    var numImages = 0;\n    for (var i = 0; i < urls.length; i++) {\n      var url = urls[i];\n      var defd = urlDefined[i] = url != null && url !== 'none';\n      if (defd) {\n        var bgImgCrossOrigin = node.cy().style().getIndexedStyle(node, 'background-image-crossorigin', 'value', i);\n        numImages++;\n\n        // get image, and if not loaded then ask to redraw when later loaded\n        image[i] = r.getCachedImage(url, bgImgCrossOrigin, function () {\n          _p.backgroundTimestamp = Date.now();\n          node.emitAndNotify('background');\n        });\n      }\n    }\n\n    //\n    // setup styles\n\n    var darkness = node.pstyle('background-blacken').value;\n    var borderWidth = node.pstyle('border-width').pfValue;\n    var bgOpacity = node.pstyle('background-opacity').value * eleOpacity;\n    var borderColor = node.pstyle('border-color').value;\n    var borderStyle = node.pstyle('border-style').value;\n    var borderOpacity = node.pstyle('border-opacity').value * eleOpacity;\n    context.lineJoin = 'miter'; // so borders are square with the node shape\n\n    var setupShapeColor = function setupShapeColor() {\n      var bgOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : bgOpacity;\n      r.eleFillStyle(context, node, bgOpy);\n    };\n    var setupBorderColor = function setupBorderColor() {\n      var bdrOpy = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : borderOpacity;\n      r.colorStrokeStyle(context, borderColor[0], borderColor[1], borderColor[2], bdrOpy);\n    };\n\n    //\n    // setup shape\n\n    var styleShape = node.pstyle('shape').strValue;\n    var shapePts = node.pstyle('shape-polygon-points').pfValue;\n    if (usePaths) {\n      context.translate(pos.x, pos.y);\n      var pathCache = r.nodePathCache = r.nodePathCache || [];\n      var key = hashStrings(styleShape === 'polygon' ? styleShape + ',' + shapePts.join(',') : styleShape, '' + nodeHeight, '' + nodeWidth);\n      var cachedPath = pathCache[key];\n      if (cachedPath != null) {\n        path = cachedPath;\n        pathCacheHit = true;\n        rs.pathCache = path;\n      } else {\n        path = new Path2D();\n        pathCache[key] = rs.pathCache = path;\n      }\n    }\n    var drawShape = function drawShape() {\n      if (!pathCacheHit) {\n        var npos = pos;\n        if (usePaths) {\n          npos = {\n            x: 0,\n            y: 0\n          };\n        }\n        r.nodeShapes[r.getNodeShape(node)].draw(path || context, npos.x, npos.y, nodeWidth, nodeHeight);\n      }\n      if (usePaths) {\n        context.fill(path);\n      } else {\n        context.fill();\n      }\n    };\n    var drawImages = function drawImages() {\n      var nodeOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : eleOpacity;\n      var inside = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n      var prevBging = _p.backgrounding;\n      var totalCompleted = 0;\n      for (var _i = 0; _i < image.length; _i++) {\n        var bgContainment = node.cy().style().getIndexedStyle(node, 'background-image-containment', 'value', _i);\n        if (inside && bgContainment === 'over' || !inside && bgContainment === 'inside') {\n          totalCompleted++;\n          continue;\n        }\n        if (urlDefined[_i] && image[_i].complete && !image[_i].error) {\n          totalCompleted++;\n          r.drawInscribedImage(context, image[_i], node, _i, nodeOpacity);\n        }\n      }\n      _p.backgrounding = !(totalCompleted === numImages);\n      if (prevBging !== _p.backgrounding) {\n        // update style b/c :backgrounding state changed\n        node.updateStyle(false);\n      }\n    };\n    var drawPie = function drawPie() {\n      var redrawShape = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var pieOpacity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : eleOpacity;\n      if (r.hasPie(node)) {\n        r.drawPie(context, node, pieOpacity);\n\n        // redraw/restore path if steps after pie need it\n        if (redrawShape) {\n          if (!usePaths) {\n            r.nodeShapes[r.getNodeShape(node)].draw(context, pos.x, pos.y, nodeWidth, nodeHeight);\n          }\n        }\n      }\n    };\n    var darken = function darken() {\n      var darkenOpacity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : eleOpacity;\n      var opacity = (darkness > 0 ? darkness : -darkness) * darkenOpacity;\n      var c = darkness > 0 ? 0 : 255;\n      if (darkness !== 0) {\n        r.colorFillStyle(context, c, c, c, opacity);\n        if (usePaths) {\n          context.fill(path);\n        } else {\n          context.fill();\n        }\n      }\n    };\n    var drawBorder = function drawBorder() {\n      if (borderWidth > 0) {\n        context.lineWidth = borderWidth;\n        context.lineCap = 'butt';\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          switch (borderStyle) {\n            case 'dotted':\n              context.setLineDash([1, 1]);\n              break;\n            case 'dashed':\n              context.setLineDash([4, 2]);\n              break;\n            case 'solid':\n            case 'double':\n              context.setLineDash([]);\n              break;\n          }\n        }\n        if (usePaths) {\n          context.stroke(path);\n        } else {\n          context.stroke();\n        }\n        if (borderStyle === 'double') {\n          context.lineWidth = borderWidth / 3;\n          var gco = context.globalCompositeOperation;\n          context.globalCompositeOperation = 'destination-out';\n          if (usePaths) {\n            context.stroke(path);\n          } else {\n            context.stroke();\n          }\n          context.globalCompositeOperation = gco;\n        }\n\n        // reset in case we changed the border style\n        if (context.setLineDash) {\n          // for very outofdate browsers\n          context.setLineDash([]);\n        }\n      }\n    };\n    var drawOverlay = function drawOverlay() {\n      if (shouldDrawOverlay) {\n        r.drawNodeOverlay(context, node, pos, nodeWidth, nodeHeight);\n      }\n    };\n    var drawUnderlay = function drawUnderlay() {\n      if (shouldDrawOverlay) {\n        r.drawNodeUnderlay(context, node, pos, nodeWidth, nodeHeight);\n      }\n    };\n    var drawText = function drawText() {\n      r.drawElementText(context, node, null, drawLabel);\n    };\n    var ghost = node.pstyle('ghost').value === 'yes';\n    if (ghost) {\n      var gx = node.pstyle('ghost-offset-x').pfValue;\n      var gy = node.pstyle('ghost-offset-y').pfValue;\n      var ghostOpacity = node.pstyle('ghost-opacity').value;\n      var effGhostOpacity = ghostOpacity * eleOpacity;\n      context.translate(gx, gy);\n      setupShapeColor(ghostOpacity * bgOpacity);\n      drawShape();\n      drawImages(effGhostOpacity, true);\n      setupBorderColor(ghostOpacity * borderOpacity);\n      drawBorder();\n      drawPie(darkness !== 0 || borderWidth !== 0);\n      drawImages(effGhostOpacity, false);\n      darken(effGhostOpacity);\n      context.translate(-gx, -gy);\n    }\n    if (usePaths) {\n      context.translate(-pos.x, -pos.y);\n    }\n    drawUnderlay();\n    if (usePaths) {\n      context.translate(pos.x, pos.y);\n    }\n    setupShapeColor();\n    drawShape();\n    drawImages(eleOpacity, true);\n    setupBorderColor();\n    drawBorder();\n    drawPie(darkness !== 0 || borderWidth !== 0);\n    drawImages(eleOpacity, false);\n    darken();\n    if (usePaths) {\n      context.translate(-pos.x, -pos.y);\n    }\n    drawText();\n    drawOverlay();\n\n    //\n    // clean up shift\n\n    if (shiftToOriginWithBb) {\n      context.translate(bb.x1, bb.y1);\n    }\n  };\n  var drawNodeOverlayUnderlay = function drawNodeOverlayUnderlay(overlayOrUnderlay) {\n    if (!['overlay', 'underlay'].includes(overlayOrUnderlay)) {\n      throw new Error('Invalid state');\n    }\n    return function (context, node, pos, nodeWidth, nodeHeight) {\n      var r = this;\n      if (!node.visible()) {\n        return;\n      }\n      var padding = node.pstyle(\"\".concat(overlayOrUnderlay, \"-padding\")).pfValue;\n      var opacity = node.pstyle(\"\".concat(overlayOrUnderlay, \"-opacity\")).value;\n      var color = node.pstyle(\"\".concat(overlayOrUnderlay, \"-color\")).value;\n      var shape = node.pstyle(\"\".concat(overlayOrUnderlay, \"-shape\")).value;\n      if (opacity > 0) {\n        pos = pos || node.position();\n        if (nodeWidth == null || nodeHeight == null) {\n          var _padding = node.padding();\n          nodeWidth = node.width() + 2 * _padding;\n          nodeHeight = node.height() + 2 * _padding;\n        }\n        r.colorFillStyle(context, color[0], color[1], color[2], opacity);\n        r.nodeShapes[shape].draw(context, pos.x, pos.y, nodeWidth + padding * 2, nodeHeight + padding * 2);\n        context.fill();\n      }\n    };\n  };\n  CRp$5.drawNodeOverlay = drawNodeOverlayUnderlay('overlay');\n  CRp$5.drawNodeUnderlay = drawNodeOverlayUnderlay('underlay');\n\n  // does the node have at least one pie piece?\n  CRp$5.hasPie = function (node) {\n    node = node[0]; // ensure ele ref\n\n    return node._private.hasPie;\n  };\n  CRp$5.drawPie = function (context, node, nodeOpacity, pos) {\n    node = node[0]; // ensure ele ref\n    pos = pos || node.position();\n    var cyStyle = node.cy().style();\n    var pieSize = node.pstyle('pie-size');\n    var x = pos.x;\n    var y = pos.y;\n    var nodeW = node.width();\n    var nodeH = node.height();\n    var radius = Math.min(nodeW, nodeH) / 2; // must fit in node\n    var lastPercent = 0; // what % to continue drawing pie slices from on [0, 1]\n    var usePaths = this.usePaths();\n    if (usePaths) {\n      x = 0;\n      y = 0;\n    }\n    if (pieSize.units === '%') {\n      radius = radius * pieSize.pfValue;\n    } else if (pieSize.pfValue !== undefined) {\n      radius = pieSize.pfValue / 2;\n    }\n    for (var i = 1; i <= cyStyle.pieBackgroundN; i++) {\n      // 1..N\n      var size = node.pstyle('pie-' + i + '-background-size').value;\n      var color = node.pstyle('pie-' + i + '-background-color').value;\n      var opacity = node.pstyle('pie-' + i + '-background-opacity').value * nodeOpacity;\n      var percent = size / 100; // map integer range [0, 100] to [0, 1]\n\n      // percent can't push beyond 1\n      if (percent + lastPercent > 1) {\n        percent = 1 - lastPercent;\n      }\n      var angleStart = 1.5 * Math.PI + 2 * Math.PI * lastPercent; // start at 12 o'clock and go clockwise\n      var angleDelta = 2 * Math.PI * percent;\n      var angleEnd = angleStart + angleDelta;\n\n      // ignore if\n      // - zero size\n      // - we're already beyond the full circle\n      // - adding the current slice would go beyond the full circle\n      if (size === 0 || lastPercent >= 1 || lastPercent + percent > 1) {\n        continue;\n      }\n      context.beginPath();\n      context.moveTo(x, y);\n      context.arc(x, y, radius, angleStart, angleEnd);\n      context.closePath();\n      this.colorFillStyle(context, color[0], color[1], color[2], opacity);\n      context.fill();\n      lastPercent += percent;\n    }\n  };\n\n  var CRp$4 = {};\n  var motionBlurDelay = 100;\n\n  // var isFirefox = typeof InstallTrigger !== 'undefined';\n\n  CRp$4.getPixelRatio = function () {\n    var context = this.data.contexts[0];\n    if (this.forcedPixelRatio != null) {\n      return this.forcedPixelRatio;\n    }\n    var backingStore = context.backingStorePixelRatio || context.webkitBackingStorePixelRatio || context.mozBackingStorePixelRatio || context.msBackingStorePixelRatio || context.oBackingStorePixelRatio || context.backingStorePixelRatio || 1;\n    return (window.devicePixelRatio || 1) / backingStore; // eslint-disable-line no-undef\n  };\n\n  CRp$4.paintCache = function (context) {\n    var caches = this.paintCaches = this.paintCaches || [];\n    var needToCreateCache = true;\n    var cache;\n    for (var i = 0; i < caches.length; i++) {\n      cache = caches[i];\n      if (cache.context === context) {\n        needToCreateCache = false;\n        break;\n      }\n    }\n    if (needToCreateCache) {\n      cache = {\n        context: context\n      };\n      caches.push(cache);\n    }\n    return cache;\n  };\n  CRp$4.createGradientStyleFor = function (context, shapeStyleName, ele, fill, opacity) {\n    var gradientStyle;\n    var usePaths = this.usePaths();\n    var colors = ele.pstyle(shapeStyleName + '-gradient-stop-colors').value,\n      positions = ele.pstyle(shapeStyleName + '-gradient-stop-positions').pfValue;\n    if (fill === 'radial-gradient') {\n      if (ele.isEdge()) {\n        var start = ele.sourceEndpoint(),\n          end = ele.targetEndpoint(),\n          mid = ele.midpoint();\n        var d1 = dist(start, mid);\n        var d2 = dist(end, mid);\n        gradientStyle = context.createRadialGradient(mid.x, mid.y, 0, mid.x, mid.y, Math.max(d1, d2));\n      } else {\n        var pos = usePaths ? {\n            x: 0,\n            y: 0\n          } : ele.position(),\n          width = ele.paddedWidth(),\n          height = ele.paddedHeight();\n        gradientStyle = context.createRadialGradient(pos.x, pos.y, 0, pos.x, pos.y, Math.max(width, height));\n      }\n    } else {\n      if (ele.isEdge()) {\n        var _start = ele.sourceEndpoint(),\n          _end = ele.targetEndpoint();\n        gradientStyle = context.createLinearGradient(_start.x, _start.y, _end.x, _end.y);\n      } else {\n        var _pos = usePaths ? {\n            x: 0,\n            y: 0\n          } : ele.position(),\n          _width = ele.paddedWidth(),\n          _height = ele.paddedHeight(),\n          halfWidth = _width / 2,\n          halfHeight = _height / 2;\n        var direction = ele.pstyle('background-gradient-direction').value;\n        switch (direction) {\n          case 'to-bottom':\n            gradientStyle = context.createLinearGradient(_pos.x, _pos.y - halfHeight, _pos.x, _pos.y + halfHeight);\n            break;\n          case 'to-top':\n            gradientStyle = context.createLinearGradient(_pos.x, _pos.y + halfHeight, _pos.x, _pos.y - halfHeight);\n            break;\n          case 'to-left':\n            gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y, _pos.x - halfWidth, _pos.y);\n            break;\n          case 'to-right':\n            gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y, _pos.x + halfWidth, _pos.y);\n            break;\n          case 'to-bottom-right':\n          case 'to-right-bottom':\n            gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y - halfHeight, _pos.x + halfWidth, _pos.y + halfHeight);\n            break;\n          case 'to-top-right':\n          case 'to-right-top':\n            gradientStyle = context.createLinearGradient(_pos.x - halfWidth, _pos.y + halfHeight, _pos.x + halfWidth, _pos.y - halfHeight);\n            break;\n          case 'to-bottom-left':\n          case 'to-left-bottom':\n            gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y - halfHeight, _pos.x - halfWidth, _pos.y + halfHeight);\n            break;\n          case 'to-top-left':\n          case 'to-left-top':\n            gradientStyle = context.createLinearGradient(_pos.x + halfWidth, _pos.y + halfHeight, _pos.x - halfWidth, _pos.y - halfHeight);\n            break;\n        }\n      }\n    }\n    if (!gradientStyle) return null; // invalid gradient style\n\n    var hasPositions = positions.length === colors.length;\n    var length = colors.length;\n    for (var i = 0; i < length; i++) {\n      gradientStyle.addColorStop(hasPositions ? positions[i] : i / (length - 1), 'rgba(' + colors[i][0] + ',' + colors[i][1] + ',' + colors[i][2] + ',' + opacity + ')');\n    }\n    return gradientStyle;\n  };\n  CRp$4.gradientFillStyle = function (context, ele, fill, opacity) {\n    var gradientStyle = this.createGradientStyleFor(context, 'background', ele, fill, opacity);\n    if (!gradientStyle) return null; // error\n    context.fillStyle = gradientStyle;\n  };\n  CRp$4.colorFillStyle = function (context, r, g, b, a) {\n    context.fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n    // turn off for now, seems context does its own caching\n\n    // var cache = this.paintCache(context);\n\n    // var fillStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n    // if( cache.fillStyle !== fillStyle ){\n    //   context.fillStyle = cache.fillStyle = fillStyle;\n    // }\n  };\n\n  CRp$4.eleFillStyle = function (context, ele, opacity) {\n    var backgroundFill = ele.pstyle('background-fill').value;\n    if (backgroundFill === 'linear-gradient' || backgroundFill === 'radial-gradient') {\n      this.gradientFillStyle(context, ele, backgroundFill, opacity);\n    } else {\n      var backgroundColor = ele.pstyle('background-color').value;\n      this.colorFillStyle(context, backgroundColor[0], backgroundColor[1], backgroundColor[2], opacity);\n    }\n  };\n  CRp$4.gradientStrokeStyle = function (context, ele, fill, opacity) {\n    var gradientStyle = this.createGradientStyleFor(context, 'line', ele, fill, opacity);\n    if (!gradientStyle) return null; // error\n    context.strokeStyle = gradientStyle;\n  };\n  CRp$4.colorStrokeStyle = function (context, r, g, b, a) {\n    context.strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n    // turn off for now, seems context does its own caching\n\n    // var cache = this.paintCache(context);\n\n    // var strokeStyle = 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n\n    // if( cache.strokeStyle !== strokeStyle ){\n    //   context.strokeStyle = cache.strokeStyle = strokeStyle;\n    // }\n  };\n\n  CRp$4.eleStrokeStyle = function (context, ele, opacity) {\n    var lineFill = ele.pstyle('line-fill').value;\n    if (lineFill === 'linear-gradient' || lineFill === 'radial-gradient') {\n      this.gradientStrokeStyle(context, ele, lineFill, opacity);\n    } else {\n      var lineColor = ele.pstyle('line-color').value;\n      this.colorStrokeStyle(context, lineColor[0], lineColor[1], lineColor[2], opacity);\n    }\n  };\n\n  // Resize canvas\n  CRp$4.matchCanvasSize = function (container) {\n    var r = this;\n    var data = r.data;\n    var bb = r.findContainerClientCoords();\n    var width = bb[2];\n    var height = bb[3];\n    var pixelRatio = r.getPixelRatio();\n    var mbPxRatio = r.motionBlurPxRatio;\n    if (container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE] || container === r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG]) {\n      pixelRatio = mbPxRatio;\n    }\n    var canvasWidth = width * pixelRatio;\n    var canvasHeight = height * pixelRatio;\n    var canvas;\n    if (canvasWidth === r.canvasWidth && canvasHeight === r.canvasHeight) {\n      return; // save cycles if same\n    }\n\n    r.fontCaches = null; // resizing resets the style\n\n    var canvasContainer = data.canvasContainer;\n    canvasContainer.style.width = width + 'px';\n    canvasContainer.style.height = height + 'px';\n    for (var i = 0; i < r.CANVAS_LAYERS; i++) {\n      canvas = data.canvases[i];\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px';\n    }\n    for (var i = 0; i < r.BUFFER_COUNT; i++) {\n      canvas = data.bufferCanvases[i];\n      canvas.width = canvasWidth;\n      canvas.height = canvasHeight;\n      canvas.style.width = width + 'px';\n      canvas.style.height = height + 'px';\n    }\n    r.textureMult = 1;\n    if (pixelRatio <= 1) {\n      canvas = data.bufferCanvases[r.TEXTURE_BUFFER];\n      r.textureMult = 2;\n      canvas.width = canvasWidth * r.textureMult;\n      canvas.height = canvasHeight * r.textureMult;\n    }\n    r.canvasWidth = canvasWidth;\n    r.canvasHeight = canvasHeight;\n  };\n  CRp$4.renderTo = function (cxt, zoom, pan, pxRatio) {\n    this.render({\n      forcedContext: cxt,\n      forcedZoom: zoom,\n      forcedPan: pan,\n      drawAllLayers: true,\n      forcedPxRatio: pxRatio\n    });\n  };\n  CRp$4.render = function (options) {\n    options = options || staticEmptyObject();\n    var forcedContext = options.forcedContext;\n    var drawAllLayers = options.drawAllLayers;\n    var drawOnlyNodeLayer = options.drawOnlyNodeLayer;\n    var forcedZoom = options.forcedZoom;\n    var forcedPan = options.forcedPan;\n    var r = this;\n    var pixelRatio = options.forcedPxRatio === undefined ? this.getPixelRatio() : options.forcedPxRatio;\n    var cy = r.cy;\n    var data = r.data;\n    var needDraw = data.canvasNeedsRedraw;\n    var textureDraw = r.textureOnViewport && !forcedContext && (r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming);\n    var motionBlur = options.motionBlur !== undefined ? options.motionBlur : r.motionBlur;\n    var mbPxRatio = r.motionBlurPxRatio;\n    var hasCompoundNodes = cy.hasCompoundNodes();\n    var inNodeDragGesture = r.hoverData.draggingEles;\n    var inBoxSelection = r.hoverData.selecting || r.touchData.selecting ? true : false;\n    motionBlur = motionBlur && !forcedContext && r.motionBlurEnabled && !inBoxSelection;\n    var motionBlurFadeEffect = motionBlur;\n    if (!forcedContext) {\n      if (r.prevPxRatio !== pixelRatio) {\n        r.invalidateContainerClientCoordsCache();\n        r.matchCanvasSize(r.container);\n        r.redrawHint('eles', true);\n        r.redrawHint('drag', true);\n      }\n      r.prevPxRatio = pixelRatio;\n    }\n    if (!forcedContext && r.motionBlurTimeout) {\n      clearTimeout(r.motionBlurTimeout);\n    }\n    if (motionBlur) {\n      if (r.mbFrames == null) {\n        r.mbFrames = 0;\n      }\n      r.mbFrames++;\n      if (r.mbFrames < 3) {\n        // need several frames before even high quality motionblur\n        motionBlurFadeEffect = false;\n      }\n\n      // go to lower quality blurry frames when several m/b frames have been rendered (avoids flashing)\n      if (r.mbFrames > r.minMbLowQualFrames) {\n        //r.fullQualityMb = false;\n        r.motionBlurPxRatio = r.mbPxRBlurry;\n      }\n    }\n    if (r.clearingMotionBlur) {\n      r.motionBlurPxRatio = 1;\n    }\n\n    // b/c drawToContext() may be async w.r.t. redraw(), keep track of last texture frame\n    // because a rogue async texture frame would clear needDraw\n    if (r.textureDrawLastFrame && !textureDraw) {\n      needDraw[r.NODE] = true;\n      needDraw[r.SELECT_BOX] = true;\n    }\n    var style = cy.style();\n    var zoom = cy.zoom();\n    var effectiveZoom = forcedZoom !== undefined ? forcedZoom : zoom;\n    var pan = cy.pan();\n    var effectivePan = {\n      x: pan.x,\n      y: pan.y\n    };\n    var vp = {\n      zoom: zoom,\n      pan: {\n        x: pan.x,\n        y: pan.y\n      }\n    };\n    var prevVp = r.prevViewport;\n    var viewportIsDiff = prevVp === undefined || vp.zoom !== prevVp.zoom || vp.pan.x !== prevVp.pan.x || vp.pan.y !== prevVp.pan.y;\n\n    // we want the low quality motionblur only when the viewport is being manipulated etc (where it's not noticed)\n    if (!viewportIsDiff && !(inNodeDragGesture && !hasCompoundNodes)) {\n      r.motionBlurPxRatio = 1;\n    }\n    if (forcedPan) {\n      effectivePan = forcedPan;\n    }\n\n    // apply pixel ratio\n\n    effectiveZoom *= pixelRatio;\n    effectivePan.x *= pixelRatio;\n    effectivePan.y *= pixelRatio;\n    var eles = r.getCachedZSortedEles();\n    function mbclear(context, x, y, w, h) {\n      var gco = context.globalCompositeOperation;\n      context.globalCompositeOperation = 'destination-out';\n      r.colorFillStyle(context, 255, 255, 255, r.motionBlurTransparency);\n      context.fillRect(x, y, w, h);\n      context.globalCompositeOperation = gco;\n    }\n    function setContextTransform(context, clear) {\n      var ePan, eZoom, w, h;\n      if (!r.clearingMotionBlur && (context === data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] || context === data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG])) {\n        ePan = {\n          x: pan.x * mbPxRatio,\n          y: pan.y * mbPxRatio\n        };\n        eZoom = zoom * mbPxRatio;\n        w = r.canvasWidth * mbPxRatio;\n        h = r.canvasHeight * mbPxRatio;\n      } else {\n        ePan = effectivePan;\n        eZoom = effectiveZoom;\n        w = r.canvasWidth;\n        h = r.canvasHeight;\n      }\n      context.setTransform(1, 0, 0, 1, 0, 0);\n      if (clear === 'motionBlur') {\n        mbclear(context, 0, 0, w, h);\n      } else if (!forcedContext && (clear === undefined || clear)) {\n        context.clearRect(0, 0, w, h);\n      }\n      if (!drawAllLayers) {\n        context.translate(ePan.x, ePan.y);\n        context.scale(eZoom, eZoom);\n      }\n      if (forcedPan) {\n        context.translate(forcedPan.x, forcedPan.y);\n      }\n      if (forcedZoom) {\n        context.scale(forcedZoom, forcedZoom);\n      }\n    }\n    if (!textureDraw) {\n      r.textureDrawLastFrame = false;\n    }\n    if (textureDraw) {\n      r.textureDrawLastFrame = true;\n      if (!r.textureCache) {\n        r.textureCache = {};\n        r.textureCache.bb = cy.mutableElements().boundingBox();\n        r.textureCache.texture = r.data.bufferCanvases[r.TEXTURE_BUFFER];\n        var cxt = r.data.bufferContexts[r.TEXTURE_BUFFER];\n        cxt.setTransform(1, 0, 0, 1, 0, 0);\n        cxt.clearRect(0, 0, r.canvasWidth * r.textureMult, r.canvasHeight * r.textureMult);\n        r.render({\n          forcedContext: cxt,\n          drawOnlyNodeLayer: true,\n          forcedPxRatio: pixelRatio * r.textureMult\n        });\n        var vp = r.textureCache.viewport = {\n          zoom: cy.zoom(),\n          pan: cy.pan(),\n          width: r.canvasWidth,\n          height: r.canvasHeight\n        };\n        vp.mpan = {\n          x: (0 - vp.pan.x) / vp.zoom,\n          y: (0 - vp.pan.y) / vp.zoom\n        };\n      }\n      needDraw[r.DRAG] = false;\n      needDraw[r.NODE] = false;\n      var context = data.contexts[r.NODE];\n      var texture = r.textureCache.texture;\n      var vp = r.textureCache.viewport;\n      context.setTransform(1, 0, 0, 1, 0, 0);\n      if (motionBlur) {\n        mbclear(context, 0, 0, vp.width, vp.height);\n      } else {\n        context.clearRect(0, 0, vp.width, vp.height);\n      }\n      var outsideBgColor = style.core('outside-texture-bg-color').value;\n      var outsideBgOpacity = style.core('outside-texture-bg-opacity').value;\n      r.colorFillStyle(context, outsideBgColor[0], outsideBgColor[1], outsideBgColor[2], outsideBgOpacity);\n      context.fillRect(0, 0, vp.width, vp.height);\n      var zoom = cy.zoom();\n      setContextTransform(context, false);\n      context.clearRect(vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n      context.drawImage(texture, vp.mpan.x, vp.mpan.y, vp.width / vp.zoom / pixelRatio, vp.height / vp.zoom / pixelRatio);\n    } else if (r.textureOnViewport && !forcedContext) {\n      // clear the cache since we don't need it\n      r.textureCache = null;\n    }\n    var extent = cy.extent();\n    var vpManip = r.pinching || r.hoverData.dragging || r.swipePanning || r.data.wheelZooming || r.hoverData.draggingEles || r.cy.animated();\n    var hideEdges = r.hideEdgesOnViewport && vpManip;\n    var needMbClear = [];\n    needMbClear[r.NODE] = !needDraw[r.NODE] && motionBlur && !r.clearedForMotionBlur[r.NODE] || r.clearingMotionBlur;\n    if (needMbClear[r.NODE]) {\n      r.clearedForMotionBlur[r.NODE] = true;\n    }\n    needMbClear[r.DRAG] = !needDraw[r.DRAG] && motionBlur && !r.clearedForMotionBlur[r.DRAG] || r.clearingMotionBlur;\n    if (needMbClear[r.DRAG]) {\n      r.clearedForMotionBlur[r.DRAG] = true;\n    }\n    if (needDraw[r.NODE] || drawAllLayers || drawOnlyNodeLayer || needMbClear[r.NODE]) {\n      var useBuffer = motionBlur && !needMbClear[r.NODE] && mbPxRatio !== 1;\n      var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_NODE] : data.contexts[r.NODE]);\n      var clear = motionBlur && !useBuffer ? 'motionBlur' : undefined;\n      setContextTransform(context, clear);\n      if (hideEdges) {\n        r.drawCachedNodes(context, eles.nondrag, pixelRatio, extent);\n      } else {\n        r.drawLayeredElements(context, eles.nondrag, pixelRatio, extent);\n      }\n      if (r.debug) {\n        r.drawDebugPoints(context, eles.nondrag);\n      }\n      if (!drawAllLayers && !motionBlur) {\n        needDraw[r.NODE] = false;\n      }\n    }\n    if (!drawOnlyNodeLayer && (needDraw[r.DRAG] || drawAllLayers || needMbClear[r.DRAG])) {\n      var useBuffer = motionBlur && !needMbClear[r.DRAG] && mbPxRatio !== 1;\n      var context = forcedContext || (useBuffer ? r.data.bufferContexts[r.MOTIONBLUR_BUFFER_DRAG] : data.contexts[r.DRAG]);\n      setContextTransform(context, motionBlur && !useBuffer ? 'motionBlur' : undefined);\n      if (hideEdges) {\n        r.drawCachedNodes(context, eles.drag, pixelRatio, extent);\n      } else {\n        r.drawCachedElements(context, eles.drag, pixelRatio, extent);\n      }\n      if (r.debug) {\n        r.drawDebugPoints(context, eles.drag);\n      }\n      if (!drawAllLayers && !motionBlur) {\n        needDraw[r.DRAG] = false;\n      }\n    }\n    if (r.showFps || !drawOnlyNodeLayer && needDraw[r.SELECT_BOX] && !drawAllLayers) {\n      var context = forcedContext || data.contexts[r.SELECT_BOX];\n      setContextTransform(context);\n      if (r.selection[4] == 1 && (r.hoverData.selecting || r.touchData.selecting)) {\n        var zoom = r.cy.zoom();\n        var borderWidth = style.core('selection-box-border-width').value / zoom;\n        context.lineWidth = borderWidth;\n        context.fillStyle = 'rgba(' + style.core('selection-box-color').value[0] + ',' + style.core('selection-box-color').value[1] + ',' + style.core('selection-box-color').value[2] + ',' + style.core('selection-box-opacity').value + ')';\n        context.fillRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n        if (borderWidth > 0) {\n          context.strokeStyle = 'rgba(' + style.core('selection-box-border-color').value[0] + ',' + style.core('selection-box-border-color').value[1] + ',' + style.core('selection-box-border-color').value[2] + ',' + style.core('selection-box-opacity').value + ')';\n          context.strokeRect(r.selection[0], r.selection[1], r.selection[2] - r.selection[0], r.selection[3] - r.selection[1]);\n        }\n      }\n      if (data.bgActivePosistion && !r.hoverData.selecting) {\n        var zoom = r.cy.zoom();\n        var pos = data.bgActivePosistion;\n        context.fillStyle = 'rgba(' + style.core('active-bg-color').value[0] + ',' + style.core('active-bg-color').value[1] + ',' + style.core('active-bg-color').value[2] + ',' + style.core('active-bg-opacity').value + ')';\n        context.beginPath();\n        context.arc(pos.x, pos.y, style.core('active-bg-size').pfValue / zoom, 0, 2 * Math.PI);\n        context.fill();\n      }\n      var timeToRender = r.lastRedrawTime;\n      if (r.showFps && timeToRender) {\n        timeToRender = Math.round(timeToRender);\n        var fps = Math.round(1000 / timeToRender);\n        context.setTransform(1, 0, 0, 1, 0, 0);\n        context.fillStyle = 'rgba(255, 0, 0, 0.75)';\n        context.strokeStyle = 'rgba(255, 0, 0, 0.75)';\n        context.lineWidth = 1;\n        context.fillText('1 frame = ' + timeToRender + ' ms = ' + fps + ' fps', 0, 20);\n        var maxFps = 60;\n        context.strokeRect(0, 30, 250, 20);\n        context.fillRect(0, 30, 250 * Math.min(fps / maxFps, 1), 20);\n      }\n      if (!drawAllLayers) {\n        needDraw[r.SELECT_BOX] = false;\n      }\n    }\n\n    // motionblur: blit rendered blurry frames\n    if (motionBlur && mbPxRatio !== 1) {\n      var cxtNode = data.contexts[r.NODE];\n      var txtNode = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_NODE];\n      var cxtDrag = data.contexts[r.DRAG];\n      var txtDrag = r.data.bufferCanvases[r.MOTIONBLUR_BUFFER_DRAG];\n      var drawMotionBlur = function drawMotionBlur(cxt, txt, needClear) {\n        cxt.setTransform(1, 0, 0, 1, 0, 0);\n        if (needClear || !motionBlurFadeEffect) {\n          cxt.clearRect(0, 0, r.canvasWidth, r.canvasHeight);\n        } else {\n          mbclear(cxt, 0, 0, r.canvasWidth, r.canvasHeight);\n        }\n        var pxr = mbPxRatio;\n        cxt.drawImage(txt,\n        // img\n        0, 0,\n        // sx, sy\n        r.canvasWidth * pxr, r.canvasHeight * pxr,\n        // sw, sh\n        0, 0,\n        // x, y\n        r.canvasWidth, r.canvasHeight // w, h\n        );\n      };\n\n      if (needDraw[r.NODE] || needMbClear[r.NODE]) {\n        drawMotionBlur(cxtNode, txtNode, needMbClear[r.NODE]);\n        needDraw[r.NODE] = false;\n      }\n      if (needDraw[r.DRAG] || needMbClear[r.DRAG]) {\n        drawMotionBlur(cxtDrag, txtDrag, needMbClear[r.DRAG]);\n        needDraw[r.DRAG] = false;\n      }\n    }\n    r.prevViewport = vp;\n    if (r.clearingMotionBlur) {\n      r.clearingMotionBlur = false;\n      r.motionBlurCleared = true;\n      r.motionBlur = true;\n    }\n    if (motionBlur) {\n      r.motionBlurTimeout = setTimeout(function () {\n        r.motionBlurTimeout = null;\n        r.clearedForMotionBlur[r.NODE] = false;\n        r.clearedForMotionBlur[r.DRAG] = false;\n        r.motionBlur = false;\n        r.clearingMotionBlur = !textureDraw;\n        r.mbFrames = 0;\n        needDraw[r.NODE] = true;\n        needDraw[r.DRAG] = true;\n        r.redraw();\n      }, motionBlurDelay);\n    }\n    if (!forcedContext) {\n      cy.emit('render');\n    }\n  };\n\n  var CRp$3 = {};\n\n  // @O Polygon drawing\n  CRp$3.drawPolygonPath = function (context, x, y, width, height, points) {\n    var halfW = width / 2;\n    var halfH = height / 2;\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    context.moveTo(x + halfW * points[0], y + halfH * points[1]);\n    for (var i = 1; i < points.length / 2; i++) {\n      context.lineTo(x + halfW * points[i * 2], y + halfH * points[i * 2 + 1]);\n    }\n    context.closePath();\n  };\n  CRp$3.drawRoundPolygonPath = function (context, x, y, width, height, points) {\n    var halfW = width / 2;\n    var halfH = height / 2;\n    var cornerRadius = getRoundPolygonRadius(width, height);\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    for (var _i = 0; _i < points.length / 4; _i++) {\n      var sourceUv = void 0,\n        destUv = void 0;\n      if (_i === 0) {\n        sourceUv = points.length - 2;\n      } else {\n        sourceUv = _i * 4 - 2;\n      }\n      destUv = _i * 4 + 2;\n      var px = x + halfW * points[_i * 4];\n      var py = y + halfH * points[_i * 4 + 1];\n      var cosTheta = -points[sourceUv] * points[destUv] - points[sourceUv + 1] * points[destUv + 1];\n      var offset = cornerRadius / Math.tan(Math.acos(cosTheta) / 2);\n      var cp0x = px - offset * points[sourceUv];\n      var cp0y = py - offset * points[sourceUv + 1];\n      var cp1x = px + offset * points[destUv];\n      var cp1y = py + offset * points[destUv + 1];\n      if (_i === 0) {\n        context.moveTo(cp0x, cp0y);\n      } else {\n        context.lineTo(cp0x, cp0y);\n      }\n      context.arcTo(px, py, cp1x, cp1y, cornerRadius);\n    }\n    context.closePath();\n  };\n\n  // Round rectangle drawing\n  CRp$3.drawRoundRectanglePath = function (context, x, y, width, height) {\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var cornerRadius = getRoundRectangleRadius(width, height);\n    if (context.beginPath) {\n      context.beginPath();\n    }\n\n    // Start at top middle\n    context.moveTo(x, y - halfHeight);\n    // Arc from middle top to right side\n    context.arcTo(x + halfWidth, y - halfHeight, x + halfWidth, y, cornerRadius);\n    // Arc from right side to bottom\n    context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n    // Arc from bottom to left side\n    context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n    // Arc from left side to topBorder\n    context.arcTo(x - halfWidth, y - halfHeight, x, y - halfHeight, cornerRadius);\n    // Join line\n    context.lineTo(x, y - halfHeight);\n    context.closePath();\n  };\n  CRp$3.drawBottomRoundRectanglePath = function (context, x, y, width, height) {\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var cornerRadius = getRoundRectangleRadius(width, height);\n    if (context.beginPath) {\n      context.beginPath();\n    }\n\n    // Start at top middle\n    context.moveTo(x, y - halfHeight);\n    context.lineTo(x + halfWidth, y - halfHeight);\n    context.lineTo(x + halfWidth, y);\n    context.arcTo(x + halfWidth, y + halfHeight, x, y + halfHeight, cornerRadius);\n    context.arcTo(x - halfWidth, y + halfHeight, x - halfWidth, y, cornerRadius);\n    context.lineTo(x - halfWidth, y - halfHeight);\n    context.lineTo(x, y - halfHeight);\n    context.closePath();\n  };\n  CRp$3.drawCutRectanglePath = function (context, x, y, width, height) {\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var cornerLength = getCutRectangleCornerLength();\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    context.moveTo(x - halfWidth + cornerLength, y - halfHeight);\n    context.lineTo(x + halfWidth - cornerLength, y - halfHeight);\n    context.lineTo(x + halfWidth, y - halfHeight + cornerLength);\n    context.lineTo(x + halfWidth, y + halfHeight - cornerLength);\n    context.lineTo(x + halfWidth - cornerLength, y + halfHeight);\n    context.lineTo(x - halfWidth + cornerLength, y + halfHeight);\n    context.lineTo(x - halfWidth, y + halfHeight - cornerLength);\n    context.lineTo(x - halfWidth, y - halfHeight + cornerLength);\n    context.closePath();\n  };\n  CRp$3.drawBarrelPath = function (context, x, y, width, height) {\n    var halfWidth = width / 2;\n    var halfHeight = height / 2;\n    var xBegin = x - halfWidth;\n    var xEnd = x + halfWidth;\n    var yBegin = y - halfHeight;\n    var yEnd = y + halfHeight;\n    var barrelCurveConstants = getBarrelCurveConstants(width, height);\n    var wOffset = barrelCurveConstants.widthOffset;\n    var hOffset = barrelCurveConstants.heightOffset;\n    var ctrlPtXOffset = barrelCurveConstants.ctrlPtOffsetPct * wOffset;\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    context.moveTo(xBegin, yBegin + hOffset);\n    context.lineTo(xBegin, yEnd - hOffset);\n    context.quadraticCurveTo(xBegin + ctrlPtXOffset, yEnd, xBegin + wOffset, yEnd);\n    context.lineTo(xEnd - wOffset, yEnd);\n    context.quadraticCurveTo(xEnd - ctrlPtXOffset, yEnd, xEnd, yEnd - hOffset);\n    context.lineTo(xEnd, yBegin + hOffset);\n    context.quadraticCurveTo(xEnd - ctrlPtXOffset, yBegin, xEnd - wOffset, yBegin);\n    context.lineTo(xBegin + wOffset, yBegin);\n    context.quadraticCurveTo(xBegin + ctrlPtXOffset, yBegin, xBegin, yBegin + hOffset);\n    context.closePath();\n  };\n  var sin0 = Math.sin(0);\n  var cos0 = Math.cos(0);\n  var sin = {};\n  var cos = {};\n  var ellipseStepSize = Math.PI / 40;\n  for (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n    sin[i] = Math.sin(i);\n    cos[i] = Math.cos(i);\n  }\n  CRp$3.drawEllipsePath = function (context, centerX, centerY, width, height) {\n    if (context.beginPath) {\n      context.beginPath();\n    }\n    if (context.ellipse) {\n      context.ellipse(centerX, centerY, width / 2, height / 2, 0, 0, 2 * Math.PI);\n    } else {\n      var xPos, yPos;\n      var rw = width / 2;\n      var rh = height / 2;\n      for (var i = 0 * Math.PI; i < 2 * Math.PI; i += ellipseStepSize) {\n        xPos = centerX - rw * sin[i] * sin0 + rw * cos[i] * cos0;\n        yPos = centerY + rh * cos[i] * sin0 + rh * sin[i] * cos0;\n        if (i === 0) {\n          context.moveTo(xPos, yPos);\n        } else {\n          context.lineTo(xPos, yPos);\n        }\n      }\n    }\n    context.closePath();\n  };\n\n  /* global atob, ArrayBuffer, Uint8Array, Blob */\n  var CRp$2 = {};\n  CRp$2.createBuffer = function (w, h) {\n    var buffer = document.createElement('canvas'); // eslint-disable-line no-undef\n    buffer.width = w;\n    buffer.height = h;\n    return [buffer, buffer.getContext('2d')];\n  };\n  CRp$2.bufferCanvasImage = function (options) {\n    var cy = this.cy;\n    var eles = cy.mutableElements();\n    var bb = eles.boundingBox();\n    var ctrRect = this.findContainerClientCoords();\n    var width = options.full ? Math.ceil(bb.w) : ctrRect[2];\n    var height = options.full ? Math.ceil(bb.h) : ctrRect[3];\n    var specdMaxDims = number$1(options.maxWidth) || number$1(options.maxHeight);\n    var pxRatio = this.getPixelRatio();\n    var scale = 1;\n    if (options.scale !== undefined) {\n      width *= options.scale;\n      height *= options.scale;\n      scale = options.scale;\n    } else if (specdMaxDims) {\n      var maxScaleW = Infinity;\n      var maxScaleH = Infinity;\n      if (number$1(options.maxWidth)) {\n        maxScaleW = scale * options.maxWidth / width;\n      }\n      if (number$1(options.maxHeight)) {\n        maxScaleH = scale * options.maxHeight / height;\n      }\n      scale = Math.min(maxScaleW, maxScaleH);\n      width *= scale;\n      height *= scale;\n    }\n    if (!specdMaxDims) {\n      width *= pxRatio;\n      height *= pxRatio;\n      scale *= pxRatio;\n    }\n    var buffCanvas = document.createElement('canvas'); // eslint-disable-line no-undef\n\n    buffCanvas.width = width;\n    buffCanvas.height = height;\n    buffCanvas.style.width = width + 'px';\n    buffCanvas.style.height = height + 'px';\n    var buffCxt = buffCanvas.getContext('2d');\n\n    // Rasterize the layers, but only if container has nonzero size\n    if (width > 0 && height > 0) {\n      buffCxt.clearRect(0, 0, width, height);\n      buffCxt.globalCompositeOperation = 'source-over';\n      var zsortedEles = this.getCachedZSortedEles();\n      if (options.full) {\n        // draw the full bounds of the graph\n        buffCxt.translate(-bb.x1 * scale, -bb.y1 * scale);\n        buffCxt.scale(scale, scale);\n        this.drawElements(buffCxt, zsortedEles);\n        buffCxt.scale(1 / scale, 1 / scale);\n        buffCxt.translate(bb.x1 * scale, bb.y1 * scale);\n      } else {\n        // draw the current view\n        var pan = cy.pan();\n        var translation = {\n          x: pan.x * scale,\n          y: pan.y * scale\n        };\n        scale *= cy.zoom();\n        buffCxt.translate(translation.x, translation.y);\n        buffCxt.scale(scale, scale);\n        this.drawElements(buffCxt, zsortedEles);\n        buffCxt.scale(1 / scale, 1 / scale);\n        buffCxt.translate(-translation.x, -translation.y);\n      }\n\n      // need to fill bg at end like this in order to fill cleared transparent pixels in jpgs\n      if (options.bg) {\n        buffCxt.globalCompositeOperation = 'destination-over';\n        buffCxt.fillStyle = options.bg;\n        buffCxt.rect(0, 0, width, height);\n        buffCxt.fill();\n      }\n    }\n    return buffCanvas;\n  };\n  function b64ToBlob(b64, mimeType) {\n    var bytes = atob(b64);\n    var buff = new ArrayBuffer(bytes.length);\n    var buffUint8 = new Uint8Array(buff);\n    for (var i = 0; i < bytes.length; i++) {\n      buffUint8[i] = bytes.charCodeAt(i);\n    }\n    return new Blob([buff], {\n      type: mimeType\n    });\n  }\n  function b64UriToB64(b64uri) {\n    var i = b64uri.indexOf(',');\n    return b64uri.substr(i + 1);\n  }\n  function output(options, canvas, mimeType) {\n    var getB64Uri = function getB64Uri() {\n      return canvas.toDataURL(mimeType, options.quality);\n    };\n    switch (options.output) {\n      case 'blob-promise':\n        return new Promise$1(function (resolve, reject) {\n          try {\n            canvas.toBlob(function (blob) {\n              if (blob != null) {\n                resolve(blob);\n              } else {\n                reject(new Error('`canvas.toBlob()` sent a null value in its callback'));\n              }\n            }, mimeType, options.quality);\n          } catch (err) {\n            reject(err);\n          }\n        });\n      case 'blob':\n        return b64ToBlob(b64UriToB64(getB64Uri()), mimeType);\n      case 'base64':\n        return b64UriToB64(getB64Uri());\n      case 'base64uri':\n      default:\n        return getB64Uri();\n    }\n  }\n  CRp$2.png = function (options) {\n    return output(options, this.bufferCanvasImage(options), 'image/png');\n  };\n  CRp$2.jpg = function (options) {\n    return output(options, this.bufferCanvasImage(options), 'image/jpeg');\n  };\n\n  var CRp$1 = {};\n  CRp$1.nodeShapeImpl = function (name, context, centerX, centerY, width, height, points) {\n    switch (name) {\n      case 'ellipse':\n        return this.drawEllipsePath(context, centerX, centerY, width, height);\n      case 'polygon':\n        return this.drawPolygonPath(context, centerX, centerY, width, height, points);\n      case 'round-polygon':\n        return this.drawRoundPolygonPath(context, centerX, centerY, width, height, points);\n      case 'roundrectangle':\n      case 'round-rectangle':\n        return this.drawRoundRectanglePath(context, centerX, centerY, width, height);\n      case 'cutrectangle':\n      case 'cut-rectangle':\n        return this.drawCutRectanglePath(context, centerX, centerY, width, height);\n      case 'bottomroundrectangle':\n      case 'bottom-round-rectangle':\n        return this.drawBottomRoundRectanglePath(context, centerX, centerY, width, height);\n      case 'barrel':\n        return this.drawBarrelPath(context, centerX, centerY, width, height);\n    }\n  };\n\n  var CR = CanvasRenderer;\n  var CRp = CanvasRenderer.prototype;\n  CRp.CANVAS_LAYERS = 3;\n  //\n  CRp.SELECT_BOX = 0;\n  CRp.DRAG = 1;\n  CRp.NODE = 2;\n  CRp.BUFFER_COUNT = 3;\n  //\n  CRp.TEXTURE_BUFFER = 0;\n  CRp.MOTIONBLUR_BUFFER_NODE = 1;\n  CRp.MOTIONBLUR_BUFFER_DRAG = 2;\n  function CanvasRenderer(options) {\n    var r = this;\n    r.data = {\n      canvases: new Array(CRp.CANVAS_LAYERS),\n      contexts: new Array(CRp.CANVAS_LAYERS),\n      canvasNeedsRedraw: new Array(CRp.CANVAS_LAYERS),\n      bufferCanvases: new Array(CRp.BUFFER_COUNT),\n      bufferContexts: new Array(CRp.CANVAS_LAYERS)\n    };\n    var tapHlOffAttr = '-webkit-tap-highlight-color';\n    var tapHlOffStyle = 'rgba(0,0,0,0)';\n    r.data.canvasContainer = document.createElement('div'); // eslint-disable-line no-undef\n    var containerStyle = r.data.canvasContainer.style;\n    r.data.canvasContainer.style[tapHlOffAttr] = tapHlOffStyle;\n    containerStyle.position = 'relative';\n    containerStyle.zIndex = '0';\n    containerStyle.overflow = 'hidden';\n    var container = options.cy.container();\n    container.appendChild(r.data.canvasContainer);\n    container.style[tapHlOffAttr] = tapHlOffStyle;\n    var styleMap = {\n      '-webkit-user-select': 'none',\n      '-moz-user-select': '-moz-none',\n      'user-select': 'none',\n      '-webkit-tap-highlight-color': 'rgba(0,0,0,0)',\n      'outline-style': 'none'\n    };\n    if (ms()) {\n      styleMap['-ms-touch-action'] = 'none';\n      styleMap['touch-action'] = 'none';\n    }\n    for (var i = 0; i < CRp.CANVAS_LAYERS; i++) {\n      var canvas = r.data.canvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n      r.data.contexts[i] = canvas.getContext('2d');\n      Object.keys(styleMap).forEach(function (k) {\n        canvas.style[k] = styleMap[k];\n      });\n      canvas.style.position = 'absolute';\n      canvas.setAttribute('data-id', 'layer' + i);\n      canvas.style.zIndex = String(CRp.CANVAS_LAYERS - i);\n      r.data.canvasContainer.appendChild(canvas);\n      r.data.canvasNeedsRedraw[i] = false;\n    }\n    r.data.topCanvas = r.data.canvases[0];\n    r.data.canvases[CRp.NODE].setAttribute('data-id', 'layer' + CRp.NODE + '-node');\n    r.data.canvases[CRp.SELECT_BOX].setAttribute('data-id', 'layer' + CRp.SELECT_BOX + '-selectbox');\n    r.data.canvases[CRp.DRAG].setAttribute('data-id', 'layer' + CRp.DRAG + '-drag');\n    for (var i = 0; i < CRp.BUFFER_COUNT; i++) {\n      r.data.bufferCanvases[i] = document.createElement('canvas'); // eslint-disable-line no-undef\n      r.data.bufferContexts[i] = r.data.bufferCanvases[i].getContext('2d');\n      r.data.bufferCanvases[i].style.position = 'absolute';\n      r.data.bufferCanvases[i].setAttribute('data-id', 'buffer' + i);\n      r.data.bufferCanvases[i].style.zIndex = String(-i - 1);\n      r.data.bufferCanvases[i].style.visibility = 'hidden';\n      //r.data.canvasContainer.appendChild(r.data.bufferCanvases[i]);\n    }\n\n    r.pathsEnabled = true;\n    var emptyBb = makeBoundingBox();\n    var getBoxCenter = function getBoxCenter(bb) {\n      return {\n        x: (bb.x1 + bb.x2) / 2,\n        y: (bb.y1 + bb.y2) / 2\n      };\n    };\n    var getCenterOffset = function getCenterOffset(bb) {\n      return {\n        x: -bb.w / 2,\n        y: -bb.h / 2\n      };\n    };\n    var backgroundTimestampHasChanged = function backgroundTimestampHasChanged(ele) {\n      var _p = ele[0]._private;\n      var same = _p.oldBackgroundTimestamp === _p.backgroundTimestamp;\n      return !same;\n    };\n    var getStyleKey = function getStyleKey(ele) {\n      return ele[0]._private.nodeKey;\n    };\n    var getLabelKey = function getLabelKey(ele) {\n      return ele[0]._private.labelStyleKey;\n    };\n    var getSourceLabelKey = function getSourceLabelKey(ele) {\n      return ele[0]._private.sourceLabelStyleKey;\n    };\n    var getTargetLabelKey = function getTargetLabelKey(ele) {\n      return ele[0]._private.targetLabelStyleKey;\n    };\n    var drawElement = function drawElement(context, ele, bb, scaledLabelShown, useEleOpacity) {\n      return r.drawElement(context, ele, bb, false, false, useEleOpacity);\n    };\n    var drawLabel = function drawLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n      return r.drawElementText(context, ele, bb, scaledLabelShown, 'main', useEleOpacity);\n    };\n    var drawSourceLabel = function drawSourceLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n      return r.drawElementText(context, ele, bb, scaledLabelShown, 'source', useEleOpacity);\n    };\n    var drawTargetLabel = function drawTargetLabel(context, ele, bb, scaledLabelShown, useEleOpacity) {\n      return r.drawElementText(context, ele, bb, scaledLabelShown, 'target', useEleOpacity);\n    };\n    var getElementBox = function getElementBox(ele) {\n      ele.boundingBox();\n      return ele[0]._private.bodyBounds;\n    };\n    var getLabelBox = function getLabelBox(ele) {\n      ele.boundingBox();\n      return ele[0]._private.labelBounds.main || emptyBb;\n    };\n    var getSourceLabelBox = function getSourceLabelBox(ele) {\n      ele.boundingBox();\n      return ele[0]._private.labelBounds.source || emptyBb;\n    };\n    var getTargetLabelBox = function getTargetLabelBox(ele) {\n      ele.boundingBox();\n      return ele[0]._private.labelBounds.target || emptyBb;\n    };\n    var isLabelVisibleAtScale = function isLabelVisibleAtScale(ele, scaledLabelShown) {\n      return scaledLabelShown;\n    };\n    var getElementRotationPoint = function getElementRotationPoint(ele) {\n      return getBoxCenter(getElementBox(ele));\n    };\n    var addTextMargin = function addTextMargin(prefix, pt, ele) {\n      var pre = prefix ? prefix + '-' : '';\n      return {\n        x: pt.x + ele.pstyle(pre + 'text-margin-x').pfValue,\n        y: pt.y + ele.pstyle(pre + 'text-margin-y').pfValue\n      };\n    };\n    var getRsPt = function getRsPt(ele, x, y) {\n      var rs = ele[0]._private.rscratch;\n      return {\n        x: rs[x],\n        y: rs[y]\n      };\n    };\n    var getLabelRotationPoint = function getLabelRotationPoint(ele) {\n      return addTextMargin('', getRsPt(ele, 'labelX', 'labelY'), ele);\n    };\n    var getSourceLabelRotationPoint = function getSourceLabelRotationPoint(ele) {\n      return addTextMargin('source', getRsPt(ele, 'sourceLabelX', 'sourceLabelY'), ele);\n    };\n    var getTargetLabelRotationPoint = function getTargetLabelRotationPoint(ele) {\n      return addTextMargin('target', getRsPt(ele, 'targetLabelX', 'targetLabelY'), ele);\n    };\n    var getElementRotationOffset = function getElementRotationOffset(ele) {\n      return getCenterOffset(getElementBox(ele));\n    };\n    var getSourceLabelRotationOffset = function getSourceLabelRotationOffset(ele) {\n      return getCenterOffset(getSourceLabelBox(ele));\n    };\n    var getTargetLabelRotationOffset = function getTargetLabelRotationOffset(ele) {\n      return getCenterOffset(getTargetLabelBox(ele));\n    };\n    var getLabelRotationOffset = function getLabelRotationOffset(ele) {\n      var bb = getLabelBox(ele);\n      var p = getCenterOffset(getLabelBox(ele));\n      if (ele.isNode()) {\n        switch (ele.pstyle('text-halign').value) {\n          case 'left':\n            p.x = -bb.w;\n            break;\n          case 'right':\n            p.x = 0;\n            break;\n        }\n        switch (ele.pstyle('text-valign').value) {\n          case 'top':\n            p.y = -bb.h;\n            break;\n          case 'bottom':\n            p.y = 0;\n            break;\n        }\n      }\n      return p;\n    };\n    var eleTxrCache = r.data.eleTxrCache = new ElementTextureCache(r, {\n      getKey: getStyleKey,\n      doesEleInvalidateKey: backgroundTimestampHasChanged,\n      drawElement: drawElement,\n      getBoundingBox: getElementBox,\n      getRotationPoint: getElementRotationPoint,\n      getRotationOffset: getElementRotationOffset,\n      allowEdgeTxrCaching: false,\n      allowParentTxrCaching: false\n    });\n    var lblTxrCache = r.data.lblTxrCache = new ElementTextureCache(r, {\n      getKey: getLabelKey,\n      drawElement: drawLabel,\n      getBoundingBox: getLabelBox,\n      getRotationPoint: getLabelRotationPoint,\n      getRotationOffset: getLabelRotationOffset,\n      isVisible: isLabelVisibleAtScale\n    });\n    var slbTxrCache = r.data.slbTxrCache = new ElementTextureCache(r, {\n      getKey: getSourceLabelKey,\n      drawElement: drawSourceLabel,\n      getBoundingBox: getSourceLabelBox,\n      getRotationPoint: getSourceLabelRotationPoint,\n      getRotationOffset: getSourceLabelRotationOffset,\n      isVisible: isLabelVisibleAtScale\n    });\n    var tlbTxrCache = r.data.tlbTxrCache = new ElementTextureCache(r, {\n      getKey: getTargetLabelKey,\n      drawElement: drawTargetLabel,\n      getBoundingBox: getTargetLabelBox,\n      getRotationPoint: getTargetLabelRotationPoint,\n      getRotationOffset: getTargetLabelRotationOffset,\n      isVisible: isLabelVisibleAtScale\n    });\n    var lyrTxrCache = r.data.lyrTxrCache = new LayeredTextureCache(r);\n    r.onUpdateEleCalcs(function invalidateTextureCaches(willDraw, eles) {\n      // each cache should check for sub-key diff to see that the update affects that cache particularly\n      eleTxrCache.invalidateElements(eles);\n      lblTxrCache.invalidateElements(eles);\n      slbTxrCache.invalidateElements(eles);\n      tlbTxrCache.invalidateElements(eles);\n\n      // any change invalidates the layers\n      lyrTxrCache.invalidateElements(eles);\n\n      // update the old bg timestamp so diffs can be done in the ele txr caches\n      for (var _i = 0; _i < eles.length; _i++) {\n        var _p = eles[_i]._private;\n        _p.oldBackgroundTimestamp = _p.backgroundTimestamp;\n      }\n    });\n    var refineInLayers = function refineInLayers(reqs) {\n      for (var i = 0; i < reqs.length; i++) {\n        lyrTxrCache.enqueueElementRefinement(reqs[i].ele);\n      }\n    };\n    eleTxrCache.onDequeue(refineInLayers);\n    lblTxrCache.onDequeue(refineInLayers);\n    slbTxrCache.onDequeue(refineInLayers);\n    tlbTxrCache.onDequeue(refineInLayers);\n  }\n  CRp.redrawHint = function (group, bool) {\n    var r = this;\n    switch (group) {\n      case 'eles':\n        r.data.canvasNeedsRedraw[CRp.NODE] = bool;\n        break;\n      case 'drag':\n        r.data.canvasNeedsRedraw[CRp.DRAG] = bool;\n        break;\n      case 'select':\n        r.data.canvasNeedsRedraw[CRp.SELECT_BOX] = bool;\n        break;\n    }\n  };\n\n  // whether to use Path2D caching for drawing\n  var pathsImpld = typeof Path2D !== 'undefined';\n  CRp.path2dEnabled = function (on) {\n    if (on === undefined) {\n      return this.pathsEnabled;\n    }\n    this.pathsEnabled = on ? true : false;\n  };\n  CRp.usePaths = function () {\n    return pathsImpld && this.pathsEnabled;\n  };\n  CRp.setImgSmoothing = function (context, bool) {\n    if (context.imageSmoothingEnabled != null) {\n      context.imageSmoothingEnabled = bool;\n    } else {\n      context.webkitImageSmoothingEnabled = bool;\n      context.mozImageSmoothingEnabled = bool;\n      context.msImageSmoothingEnabled = bool;\n    }\n  };\n  CRp.getImgSmoothing = function (context) {\n    if (context.imageSmoothingEnabled != null) {\n      return context.imageSmoothingEnabled;\n    } else {\n      return context.webkitImageSmoothingEnabled || context.mozImageSmoothingEnabled || context.msImageSmoothingEnabled;\n    }\n  };\n  CRp.makeOffscreenCanvas = function (width, height) {\n    var canvas;\n    if ((typeof OffscreenCanvas === \"undefined\" ? \"undefined\" : _typeof(OffscreenCanvas)) !== (\"undefined\" )) {\n      canvas = new OffscreenCanvas(width, height);\n    } else {\n      canvas = document.createElement('canvas'); // eslint-disable-line no-undef\n      canvas.width = width;\n      canvas.height = height;\n    }\n    return canvas;\n  };\n  [CRp$a, CRp$9, CRp$8, CRp$7, CRp$6, CRp$5, CRp$4, CRp$3, CRp$2, CRp$1].forEach(function (props) {\n    extend(CRp, props);\n  });\n\n  var renderer = [{\n    name: 'null',\n    impl: NullRenderer\n  }, {\n    name: 'base',\n    impl: BR\n  }, {\n    name: 'canvas',\n    impl: CR\n  }];\n\n  var incExts = [{\n    type: 'layout',\n    extensions: layout\n  }, {\n    type: 'renderer',\n    extensions: renderer\n  }];\n\n  // registered extensions to cytoscape, indexed by name\n  var extensions = {};\n\n  // registered modules for extensions, indexed by name\n  var modules = {};\n  function setExtension(type, name, registrant) {\n    var ext = registrant;\n    var overrideErr = function overrideErr(field) {\n      warn('Can not register `' + name + '` for `' + type + '` since `' + field + '` already exists in the prototype and can not be overridden');\n    };\n    if (type === 'core') {\n      if (Core.prototype[name]) {\n        return overrideErr(name);\n      } else {\n        Core.prototype[name] = registrant;\n      }\n    } else if (type === 'collection') {\n      if (Collection.prototype[name]) {\n        return overrideErr(name);\n      } else {\n        Collection.prototype[name] = registrant;\n      }\n    } else if (type === 'layout') {\n      // fill in missing layout functions in the prototype\n\n      var Layout = function Layout(options) {\n        this.options = options;\n        registrant.call(this, options);\n\n        // make sure layout has _private for use w/ std apis like .on()\n        if (!plainObject(this._private)) {\n          this._private = {};\n        }\n        this._private.cy = options.cy;\n        this._private.listeners = [];\n        this.createEmitter();\n      };\n      var layoutProto = Layout.prototype = Object.create(registrant.prototype);\n      var optLayoutFns = [];\n      for (var i = 0; i < optLayoutFns.length; i++) {\n        var fnName = optLayoutFns[i];\n        layoutProto[fnName] = layoutProto[fnName] || function () {\n          return this;\n        };\n      }\n\n      // either .start() or .run() is defined, so autogen the other\n      if (layoutProto.start && !layoutProto.run) {\n        layoutProto.run = function () {\n          this.start();\n          return this;\n        };\n      } else if (!layoutProto.start && layoutProto.run) {\n        layoutProto.start = function () {\n          this.run();\n          return this;\n        };\n      }\n      var regStop = registrant.prototype.stop;\n      layoutProto.stop = function () {\n        var opts = this.options;\n        if (opts && opts.animate) {\n          var anis = this.animations;\n          if (anis) {\n            for (var _i = 0; _i < anis.length; _i++) {\n              anis[_i].stop();\n            }\n          }\n        }\n        if (regStop) {\n          regStop.call(this);\n        } else {\n          this.emit('layoutstop');\n        }\n        return this;\n      };\n      if (!layoutProto.destroy) {\n        layoutProto.destroy = function () {\n          return this;\n        };\n      }\n      layoutProto.cy = function () {\n        return this._private.cy;\n      };\n      var getCy = function getCy(layout) {\n        return layout._private.cy;\n      };\n      var emitterOpts = {\n        addEventFields: function addEventFields(layout, evt) {\n          evt.layout = layout;\n          evt.cy = getCy(layout);\n          evt.target = layout;\n        },\n        bubble: function bubble() {\n          return true;\n        },\n        parent: function parent(layout) {\n          return getCy(layout);\n        }\n      };\n      extend(layoutProto, {\n        createEmitter: function createEmitter() {\n          this._private.emitter = new Emitter(emitterOpts, this);\n          return this;\n        },\n        emitter: function emitter() {\n          return this._private.emitter;\n        },\n        on: function on(evt, cb) {\n          this.emitter().on(evt, cb);\n          return this;\n        },\n        one: function one(evt, cb) {\n          this.emitter().one(evt, cb);\n          return this;\n        },\n        once: function once(evt, cb) {\n          this.emitter().one(evt, cb);\n          return this;\n        },\n        removeListener: function removeListener(evt, cb) {\n          this.emitter().removeListener(evt, cb);\n          return this;\n        },\n        removeAllListeners: function removeAllListeners() {\n          this.emitter().removeAllListeners();\n          return this;\n        },\n        emit: function emit(evt, params) {\n          this.emitter().emit(evt, params);\n          return this;\n        }\n      });\n      define.eventAliasesOn(layoutProto);\n      ext = Layout; // replace with our wrapped layout\n    } else if (type === 'renderer' && name !== 'null' && name !== 'base') {\n      // user registered renderers inherit from base\n\n      var BaseRenderer = getExtension('renderer', 'base');\n      var bProto = BaseRenderer.prototype;\n      var RegistrantRenderer = registrant;\n      var rProto = registrant.prototype;\n      var Renderer = function Renderer() {\n        BaseRenderer.apply(this, arguments);\n        RegistrantRenderer.apply(this, arguments);\n      };\n      var proto = Renderer.prototype;\n      for (var pName in bProto) {\n        var pVal = bProto[pName];\n        var existsInR = rProto[pName] != null;\n        if (existsInR) {\n          return overrideErr(pName);\n        }\n        proto[pName] = pVal; // take impl from base\n      }\n\n      for (var _pName in rProto) {\n        proto[_pName] = rProto[_pName]; // take impl from registrant\n      }\n\n      bProto.clientFunctions.forEach(function (name) {\n        proto[name] = proto[name] || function () {\n          error('Renderer does not implement `renderer.' + name + '()` on its prototype');\n        };\n      });\n      ext = Renderer;\n    } else if (type === '__proto__' || type === 'constructor' || type === 'prototype') {\n      // to avoid potential prototype pollution\n      return error(type + ' is an illegal type to be registered, possibly lead to prototype pollutions');\n    }\n    return setMap({\n      map: extensions,\n      keys: [type, name],\n      value: ext\n    });\n  }\n  function getExtension(type, name) {\n    return getMap({\n      map: extensions,\n      keys: [type, name]\n    });\n  }\n  function setModule(type, name, moduleType, moduleName, registrant) {\n    return setMap({\n      map: modules,\n      keys: [type, name, moduleType, moduleName],\n      value: registrant\n    });\n  }\n  function getModule(type, name, moduleType, moduleName) {\n    return getMap({\n      map: modules,\n      keys: [type, name, moduleType, moduleName]\n    });\n  }\n  var extension = function extension() {\n    // e.g. extension('renderer', 'svg')\n    if (arguments.length === 2) {\n      return getExtension.apply(null, arguments);\n    }\n\n    // e.g. extension('renderer', 'svg', { ... })\n    else if (arguments.length === 3) {\n      return setExtension.apply(null, arguments);\n    }\n\n    // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse')\n    else if (arguments.length === 4) {\n      return getModule.apply(null, arguments);\n    }\n\n    // e.g. extension('renderer', 'svg', 'nodeShape', 'ellipse', { ... })\n    else if (arguments.length === 5) {\n      return setModule.apply(null, arguments);\n    } else {\n      error('Invalid extension access syntax');\n    }\n  };\n\n  // allows a core instance to access extensions internally\n  Core.prototype.extension = extension;\n\n  // included extensions\n  incExts.forEach(function (group) {\n    group.extensions.forEach(function (ext) {\n      setExtension(group.type, ext.name, ext.impl);\n    });\n  });\n\n  // a dummy stylesheet object that doesn't need a reference to the core\n  // (useful for init)\n  var Stylesheet = function Stylesheet() {\n    if (!(this instanceof Stylesheet)) {\n      return new Stylesheet();\n    }\n    this.length = 0;\n  };\n  var sheetfn = Stylesheet.prototype;\n  sheetfn.instanceString = function () {\n    return 'stylesheet';\n  };\n\n  // just store the selector to be parsed later\n  sheetfn.selector = function (selector) {\n    var i = this.length++;\n    this[i] = {\n      selector: selector,\n      properties: []\n    };\n    return this; // chaining\n  };\n\n  // just store the property to be parsed later\n  sheetfn.css = function (name, value) {\n    var i = this.length - 1;\n    if (string(name)) {\n      this[i].properties.push({\n        name: name,\n        value: value\n      });\n    } else if (plainObject(name)) {\n      var map = name;\n      var propNames = Object.keys(map);\n      for (var j = 0; j < propNames.length; j++) {\n        var key = propNames[j];\n        var mapVal = map[key];\n        if (mapVal == null) {\n          continue;\n        }\n        var prop = Style.properties[key] || Style.properties[dash2camel(key)];\n        if (prop == null) {\n          continue;\n        }\n        var _name = prop.name;\n        var _value = mapVal;\n        this[i].properties.push({\n          name: _name,\n          value: _value\n        });\n      }\n    }\n    return this; // chaining\n  };\n\n  sheetfn.style = sheetfn.css;\n\n  // generate a real style object from the dummy stylesheet\n  sheetfn.generateStyle = function (cy) {\n    var style = new Style(cy);\n    return this.appendToStyle(style);\n  };\n\n  // append a dummy stylesheet object on a real style object\n  sheetfn.appendToStyle = function (style) {\n    for (var i = 0; i < this.length; i++) {\n      var context = this[i];\n      var selector = context.selector;\n      var props = context.properties;\n      style.selector(selector); // apply selector\n\n      for (var j = 0; j < props.length; j++) {\n        var prop = props[j];\n        style.css(prop.name, prop.value); // apply property\n      }\n    }\n\n    return style;\n  };\n\n  var version = \"3.27.0\";\n\n  var cytoscape = function cytoscape(options) {\n    // if no options specified, use default\n    if (options === undefined) {\n      options = {};\n    }\n\n    // create instance\n    if (plainObject(options)) {\n      return new Core(options);\n    }\n\n    // allow for registration of extensions\n    else if (string(options)) {\n      return extension.apply(extension, arguments);\n    }\n  };\n\n  // e.g. cytoscape.use( require('cytoscape-foo'), bar )\n  cytoscape.use = function (ext) {\n    var args = Array.prototype.slice.call(arguments, 1); // args to pass to ext\n\n    args.unshift(cytoscape); // cytoscape is first arg to ext\n\n    ext.apply(null, args);\n    return this;\n  };\n  cytoscape.warnings = function (bool) {\n    return warnings(bool);\n  };\n\n  // replaced by build system\n  cytoscape.version = version;\n\n  // expose public apis (mostly for extensions)\n  cytoscape.stylesheet = cytoscape.Stylesheet = Stylesheet;\n\n  return cytoscape;\n\n}));\n","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"layoutBase\"] = factory();\n\telse\n\t\troot[\"layoutBase\"] = factory();\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 26);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction LayoutConstants() {}\n\n/**\r\n * Layout Quality: 0:draft, 1:default, 2:proof\r\n */\nLayoutConstants.QUALITY = 1;\n\n/**\r\n * Default parameters\r\n */\nLayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED = false;\nLayoutConstants.DEFAULT_INCREMENTAL = false;\nLayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT = true;\nLayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT = false;\nLayoutConstants.DEFAULT_ANIMATION_PERIOD = 50;\nLayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES = false;\n\n// -----------------------------------------------------------------------------\n// Section: General other constants\n// -----------------------------------------------------------------------------\n/*\r\n * Margins of a graph to be applied on bouding rectangle of its contents. We\r\n * assume margins on all four sides to be uniform.\r\n */\nLayoutConstants.DEFAULT_GRAPH_MARGIN = 15;\n\n/*\r\n * Whether to consider labels in node dimensions or not\r\n */\nLayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS = false;\n\n/*\r\n * Default dimension of a non-compound node.\r\n */\nLayoutConstants.SIMPLE_NODE_SIZE = 40;\n\n/*\r\n * Default dimension of a non-compound node.\r\n */\nLayoutConstants.SIMPLE_NODE_HALF_SIZE = LayoutConstants.SIMPLE_NODE_SIZE / 2;\n\n/*\r\n * Empty compound node size. When a compound node is empty, its both\r\n * dimensions should be of this value.\r\n */\nLayoutConstants.EMPTY_COMPOUND_NODE_SIZE = 40;\n\n/*\r\n * Minimum length that an edge should take during layout\r\n */\nLayoutConstants.MIN_EDGE_LENGTH = 1;\n\n/*\r\n * World boundaries that layout operates on\r\n */\nLayoutConstants.WORLD_BOUNDARY = 1000000;\n\n/*\r\n * World boundaries that random positioning can be performed with\r\n */\nLayoutConstants.INITIAL_WORLD_BOUNDARY = LayoutConstants.WORLD_BOUNDARY / 1000;\n\n/*\r\n * Coordinates of the world center\r\n */\nLayoutConstants.WORLD_CENTER_X = 1200;\nLayoutConstants.WORLD_CENTER_Y = 900;\n\nmodule.exports = LayoutConstants;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar IGeometry = __webpack_require__(8);\nvar IMath = __webpack_require__(9);\n\nfunction LEdge(source, target, vEdge) {\n  LGraphObject.call(this, vEdge);\n\n  this.isOverlapingSourceAndTarget = false;\n  this.vGraphObject = vEdge;\n  this.bendpoints = [];\n  this.source = source;\n  this.target = target;\n}\n\nLEdge.prototype = Object.create(LGraphObject.prototype);\n\nfor (var prop in LGraphObject) {\n  LEdge[prop] = LGraphObject[prop];\n}\n\nLEdge.prototype.getSource = function () {\n  return this.source;\n};\n\nLEdge.prototype.getTarget = function () {\n  return this.target;\n};\n\nLEdge.prototype.isInterGraph = function () {\n  return this.isInterGraph;\n};\n\nLEdge.prototype.getLength = function () {\n  return this.length;\n};\n\nLEdge.prototype.isOverlapingSourceAndTarget = function () {\n  return this.isOverlapingSourceAndTarget;\n};\n\nLEdge.prototype.getBendpoints = function () {\n  return this.bendpoints;\n};\n\nLEdge.prototype.getLca = function () {\n  return this.lca;\n};\n\nLEdge.prototype.getSourceInLca = function () {\n  return this.sourceInLca;\n};\n\nLEdge.prototype.getTargetInLca = function () {\n  return this.targetInLca;\n};\n\nLEdge.prototype.getOtherEnd = function (node) {\n  if (this.source === node) {\n    return this.target;\n  } else if (this.target === node) {\n    return this.source;\n  } else {\n    throw \"Node is not incident with this edge\";\n  }\n};\n\nLEdge.prototype.getOtherEndInGraph = function (node, graph) {\n  var otherEnd = this.getOtherEnd(node);\n  var root = graph.getGraphManager().getRoot();\n\n  while (true) {\n    if (otherEnd.getOwner() == graph) {\n      return otherEnd;\n    }\n\n    if (otherEnd.getOwner() == root) {\n      break;\n    }\n\n    otherEnd = otherEnd.getOwner().getParent();\n  }\n\n  return null;\n};\n\nLEdge.prototype.updateLength = function () {\n  var clipPointCoordinates = new Array(4);\n\n  this.isOverlapingSourceAndTarget = IGeometry.getIntersection(this.target.getRect(), this.source.getRect(), clipPointCoordinates);\n\n  if (!this.isOverlapingSourceAndTarget) {\n    this.lengthX = clipPointCoordinates[0] - clipPointCoordinates[2];\n    this.lengthY = clipPointCoordinates[1] - clipPointCoordinates[3];\n\n    if (Math.abs(this.lengthX) < 1.0) {\n      this.lengthX = IMath.sign(this.lengthX);\n    }\n\n    if (Math.abs(this.lengthY) < 1.0) {\n      this.lengthY = IMath.sign(this.lengthY);\n    }\n\n    this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);\n  }\n};\n\nLEdge.prototype.updateLengthSimple = function () {\n  this.lengthX = this.target.getCenterX() - this.source.getCenterX();\n  this.lengthY = this.target.getCenterY() - this.source.getCenterY();\n\n  if (Math.abs(this.lengthX) < 1.0) {\n    this.lengthX = IMath.sign(this.lengthX);\n  }\n\n  if (Math.abs(this.lengthY) < 1.0) {\n    this.lengthY = IMath.sign(this.lengthY);\n  }\n\n  this.length = Math.sqrt(this.lengthX * this.lengthX + this.lengthY * this.lengthY);\n};\n\nmodule.exports = LEdge;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction LGraphObject(vGraphObject) {\n  this.vGraphObject = vGraphObject;\n}\n\nmodule.exports = LGraphObject;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar Integer = __webpack_require__(10);\nvar RectangleD = __webpack_require__(13);\nvar LayoutConstants = __webpack_require__(0);\nvar RandomSeed = __webpack_require__(16);\nvar PointD = __webpack_require__(4);\n\nfunction LNode(gm, loc, size, vNode) {\n  //Alternative constructor 1 : LNode(LGraphManager gm, Point loc, Dimension size, Object vNode)\n  if (size == null && vNode == null) {\n    vNode = loc;\n  }\n\n  LGraphObject.call(this, vNode);\n\n  //Alternative constructor 2 : LNode(Layout layout, Object vNode)\n  if (gm.graphManager != null) gm = gm.graphManager;\n\n  this.estimatedSize = Integer.MIN_VALUE;\n  this.inclusionTreeDepth = Integer.MAX_VALUE;\n  this.vGraphObject = vNode;\n  this.edges = [];\n  this.graphManager = gm;\n\n  if (size != null && loc != null) this.rect = new RectangleD(loc.x, loc.y, size.width, size.height);else this.rect = new RectangleD();\n}\n\nLNode.prototype = Object.create(LGraphObject.prototype);\nfor (var prop in LGraphObject) {\n  LNode[prop] = LGraphObject[prop];\n}\n\nLNode.prototype.getEdges = function () {\n  return this.edges;\n};\n\nLNode.prototype.getChild = function () {\n  return this.child;\n};\n\nLNode.prototype.getOwner = function () {\n  //  if (this.owner != null) {\n  //    if (!(this.owner == null || this.owner.getNodes().indexOf(this) > -1)) {\n  //      throw \"assert failed\";\n  //    }\n  //  }\n\n  return this.owner;\n};\n\nLNode.prototype.getWidth = function () {\n  return this.rect.width;\n};\n\nLNode.prototype.setWidth = function (width) {\n  this.rect.width = width;\n};\n\nLNode.prototype.getHeight = function () {\n  return this.rect.height;\n};\n\nLNode.prototype.setHeight = function (height) {\n  this.rect.height = height;\n};\n\nLNode.prototype.getCenterX = function () {\n  return this.rect.x + this.rect.width / 2;\n};\n\nLNode.prototype.getCenterY = function () {\n  return this.rect.y + this.rect.height / 2;\n};\n\nLNode.prototype.getCenter = function () {\n  return new PointD(this.rect.x + this.rect.width / 2, this.rect.y + this.rect.height / 2);\n};\n\nLNode.prototype.getLocation = function () {\n  return new PointD(this.rect.x, this.rect.y);\n};\n\nLNode.prototype.getRect = function () {\n  return this.rect;\n};\n\nLNode.prototype.getDiagonal = function () {\n  return Math.sqrt(this.rect.width * this.rect.width + this.rect.height * this.rect.height);\n};\n\n/**\n * This method returns half the diagonal length of this node.\n */\nLNode.prototype.getHalfTheDiagonal = function () {\n  return Math.sqrt(this.rect.height * this.rect.height + this.rect.width * this.rect.width) / 2;\n};\n\nLNode.prototype.setRect = function (upperLeft, dimension) {\n  this.rect.x = upperLeft.x;\n  this.rect.y = upperLeft.y;\n  this.rect.width = dimension.width;\n  this.rect.height = dimension.height;\n};\n\nLNode.prototype.setCenter = function (cx, cy) {\n  this.rect.x = cx - this.rect.width / 2;\n  this.rect.y = cy - this.rect.height / 2;\n};\n\nLNode.prototype.setLocation = function (x, y) {\n  this.rect.x = x;\n  this.rect.y = y;\n};\n\nLNode.prototype.moveBy = function (dx, dy) {\n  this.rect.x += dx;\n  this.rect.y += dy;\n};\n\nLNode.prototype.getEdgeListToNode = function (to) {\n  var edgeList = [];\n  var edge;\n  var self = this;\n\n  self.edges.forEach(function (edge) {\n\n    if (edge.target == to) {\n      if (edge.source != self) throw \"Incorrect edge source!\";\n\n      edgeList.push(edge);\n    }\n  });\n\n  return edgeList;\n};\n\nLNode.prototype.getEdgesBetween = function (other) {\n  var edgeList = [];\n  var edge;\n\n  var self = this;\n  self.edges.forEach(function (edge) {\n\n    if (!(edge.source == self || edge.target == self)) throw \"Incorrect edge source and/or target\";\n\n    if (edge.target == other || edge.source == other) {\n      edgeList.push(edge);\n    }\n  });\n\n  return edgeList;\n};\n\nLNode.prototype.getNeighborsList = function () {\n  var neighbors = new Set();\n\n  var self = this;\n  self.edges.forEach(function (edge) {\n\n    if (edge.source == self) {\n      neighbors.add(edge.target);\n    } else {\n      if (edge.target != self) {\n        throw \"Incorrect incidency!\";\n      }\n\n      neighbors.add(edge.source);\n    }\n  });\n\n  return neighbors;\n};\n\nLNode.prototype.withChildren = function () {\n  var withNeighborsList = new Set();\n  var childNode;\n  var children;\n\n  withNeighborsList.add(this);\n\n  if (this.child != null) {\n    var nodes = this.child.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      childNode = nodes[i];\n      children = childNode.withChildren();\n      children.forEach(function (node) {\n        withNeighborsList.add(node);\n      });\n    }\n  }\n\n  return withNeighborsList;\n};\n\nLNode.prototype.getNoOfChildren = function () {\n  var noOfChildren = 0;\n  var childNode;\n\n  if (this.child == null) {\n    noOfChildren = 1;\n  } else {\n    var nodes = this.child.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      childNode = nodes[i];\n\n      noOfChildren += childNode.getNoOfChildren();\n    }\n  }\n\n  if (noOfChildren == 0) {\n    noOfChildren = 1;\n  }\n  return noOfChildren;\n};\n\nLNode.prototype.getEstimatedSize = function () {\n  if (this.estimatedSize == Integer.MIN_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.estimatedSize;\n};\n\nLNode.prototype.calcEstimatedSize = function () {\n  if (this.child == null) {\n    return this.estimatedSize = (this.rect.width + this.rect.height) / 2;\n  } else {\n    this.estimatedSize = this.child.calcEstimatedSize();\n    this.rect.width = this.estimatedSize;\n    this.rect.height = this.estimatedSize;\n\n    return this.estimatedSize;\n  }\n};\n\nLNode.prototype.scatter = function () {\n  var randomCenterX;\n  var randomCenterY;\n\n  var minX = -LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  var maxX = LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  randomCenterX = LayoutConstants.WORLD_CENTER_X + RandomSeed.nextDouble() * (maxX - minX) + minX;\n\n  var minY = -LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  var maxY = LayoutConstants.INITIAL_WORLD_BOUNDARY;\n  randomCenterY = LayoutConstants.WORLD_CENTER_Y + RandomSeed.nextDouble() * (maxY - minY) + minY;\n\n  this.rect.x = randomCenterX;\n  this.rect.y = randomCenterY;\n};\n\nLNode.prototype.updateBounds = function () {\n  if (this.getChild() == null) {\n    throw \"assert failed\";\n  }\n  if (this.getChild().getNodes().length != 0) {\n    // wrap the children nodes by re-arranging the boundaries\n    var childGraph = this.getChild();\n    childGraph.updateBounds(true);\n\n    this.rect.x = childGraph.getLeft();\n    this.rect.y = childGraph.getTop();\n\n    this.setWidth(childGraph.getRight() - childGraph.getLeft());\n    this.setHeight(childGraph.getBottom() - childGraph.getTop());\n\n    // Update compound bounds considering its label properties    \n    if (LayoutConstants.NODE_DIMENSIONS_INCLUDE_LABELS) {\n\n      var width = childGraph.getRight() - childGraph.getLeft();\n      var height = childGraph.getBottom() - childGraph.getTop();\n\n      if (this.labelWidth > width) {\n        this.rect.x -= (this.labelWidth - width) / 2;\n        this.setWidth(this.labelWidth);\n      }\n\n      if (this.labelHeight > height) {\n        if (this.labelPos == \"center\") {\n          this.rect.y -= (this.labelHeight - height) / 2;\n        } else if (this.labelPos == \"top\") {\n          this.rect.y -= this.labelHeight - height;\n        }\n        this.setHeight(this.labelHeight);\n      }\n    }\n  }\n};\n\nLNode.prototype.getInclusionTreeDepth = function () {\n  if (this.inclusionTreeDepth == Integer.MAX_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.inclusionTreeDepth;\n};\n\nLNode.prototype.transform = function (trans) {\n  var left = this.rect.x;\n\n  if (left > LayoutConstants.WORLD_BOUNDARY) {\n    left = LayoutConstants.WORLD_BOUNDARY;\n  } else if (left < -LayoutConstants.WORLD_BOUNDARY) {\n    left = -LayoutConstants.WORLD_BOUNDARY;\n  }\n\n  var top = this.rect.y;\n\n  if (top > LayoutConstants.WORLD_BOUNDARY) {\n    top = LayoutConstants.WORLD_BOUNDARY;\n  } else if (top < -LayoutConstants.WORLD_BOUNDARY) {\n    top = -LayoutConstants.WORLD_BOUNDARY;\n  }\n\n  var leftTop = new PointD(left, top);\n  var vLeftTop = trans.inverseTransformPoint(leftTop);\n\n  this.setLocation(vLeftTop.x, vLeftTop.y);\n};\n\nLNode.prototype.getLeft = function () {\n  return this.rect.x;\n};\n\nLNode.prototype.getRight = function () {\n  return this.rect.x + this.rect.width;\n};\n\nLNode.prototype.getTop = function () {\n  return this.rect.y;\n};\n\nLNode.prototype.getBottom = function () {\n  return this.rect.y + this.rect.height;\n};\n\nLNode.prototype.getParent = function () {\n  if (this.owner == null) {\n    return null;\n  }\n\n  return this.owner.getParent();\n};\n\nmodule.exports = LNode;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction PointD(x, y) {\n  if (x == null && y == null) {\n    this.x = 0;\n    this.y = 0;\n  } else {\n    this.x = x;\n    this.y = y;\n  }\n}\n\nPointD.prototype.getX = function () {\n  return this.x;\n};\n\nPointD.prototype.getY = function () {\n  return this.y;\n};\n\nPointD.prototype.setX = function (x) {\n  this.x = x;\n};\n\nPointD.prototype.setY = function (y) {\n  this.y = y;\n};\n\nPointD.prototype.getDifference = function (pt) {\n  return new DimensionD(this.x - pt.x, this.y - pt.y);\n};\n\nPointD.prototype.getCopy = function () {\n  return new PointD(this.x, this.y);\n};\n\nPointD.prototype.translate = function (dim) {\n  this.x += dim.width;\n  this.y += dim.height;\n  return this;\n};\n\nmodule.exports = PointD;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraphObject = __webpack_require__(2);\nvar Integer = __webpack_require__(10);\nvar LayoutConstants = __webpack_require__(0);\nvar LGraphManager = __webpack_require__(6);\nvar LNode = __webpack_require__(3);\nvar LEdge = __webpack_require__(1);\nvar RectangleD = __webpack_require__(13);\nvar Point = __webpack_require__(12);\nvar LinkedList = __webpack_require__(11);\n\nfunction LGraph(parent, obj2, vGraph) {\n  LGraphObject.call(this, vGraph);\n  this.estimatedSize = Integer.MIN_VALUE;\n  this.margin = LayoutConstants.DEFAULT_GRAPH_MARGIN;\n  this.edges = [];\n  this.nodes = [];\n  this.isConnected = false;\n  this.parent = parent;\n\n  if (obj2 != null && obj2 instanceof LGraphManager) {\n    this.graphManager = obj2;\n  } else if (obj2 != null && obj2 instanceof Layout) {\n    this.graphManager = obj2.graphManager;\n  }\n}\n\nLGraph.prototype = Object.create(LGraphObject.prototype);\nfor (var prop in LGraphObject) {\n  LGraph[prop] = LGraphObject[prop];\n}\n\nLGraph.prototype.getNodes = function () {\n  return this.nodes;\n};\n\nLGraph.prototype.getEdges = function () {\n  return this.edges;\n};\n\nLGraph.prototype.getGraphManager = function () {\n  return this.graphManager;\n};\n\nLGraph.prototype.getParent = function () {\n  return this.parent;\n};\n\nLGraph.prototype.getLeft = function () {\n  return this.left;\n};\n\nLGraph.prototype.getRight = function () {\n  return this.right;\n};\n\nLGraph.prototype.getTop = function () {\n  return this.top;\n};\n\nLGraph.prototype.getBottom = function () {\n  return this.bottom;\n};\n\nLGraph.prototype.isConnected = function () {\n  return this.isConnected;\n};\n\nLGraph.prototype.add = function (obj1, sourceNode, targetNode) {\n  if (sourceNode == null && targetNode == null) {\n    var newNode = obj1;\n    if (this.graphManager == null) {\n      throw \"Graph has no graph mgr!\";\n    }\n    if (this.getNodes().indexOf(newNode) > -1) {\n      throw \"Node already in graph!\";\n    }\n    newNode.owner = this;\n    this.getNodes().push(newNode);\n\n    return newNode;\n  } else {\n    var newEdge = obj1;\n    if (!(this.getNodes().indexOf(sourceNode) > -1 && this.getNodes().indexOf(targetNode) > -1)) {\n      throw \"Source or target not in graph!\";\n    }\n\n    if (!(sourceNode.owner == targetNode.owner && sourceNode.owner == this)) {\n      throw \"Both owners must be this graph!\";\n    }\n\n    if (sourceNode.owner != targetNode.owner) {\n      return null;\n    }\n\n    // set source and target\n    newEdge.source = sourceNode;\n    newEdge.target = targetNode;\n\n    // set as intra-graph edge\n    newEdge.isInterGraph = false;\n\n    // add to graph edge list\n    this.getEdges().push(newEdge);\n\n    // add to incidency lists\n    sourceNode.edges.push(newEdge);\n\n    if (targetNode != sourceNode) {\n      targetNode.edges.push(newEdge);\n    }\n\n    return newEdge;\n  }\n};\n\nLGraph.prototype.remove = function (obj) {\n  var node = obj;\n  if (obj instanceof LNode) {\n    if (node == null) {\n      throw \"Node is null!\";\n    }\n    if (!(node.owner != null && node.owner == this)) {\n      throw \"Owner graph is invalid!\";\n    }\n    if (this.graphManager == null) {\n      throw \"Owner graph manager is invalid!\";\n    }\n    // remove incident edges first (make a copy to do it safely)\n    var edgesToBeRemoved = node.edges.slice();\n    var edge;\n    var s = edgesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      edge = edgesToBeRemoved[i];\n\n      if (edge.isInterGraph) {\n        this.graphManager.remove(edge);\n      } else {\n        edge.source.owner.remove(edge);\n      }\n    }\n\n    // now the node itself\n    var index = this.nodes.indexOf(node);\n    if (index == -1) {\n      throw \"Node not in owner node list!\";\n    }\n\n    this.nodes.splice(index, 1);\n  } else if (obj instanceof LEdge) {\n    var edge = obj;\n    if (edge == null) {\n      throw \"Edge is null!\";\n    }\n    if (!(edge.source != null && edge.target != null)) {\n      throw \"Source and/or target is null!\";\n    }\n    if (!(edge.source.owner != null && edge.target.owner != null && edge.source.owner == this && edge.target.owner == this)) {\n      throw \"Source and/or target owner is invalid!\";\n    }\n\n    var sourceIndex = edge.source.edges.indexOf(edge);\n    var targetIndex = edge.target.edges.indexOf(edge);\n    if (!(sourceIndex > -1 && targetIndex > -1)) {\n      throw \"Source and/or target doesn't know this edge!\";\n    }\n\n    edge.source.edges.splice(sourceIndex, 1);\n\n    if (edge.target != edge.source) {\n      edge.target.edges.splice(targetIndex, 1);\n    }\n\n    var index = edge.source.owner.getEdges().indexOf(edge);\n    if (index == -1) {\n      throw \"Not in owner's edge list!\";\n    }\n\n    edge.source.owner.getEdges().splice(index, 1);\n  }\n};\n\nLGraph.prototype.updateLeftTop = function () {\n  var top = Integer.MAX_VALUE;\n  var left = Integer.MAX_VALUE;\n  var nodeTop;\n  var nodeLeft;\n  var margin;\n\n  var nodes = this.getNodes();\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    nodeTop = lNode.getTop();\n    nodeLeft = lNode.getLeft();\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n  }\n\n  // Do we have any nodes in this graph?\n  if (top == Integer.MAX_VALUE) {\n    return null;\n  }\n\n  if (nodes[0].getParent().paddingLeft != undefined) {\n    margin = nodes[0].getParent().paddingLeft;\n  } else {\n    margin = this.margin;\n  }\n\n  this.left = left - margin;\n  this.top = top - margin;\n\n  // Apply the margins and return the result\n  return new Point(this.left, this.top);\n};\n\nLGraph.prototype.updateBounds = function (recursive) {\n  // calculate bounds\n  var left = Integer.MAX_VALUE;\n  var right = -Integer.MAX_VALUE;\n  var top = Integer.MAX_VALUE;\n  var bottom = -Integer.MAX_VALUE;\n  var nodeLeft;\n  var nodeRight;\n  var nodeTop;\n  var nodeBottom;\n  var margin;\n\n  var nodes = this.nodes;\n  var s = nodes.length;\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n\n    if (recursive && lNode.child != null) {\n      lNode.updateBounds();\n    }\n    nodeLeft = lNode.getLeft();\n    nodeRight = lNode.getRight();\n    nodeTop = lNode.getTop();\n    nodeBottom = lNode.getBottom();\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n\n    if (right < nodeRight) {\n      right = nodeRight;\n    }\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (bottom < nodeBottom) {\n      bottom = nodeBottom;\n    }\n  }\n\n  var boundingRect = new RectangleD(left, top, right - left, bottom - top);\n  if (left == Integer.MAX_VALUE) {\n    this.left = this.parent.getLeft();\n    this.right = this.parent.getRight();\n    this.top = this.parent.getTop();\n    this.bottom = this.parent.getBottom();\n  }\n\n  if (nodes[0].getParent().paddingLeft != undefined) {\n    margin = nodes[0].getParent().paddingLeft;\n  } else {\n    margin = this.margin;\n  }\n\n  this.left = boundingRect.x - margin;\n  this.right = boundingRect.x + boundingRect.width + margin;\n  this.top = boundingRect.y - margin;\n  this.bottom = boundingRect.y + boundingRect.height + margin;\n};\n\nLGraph.calculateBounds = function (nodes) {\n  var left = Integer.MAX_VALUE;\n  var right = -Integer.MAX_VALUE;\n  var top = Integer.MAX_VALUE;\n  var bottom = -Integer.MAX_VALUE;\n  var nodeLeft;\n  var nodeRight;\n  var nodeTop;\n  var nodeBottom;\n\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    nodeLeft = lNode.getLeft();\n    nodeRight = lNode.getRight();\n    nodeTop = lNode.getTop();\n    nodeBottom = lNode.getBottom();\n\n    if (left > nodeLeft) {\n      left = nodeLeft;\n    }\n\n    if (right < nodeRight) {\n      right = nodeRight;\n    }\n\n    if (top > nodeTop) {\n      top = nodeTop;\n    }\n\n    if (bottom < nodeBottom) {\n      bottom = nodeBottom;\n    }\n  }\n\n  var boundingRect = new RectangleD(left, top, right - left, bottom - top);\n\n  return boundingRect;\n};\n\nLGraph.prototype.getInclusionTreeDepth = function () {\n  if (this == this.graphManager.getRoot()) {\n    return 1;\n  } else {\n    return this.parent.getInclusionTreeDepth();\n  }\n};\n\nLGraph.prototype.getEstimatedSize = function () {\n  if (this.estimatedSize == Integer.MIN_VALUE) {\n    throw \"assert failed\";\n  }\n  return this.estimatedSize;\n};\n\nLGraph.prototype.calcEstimatedSize = function () {\n  var size = 0;\n  var nodes = this.nodes;\n  var s = nodes.length;\n\n  for (var i = 0; i < s; i++) {\n    var lNode = nodes[i];\n    size += lNode.calcEstimatedSize();\n  }\n\n  if (size == 0) {\n    this.estimatedSize = LayoutConstants.EMPTY_COMPOUND_NODE_SIZE;\n  } else {\n    this.estimatedSize = size / Math.sqrt(this.nodes.length);\n  }\n\n  return this.estimatedSize;\n};\n\nLGraph.prototype.updateConnected = function () {\n  var self = this;\n  if (this.nodes.length == 0) {\n    this.isConnected = true;\n    return;\n  }\n\n  var queue = new LinkedList();\n  var visited = new Set();\n  var currentNode = this.nodes[0];\n  var neighborEdges;\n  var currentNeighbor;\n  var childrenOfNode = currentNode.withChildren();\n  childrenOfNode.forEach(function (node) {\n    queue.push(node);\n    visited.add(node);\n  });\n\n  while (queue.length !== 0) {\n    currentNode = queue.shift();\n\n    // Traverse all neighbors of this node\n    neighborEdges = currentNode.getEdges();\n    var size = neighborEdges.length;\n    for (var i = 0; i < size; i++) {\n      var neighborEdge = neighborEdges[i];\n      currentNeighbor = neighborEdge.getOtherEndInGraph(currentNode, this);\n\n      // Add unvisited neighbors to the list to visit\n      if (currentNeighbor != null && !visited.has(currentNeighbor)) {\n        var childrenOfNeighbor = currentNeighbor.withChildren();\n\n        childrenOfNeighbor.forEach(function (node) {\n          queue.push(node);\n          visited.add(node);\n        });\n      }\n    }\n  }\n\n  this.isConnected = false;\n\n  if (visited.size >= this.nodes.length) {\n    var noOfVisitedInThisGraph = 0;\n\n    visited.forEach(function (visitedNode) {\n      if (visitedNode.owner == self) {\n        noOfVisitedInThisGraph++;\n      }\n    });\n\n    if (noOfVisitedInThisGraph == this.nodes.length) {\n      this.isConnected = true;\n    }\n  }\n};\n\nmodule.exports = LGraph;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LGraph;\nvar LEdge = __webpack_require__(1);\n\nfunction LGraphManager(layout) {\n  LGraph = __webpack_require__(5); // It may be better to initilize this out of this function but it gives an error (Right-hand side of 'instanceof' is not callable) now.\n  this.layout = layout;\n\n  this.graphs = [];\n  this.edges = [];\n}\n\nLGraphManager.prototype.addRoot = function () {\n  var ngraph = this.layout.newGraph();\n  var nnode = this.layout.newNode(null);\n  var root = this.add(ngraph, nnode);\n  this.setRootGraph(root);\n  return this.rootGraph;\n};\n\nLGraphManager.prototype.add = function (newGraph, parentNode, newEdge, sourceNode, targetNode) {\n  //there are just 2 parameters are passed then it adds an LGraph else it adds an LEdge\n  if (newEdge == null && sourceNode == null && targetNode == null) {\n    if (newGraph == null) {\n      throw \"Graph is null!\";\n    }\n    if (parentNode == null) {\n      throw \"Parent node is null!\";\n    }\n    if (this.graphs.indexOf(newGraph) > -1) {\n      throw \"Graph already in this graph mgr!\";\n    }\n\n    this.graphs.push(newGraph);\n\n    if (newGraph.parent != null) {\n      throw \"Already has a parent!\";\n    }\n    if (parentNode.child != null) {\n      throw \"Already has a child!\";\n    }\n\n    newGraph.parent = parentNode;\n    parentNode.child = newGraph;\n\n    return newGraph;\n  } else {\n    //change the order of the parameters\n    targetNode = newEdge;\n    sourceNode = parentNode;\n    newEdge = newGraph;\n    var sourceGraph = sourceNode.getOwner();\n    var targetGraph = targetNode.getOwner();\n\n    if (!(sourceGraph != null && sourceGraph.getGraphManager() == this)) {\n      throw \"Source not in this graph mgr!\";\n    }\n    if (!(targetGraph != null && targetGraph.getGraphManager() == this)) {\n      throw \"Target not in this graph mgr!\";\n    }\n\n    if (sourceGraph == targetGraph) {\n      newEdge.isInterGraph = false;\n      return sourceGraph.add(newEdge, sourceNode, targetNode);\n    } else {\n      newEdge.isInterGraph = true;\n\n      // set source and target\n      newEdge.source = sourceNode;\n      newEdge.target = targetNode;\n\n      // add edge to inter-graph edge list\n      if (this.edges.indexOf(newEdge) > -1) {\n        throw \"Edge already in inter-graph edge list!\";\n      }\n\n      this.edges.push(newEdge);\n\n      // add edge to source and target incidency lists\n      if (!(newEdge.source != null && newEdge.target != null)) {\n        throw \"Edge source and/or target is null!\";\n      }\n\n      if (!(newEdge.source.edges.indexOf(newEdge) == -1 && newEdge.target.edges.indexOf(newEdge) == -1)) {\n        throw \"Edge already in source and/or target incidency list!\";\n      }\n\n      newEdge.source.edges.push(newEdge);\n      newEdge.target.edges.push(newEdge);\n\n      return newEdge;\n    }\n  }\n};\n\nLGraphManager.prototype.remove = function (lObj) {\n  if (lObj instanceof LGraph) {\n    var graph = lObj;\n    if (graph.getGraphManager() != this) {\n      throw \"Graph not in this graph mgr\";\n    }\n    if (!(graph == this.rootGraph || graph.parent != null && graph.parent.graphManager == this)) {\n      throw \"Invalid parent node!\";\n    }\n\n    // first the edges (make a copy to do it safely)\n    var edgesToBeRemoved = [];\n\n    edgesToBeRemoved = edgesToBeRemoved.concat(graph.getEdges());\n\n    var edge;\n    var s = edgesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      edge = edgesToBeRemoved[i];\n      graph.remove(edge);\n    }\n\n    // then the nodes (make a copy to do it safely)\n    var nodesToBeRemoved = [];\n\n    nodesToBeRemoved = nodesToBeRemoved.concat(graph.getNodes());\n\n    var node;\n    s = nodesToBeRemoved.length;\n    for (var i = 0; i < s; i++) {\n      node = nodesToBeRemoved[i];\n      graph.remove(node);\n    }\n\n    // check if graph is the root\n    if (graph == this.rootGraph) {\n      this.setRootGraph(null);\n    }\n\n    // now remove the graph itself\n    var index = this.graphs.indexOf(graph);\n    this.graphs.splice(index, 1);\n\n    // also reset the parent of the graph\n    graph.parent = null;\n  } else if (lObj instanceof LEdge) {\n    edge = lObj;\n    if (edge == null) {\n      throw \"Edge is null!\";\n    }\n    if (!edge.isInterGraph) {\n      throw \"Not an inter-graph edge!\";\n    }\n    if (!(edge.source != null && edge.target != null)) {\n      throw \"Source and/or target is null!\";\n    }\n\n    // remove edge from source and target nodes' incidency lists\n\n    if (!(edge.source.edges.indexOf(edge) != -1 && edge.target.edges.indexOf(edge) != -1)) {\n      throw \"Source and/or target doesn't know this edge!\";\n    }\n\n    var index = edge.source.edges.indexOf(edge);\n    edge.source.edges.splice(index, 1);\n    index = edge.target.edges.indexOf(edge);\n    edge.target.edges.splice(index, 1);\n\n    // remove edge from owner graph manager's inter-graph edge list\n\n    if (!(edge.source.owner != null && edge.source.owner.getGraphManager() != null)) {\n      throw \"Edge owner graph or owner graph manager is null!\";\n    }\n    if (edge.source.owner.getGraphManager().edges.indexOf(edge) == -1) {\n      throw \"Not in owner graph manager's edge list!\";\n    }\n\n    var index = edge.source.owner.getGraphManager().edges.indexOf(edge);\n    edge.source.owner.getGraphManager().edges.splice(index, 1);\n  }\n};\n\nLGraphManager.prototype.updateBounds = function () {\n  this.rootGraph.updateBounds(true);\n};\n\nLGraphManager.prototype.getGraphs = function () {\n  return this.graphs;\n};\n\nLGraphManager.prototype.getAllNodes = function () {\n  if (this.allNodes == null) {\n    var nodeList = [];\n    var graphs = this.getGraphs();\n    var s = graphs.length;\n    for (var i = 0; i < s; i++) {\n      nodeList = nodeList.concat(graphs[i].getNodes());\n    }\n    this.allNodes = nodeList;\n  }\n  return this.allNodes;\n};\n\nLGraphManager.prototype.resetAllNodes = function () {\n  this.allNodes = null;\n};\n\nLGraphManager.prototype.resetAllEdges = function () {\n  this.allEdges = null;\n};\n\nLGraphManager.prototype.resetAllNodesToApplyGravitation = function () {\n  this.allNodesToApplyGravitation = null;\n};\n\nLGraphManager.prototype.getAllEdges = function () {\n  if (this.allEdges == null) {\n    var edgeList = [];\n    var graphs = this.getGraphs();\n    var s = graphs.length;\n    for (var i = 0; i < graphs.length; i++) {\n      edgeList = edgeList.concat(graphs[i].getEdges());\n    }\n\n    edgeList = edgeList.concat(this.edges);\n\n    this.allEdges = edgeList;\n  }\n  return this.allEdges;\n};\n\nLGraphManager.prototype.getAllNodesToApplyGravitation = function () {\n  return this.allNodesToApplyGravitation;\n};\n\nLGraphManager.prototype.setAllNodesToApplyGravitation = function (nodeList) {\n  if (this.allNodesToApplyGravitation != null) {\n    throw \"assert failed\";\n  }\n\n  this.allNodesToApplyGravitation = nodeList;\n};\n\nLGraphManager.prototype.getRoot = function () {\n  return this.rootGraph;\n};\n\nLGraphManager.prototype.setRootGraph = function (graph) {\n  if (graph.getGraphManager() != this) {\n    throw \"Root not in this graph mgr!\";\n  }\n\n  this.rootGraph = graph;\n  // root graph must have a root node associated with it for convenience\n  if (graph.parent == null) {\n    graph.parent = this.layout.newNode(\"Root node\");\n  }\n};\n\nLGraphManager.prototype.getLayout = function () {\n  return this.layout;\n};\n\nLGraphManager.prototype.isOneAncestorOfOther = function (firstNode, secondNode) {\n  if (!(firstNode != null && secondNode != null)) {\n    throw \"assert failed\";\n  }\n\n  if (firstNode == secondNode) {\n    return true;\n  }\n  // Is second node an ancestor of the first one?\n  var ownerGraph = firstNode.getOwner();\n  var parentNode;\n\n  do {\n    parentNode = ownerGraph.getParent();\n\n    if (parentNode == null) {\n      break;\n    }\n\n    if (parentNode == secondNode) {\n      return true;\n    }\n\n    ownerGraph = parentNode.getOwner();\n    if (ownerGraph == null) {\n      break;\n    }\n  } while (true);\n  // Is first node an ancestor of the second one?\n  ownerGraph = secondNode.getOwner();\n\n  do {\n    parentNode = ownerGraph.getParent();\n\n    if (parentNode == null) {\n      break;\n    }\n\n    if (parentNode == firstNode) {\n      return true;\n    }\n\n    ownerGraph = parentNode.getOwner();\n    if (ownerGraph == null) {\n      break;\n    }\n  } while (true);\n\n  return false;\n};\n\nLGraphManager.prototype.calcLowestCommonAncestors = function () {\n  var edge;\n  var sourceNode;\n  var targetNode;\n  var sourceAncestorGraph;\n  var targetAncestorGraph;\n\n  var edges = this.getAllEdges();\n  var s = edges.length;\n  for (var i = 0; i < s; i++) {\n    edge = edges[i];\n\n    sourceNode = edge.source;\n    targetNode = edge.target;\n    edge.lca = null;\n    edge.sourceInLca = sourceNode;\n    edge.targetInLca = targetNode;\n\n    if (sourceNode == targetNode) {\n      edge.lca = sourceNode.getOwner();\n      continue;\n    }\n\n    sourceAncestorGraph = sourceNode.getOwner();\n\n    while (edge.lca == null) {\n      edge.targetInLca = targetNode;\n      targetAncestorGraph = targetNode.getOwner();\n\n      while (edge.lca == null) {\n        if (targetAncestorGraph == sourceAncestorGraph) {\n          edge.lca = targetAncestorGraph;\n          break;\n        }\n\n        if (targetAncestorGraph == this.rootGraph) {\n          break;\n        }\n\n        if (edge.lca != null) {\n          throw \"assert failed\";\n        }\n        edge.targetInLca = targetAncestorGraph.getParent();\n        targetAncestorGraph = edge.targetInLca.getOwner();\n      }\n\n      if (sourceAncestorGraph == this.rootGraph) {\n        break;\n      }\n\n      if (edge.lca == null) {\n        edge.sourceInLca = sourceAncestorGraph.getParent();\n        sourceAncestorGraph = edge.sourceInLca.getOwner();\n      }\n    }\n\n    if (edge.lca == null) {\n      throw \"assert failed\";\n    }\n  }\n};\n\nLGraphManager.prototype.calcLowestCommonAncestor = function (firstNode, secondNode) {\n  if (firstNode == secondNode) {\n    return firstNode.getOwner();\n  }\n  var firstOwnerGraph = firstNode.getOwner();\n\n  do {\n    if (firstOwnerGraph == null) {\n      break;\n    }\n    var secondOwnerGraph = secondNode.getOwner();\n\n    do {\n      if (secondOwnerGraph == null) {\n        break;\n      }\n\n      if (secondOwnerGraph == firstOwnerGraph) {\n        return secondOwnerGraph;\n      }\n      secondOwnerGraph = secondOwnerGraph.getParent().getOwner();\n    } while (true);\n\n    firstOwnerGraph = firstOwnerGraph.getParent().getOwner();\n  } while (true);\n\n  return firstOwnerGraph;\n};\n\nLGraphManager.prototype.calcInclusionTreeDepths = function (graph, depth) {\n  if (graph == null && depth == null) {\n    graph = this.rootGraph;\n    depth = 1;\n  }\n  var node;\n\n  var nodes = graph.getNodes();\n  var s = nodes.length;\n  for (var i = 0; i < s; i++) {\n    node = nodes[i];\n    node.inclusionTreeDepth = depth;\n\n    if (node.child != null) {\n      this.calcInclusionTreeDepths(node.child, depth + 1);\n    }\n  }\n};\n\nLGraphManager.prototype.includesInvalidEdge = function () {\n  var edge;\n\n  var s = this.edges.length;\n  for (var i = 0; i < s; i++) {\n    edge = this.edges[i];\n\n    if (this.isOneAncestorOfOther(edge.source, edge.target)) {\n      return true;\n    }\n  }\n  return false;\n};\n\nmodule.exports = LGraphManager;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LayoutConstants = __webpack_require__(0);\n\nfunction FDLayoutConstants() {}\n\n//FDLayoutConstants inherits static props in LayoutConstants\nfor (var prop in LayoutConstants) {\n  FDLayoutConstants[prop] = LayoutConstants[prop];\n}\n\nFDLayoutConstants.MAX_ITERATIONS = 2500;\n\nFDLayoutConstants.DEFAULT_EDGE_LENGTH = 50;\nFDLayoutConstants.DEFAULT_SPRING_STRENGTH = 0.45;\nFDLayoutConstants.DEFAULT_REPULSION_STRENGTH = 4500.0;\nFDLayoutConstants.DEFAULT_GRAVITY_STRENGTH = 0.4;\nFDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH = 1.0;\nFDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR = 3.8;\nFDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR = 1.5;\nFDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION = true;\nFDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION = true;\nFDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL = 0.3;\nFDLayoutConstants.COOLING_ADAPTATION_FACTOR = 0.33;\nFDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT = 1000;\nFDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT = 5000;\nFDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL = 100.0;\nFDLayoutConstants.MAX_NODE_DISPLACEMENT = FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL * 3;\nFDLayoutConstants.MIN_REPULSION_DIST = FDLayoutConstants.DEFAULT_EDGE_LENGTH / 10.0;\nFDLayoutConstants.CONVERGENCE_CHECK_PERIOD = 100;\nFDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR = 0.1;\nFDLayoutConstants.MIN_EDGE_LENGTH = 1;\nFDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD = 10;\n\nmodule.exports = FDLayoutConstants;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/**\n * This class maintains a list of static geometry related utility methods.\n *\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar Point = __webpack_require__(12);\n\nfunction IGeometry() {}\n\n/**\n * This method calculates *half* the amount in x and y directions of the two\n * input rectangles needed to separate them keeping their respective\n * positioning, and returns the result in the input array. An input\n * separation buffer added to the amount in both directions. We assume that\n * the two rectangles do intersect.\n */\nIGeometry.calcSeparationAmount = function (rectA, rectB, overlapAmount, separationBuffer) {\n  if (!rectA.intersects(rectB)) {\n    throw \"assert failed\";\n  }\n\n  var directions = new Array(2);\n\n  this.decideDirectionsForOverlappingNodes(rectA, rectB, directions);\n\n  overlapAmount[0] = Math.min(rectA.getRight(), rectB.getRight()) - Math.max(rectA.x, rectB.x);\n  overlapAmount[1] = Math.min(rectA.getBottom(), rectB.getBottom()) - Math.max(rectA.y, rectB.y);\n\n  // update the overlapping amounts for the following cases:\n  if (rectA.getX() <= rectB.getX() && rectA.getRight() >= rectB.getRight()) {\n    /* Case x.1:\n    *\n    * rectA\n    * \t|                       |\n    * \t|        _________      |\n    * \t|        |       |      |\n    * \t|________|_______|______|\n    * \t\t\t |       |\n    *           |       |\n    *        rectB\n    */\n    overlapAmount[0] += Math.min(rectB.getX() - rectA.getX(), rectA.getRight() - rectB.getRight());\n  } else if (rectB.getX() <= rectA.getX() && rectB.getRight() >= rectA.getRight()) {\n    /* Case x.2:\n    *\n    * rectB\n    * \t|                       |\n    * \t|        _________      |\n    * \t|        |       |      |\n    * \t|________|_______|______|\n    * \t\t\t |       |\n    *           |       |\n    *        rectA\n    */\n    overlapAmount[0] += Math.min(rectA.getX() - rectB.getX(), rectB.getRight() - rectA.getRight());\n  }\n  if (rectA.getY() <= rectB.getY() && rectA.getBottom() >= rectB.getBottom()) {\n    /* Case y.1:\n     *          ________ rectA\n     *         |\n     *         |\n     *   ______|____  rectB\n     *         |    |\n     *         |    |\n     *   ______|____|\n     *         |\n     *         |\n     *         |________\n     *\n     */\n    overlapAmount[1] += Math.min(rectB.getY() - rectA.getY(), rectA.getBottom() - rectB.getBottom());\n  } else if (rectB.getY() <= rectA.getY() && rectB.getBottom() >= rectA.getBottom()) {\n    /* Case y.2:\n    *          ________ rectB\n    *         |\n    *         |\n    *   ______|____  rectA\n    *         |    |\n    *         |    |\n    *   ______|____|\n    *         |\n    *         |\n    *         |________\n    *\n    */\n    overlapAmount[1] += Math.min(rectA.getY() - rectB.getY(), rectB.getBottom() - rectA.getBottom());\n  }\n\n  // find slope of the line passes two centers\n  var slope = Math.abs((rectB.getCenterY() - rectA.getCenterY()) / (rectB.getCenterX() - rectA.getCenterX()));\n  // if centers are overlapped\n  if (rectB.getCenterY() === rectA.getCenterY() && rectB.getCenterX() === rectA.getCenterX()) {\n    // assume the slope is 1 (45 degree)\n    slope = 1.0;\n  }\n\n  var moveByY = slope * overlapAmount[0];\n  var moveByX = overlapAmount[1] / slope;\n  if (overlapAmount[0] < moveByX) {\n    moveByX = overlapAmount[0];\n  } else {\n    moveByY = overlapAmount[1];\n  }\n  // return half the amount so that if each rectangle is moved by these\n  // amounts in opposite directions, overlap will be resolved\n  overlapAmount[0] = -1 * directions[0] * (moveByX / 2 + separationBuffer);\n  overlapAmount[1] = -1 * directions[1] * (moveByY / 2 + separationBuffer);\n};\n\n/**\n * This method decides the separation direction of overlapping nodes\n *\n * if directions[0] = -1, then rectA goes left\n * if directions[0] = 1,  then rectA goes right\n * if directions[1] = -1, then rectA goes up\n * if directions[1] = 1,  then rectA goes down\n */\nIGeometry.decideDirectionsForOverlappingNodes = function (rectA, rectB, directions) {\n  if (rectA.getCenterX() < rectB.getCenterX()) {\n    directions[0] = -1;\n  } else {\n    directions[0] = 1;\n  }\n\n  if (rectA.getCenterY() < rectB.getCenterY()) {\n    directions[1] = -1;\n  } else {\n    directions[1] = 1;\n  }\n};\n\n/**\n * This method calculates the intersection (clipping) points of the two\n * input rectangles with line segment defined by the centers of these two\n * rectangles. The clipping points are saved in the input double array and\n * whether or not the two rectangles overlap is returned.\n */\nIGeometry.getIntersection2 = function (rectA, rectB, result) {\n  //result[0-1] will contain clipPoint of rectA, result[2-3] will contain clipPoint of rectB\n  var p1x = rectA.getCenterX();\n  var p1y = rectA.getCenterY();\n  var p2x = rectB.getCenterX();\n  var p2y = rectB.getCenterY();\n\n  //if two rectangles intersect, then clipping points are centers\n  if (rectA.intersects(rectB)) {\n    result[0] = p1x;\n    result[1] = p1y;\n    result[2] = p2x;\n    result[3] = p2y;\n    return true;\n  }\n  //variables for rectA\n  var topLeftAx = rectA.getX();\n  var topLeftAy = rectA.getY();\n  var topRightAx = rectA.getRight();\n  var bottomLeftAx = rectA.getX();\n  var bottomLeftAy = rectA.getBottom();\n  var bottomRightAx = rectA.getRight();\n  var halfWidthA = rectA.getWidthHalf();\n  var halfHeightA = rectA.getHeightHalf();\n  //variables for rectB\n  var topLeftBx = rectB.getX();\n  var topLeftBy = rectB.getY();\n  var topRightBx = rectB.getRight();\n  var bottomLeftBx = rectB.getX();\n  var bottomLeftBy = rectB.getBottom();\n  var bottomRightBx = rectB.getRight();\n  var halfWidthB = rectB.getWidthHalf();\n  var halfHeightB = rectB.getHeightHalf();\n\n  //flag whether clipping points are found\n  var clipPointAFound = false;\n  var clipPointBFound = false;\n\n  // line is vertical\n  if (p1x === p2x) {\n    if (p1y > p2y) {\n      result[0] = p1x;\n      result[1] = topLeftAy;\n      result[2] = p2x;\n      result[3] = bottomLeftBy;\n      return false;\n    } else if (p1y < p2y) {\n      result[0] = p1x;\n      result[1] = bottomLeftAy;\n      result[2] = p2x;\n      result[3] = topLeftBy;\n      return false;\n    } else {\n      //not line, return null;\n    }\n  }\n  // line is horizontal\n  else if (p1y === p2y) {\n      if (p1x > p2x) {\n        result[0] = topLeftAx;\n        result[1] = p1y;\n        result[2] = topRightBx;\n        result[3] = p2y;\n        return false;\n      } else if (p1x < p2x) {\n        result[0] = topRightAx;\n        result[1] = p1y;\n        result[2] = topLeftBx;\n        result[3] = p2y;\n        return false;\n      } else {\n        //not valid line, return null;\n      }\n    } else {\n      //slopes of rectA's and rectB's diagonals\n      var slopeA = rectA.height / rectA.width;\n      var slopeB = rectB.height / rectB.width;\n\n      //slope of line between center of rectA and center of rectB\n      var slopePrime = (p2y - p1y) / (p2x - p1x);\n      var cardinalDirectionA = void 0;\n      var cardinalDirectionB = void 0;\n      var tempPointAx = void 0;\n      var tempPointAy = void 0;\n      var tempPointBx = void 0;\n      var tempPointBy = void 0;\n\n      //determine whether clipping point is the corner of nodeA\n      if (-slopeA === slopePrime) {\n        if (p1x > p2x) {\n          result[0] = bottomLeftAx;\n          result[1] = bottomLeftAy;\n          clipPointAFound = true;\n        } else {\n          result[0] = topRightAx;\n          result[1] = topLeftAy;\n          clipPointAFound = true;\n        }\n      } else if (slopeA === slopePrime) {\n        if (p1x > p2x) {\n          result[0] = topLeftAx;\n          result[1] = topLeftAy;\n          clipPointAFound = true;\n        } else {\n          result[0] = bottomRightAx;\n          result[1] = bottomLeftAy;\n          clipPointAFound = true;\n        }\n      }\n\n      //determine whether clipping point is the corner of nodeB\n      if (-slopeB === slopePrime) {\n        if (p2x > p1x) {\n          result[2] = bottomLeftBx;\n          result[3] = bottomLeftBy;\n          clipPointBFound = true;\n        } else {\n          result[2] = topRightBx;\n          result[3] = topLeftBy;\n          clipPointBFound = true;\n        }\n      } else if (slopeB === slopePrime) {\n        if (p2x > p1x) {\n          result[2] = topLeftBx;\n          result[3] = topLeftBy;\n          clipPointBFound = true;\n        } else {\n          result[2] = bottomRightBx;\n          result[3] = bottomLeftBy;\n          clipPointBFound = true;\n        }\n      }\n\n      //if both clipping points are corners\n      if (clipPointAFound && clipPointBFound) {\n        return false;\n      }\n\n      //determine Cardinal Direction of rectangles\n      if (p1x > p2x) {\n        if (p1y > p2y) {\n          cardinalDirectionA = this.getCardinalDirection(slopeA, slopePrime, 4);\n          cardinalDirectionB = this.getCardinalDirection(slopeB, slopePrime, 2);\n        } else {\n          cardinalDirectionA = this.getCardinalDirection(-slopeA, slopePrime, 3);\n          cardinalDirectionB = this.getCardinalDirection(-slopeB, slopePrime, 1);\n        }\n      } else {\n        if (p1y > p2y) {\n          cardinalDirectionA = this.getCardinalDirection(-slopeA, slopePrime, 1);\n          cardinalDirectionB = this.getCardinalDirection(-slopeB, slopePrime, 3);\n        } else {\n          cardinalDirectionA = this.getCardinalDirection(slopeA, slopePrime, 2);\n          cardinalDirectionB = this.getCardinalDirection(slopeB, slopePrime, 4);\n        }\n      }\n      //calculate clipping Point if it is not found before\n      if (!clipPointAFound) {\n        switch (cardinalDirectionA) {\n          case 1:\n            tempPointAy = topLeftAy;\n            tempPointAx = p1x + -halfHeightA / slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 2:\n            tempPointAx = bottomRightAx;\n            tempPointAy = p1y + halfWidthA * slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 3:\n            tempPointAy = bottomLeftAy;\n            tempPointAx = p1x + halfHeightA / slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n          case 4:\n            tempPointAx = bottomLeftAx;\n            tempPointAy = p1y + -halfWidthA * slopePrime;\n            result[0] = tempPointAx;\n            result[1] = tempPointAy;\n            break;\n        }\n      }\n      if (!clipPointBFound) {\n        switch (cardinalDirectionB) {\n          case 1:\n            tempPointBy = topLeftBy;\n            tempPointBx = p2x + -halfHeightB / slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 2:\n            tempPointBx = bottomRightBx;\n            tempPointBy = p2y + halfWidthB * slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 3:\n            tempPointBy = bottomLeftBy;\n            tempPointBx = p2x + halfHeightB / slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n          case 4:\n            tempPointBx = bottomLeftBx;\n            tempPointBy = p2y + -halfWidthB * slopePrime;\n            result[2] = tempPointBx;\n            result[3] = tempPointBy;\n            break;\n        }\n      }\n    }\n  return false;\n};\n\n/**\n * This method returns in which cardinal direction does input point stays\n * 1: North\n * 2: East\n * 3: South\n * 4: West\n */\nIGeometry.getCardinalDirection = function (slope, slopePrime, line) {\n  if (slope > slopePrime) {\n    return line;\n  } else {\n    return 1 + line % 4;\n  }\n};\n\n/**\n * This method calculates the intersection of the two lines defined by\n * point pairs (s1,s2) and (f1,f2).\n */\nIGeometry.getIntersection = function (s1, s2, f1, f2) {\n  if (f2 == null) {\n    return this.getIntersection2(s1, s2, f1);\n  }\n\n  var x1 = s1.x;\n  var y1 = s1.y;\n  var x2 = s2.x;\n  var y2 = s2.y;\n  var x3 = f1.x;\n  var y3 = f1.y;\n  var x4 = f2.x;\n  var y4 = f2.y;\n  var x = void 0,\n      y = void 0; // intersection point\n  var a1 = void 0,\n      a2 = void 0,\n      b1 = void 0,\n      b2 = void 0,\n      c1 = void 0,\n      c2 = void 0; // coefficients of line eqns.\n  var denom = void 0;\n\n  a1 = y2 - y1;\n  b1 = x1 - x2;\n  c1 = x2 * y1 - x1 * y2; // { a1*x + b1*y + c1 = 0 is line 1 }\n\n  a2 = y4 - y3;\n  b2 = x3 - x4;\n  c2 = x4 * y3 - x3 * y4; // { a2*x + b2*y + c2 = 0 is line 2 }\n\n  denom = a1 * b2 - a2 * b1;\n\n  if (denom === 0) {\n    return null;\n  }\n\n  x = (b1 * c2 - b2 * c1) / denom;\n  y = (a2 * c1 - a1 * c2) / denom;\n\n  return new Point(x, y);\n};\n\n/**\n * This method finds and returns the angle of the vector from the + x-axis\n * in clockwise direction (compatible w/ Java coordinate system!).\n */\nIGeometry.angleOfVector = function (Cx, Cy, Nx, Ny) {\n  var C_angle = void 0;\n\n  if (Cx !== Nx) {\n    C_angle = Math.atan((Ny - Cy) / (Nx - Cx));\n\n    if (Nx < Cx) {\n      C_angle += Math.PI;\n    } else if (Ny < Cy) {\n      C_angle += this.TWO_PI;\n    }\n  } else if (Ny < Cy) {\n    C_angle = this.ONE_AND_HALF_PI; // 270 degrees\n  } else {\n    C_angle = this.HALF_PI; // 90 degrees\n  }\n\n  return C_angle;\n};\n\n/**\n * This method checks whether the given two line segments (one with point\n * p1 and p2, the other with point p3 and p4) intersect at a point other\n * than these points.\n */\nIGeometry.doIntersect = function (p1, p2, p3, p4) {\n  var a = p1.x;\n  var b = p1.y;\n  var c = p2.x;\n  var d = p2.y;\n  var p = p3.x;\n  var q = p3.y;\n  var r = p4.x;\n  var s = p4.y;\n  var det = (c - a) * (s - q) - (r - p) * (d - b);\n\n  if (det === 0) {\n    return false;\n  } else {\n    var lambda = ((s - q) * (r - a) + (p - r) * (s - b)) / det;\n    var gamma = ((b - d) * (r - a) + (c - a) * (s - b)) / det;\n    return 0 < lambda && lambda < 1 && 0 < gamma && gamma < 1;\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: Class Constants\n// -----------------------------------------------------------------------------\n/**\n * Some useful pre-calculated constants\n */\nIGeometry.HALF_PI = 0.5 * Math.PI;\nIGeometry.ONE_AND_HALF_PI = 1.5 * Math.PI;\nIGeometry.TWO_PI = 2.0 * Math.PI;\nIGeometry.THREE_PI = 3.0 * Math.PI;\n\nmodule.exports = IGeometry;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction IMath() {}\n\n/**\n * This method returns the sign of the input value.\n */\nIMath.sign = function (value) {\n  if (value > 0) {\n    return 1;\n  } else if (value < 0) {\n    return -1;\n  } else {\n    return 0;\n  }\n};\n\nIMath.floor = function (value) {\n  return value < 0 ? Math.ceil(value) : Math.floor(value);\n};\n\nIMath.ceil = function (value) {\n  return value < 0 ? Math.floor(value) : Math.ceil(value);\n};\n\nmodule.exports = IMath;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Integer() {}\n\nInteger.MAX_VALUE = 2147483647;\nInteger.MIN_VALUE = -2147483648;\n\nmodule.exports = Integer;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar nodeFrom = function nodeFrom(value) {\n  return { value: value, next: null, prev: null };\n};\n\nvar add = function add(prev, node, next, list) {\n  if (prev !== null) {\n    prev.next = node;\n  } else {\n    list.head = node;\n  }\n\n  if (next !== null) {\n    next.prev = node;\n  } else {\n    list.tail = node;\n  }\n\n  node.prev = prev;\n  node.next = next;\n\n  list.length++;\n\n  return node;\n};\n\nvar _remove = function _remove(node, list) {\n  var prev = node.prev,\n      next = node.next;\n\n\n  if (prev !== null) {\n    prev.next = next;\n  } else {\n    list.head = next;\n  }\n\n  if (next !== null) {\n    next.prev = prev;\n  } else {\n    list.tail = prev;\n  }\n\n  node.prev = node.next = null;\n\n  list.length--;\n\n  return node;\n};\n\nvar LinkedList = function () {\n  function LinkedList(vals) {\n    var _this = this;\n\n    _classCallCheck(this, LinkedList);\n\n    this.length = 0;\n    this.head = null;\n    this.tail = null;\n\n    if (vals != null) {\n      vals.forEach(function (v) {\n        return _this.push(v);\n      });\n    }\n  }\n\n  _createClass(LinkedList, [{\n    key: \"size\",\n    value: function size() {\n      return this.length;\n    }\n  }, {\n    key: \"insertBefore\",\n    value: function insertBefore(val, otherNode) {\n      return add(otherNode.prev, nodeFrom(val), otherNode, this);\n    }\n  }, {\n    key: \"insertAfter\",\n    value: function insertAfter(val, otherNode) {\n      return add(otherNode, nodeFrom(val), otherNode.next, this);\n    }\n  }, {\n    key: \"insertNodeBefore\",\n    value: function insertNodeBefore(newNode, otherNode) {\n      return add(otherNode.prev, newNode, otherNode, this);\n    }\n  }, {\n    key: \"insertNodeAfter\",\n    value: function insertNodeAfter(newNode, otherNode) {\n      return add(otherNode, newNode, otherNode.next, this);\n    }\n  }, {\n    key: \"push\",\n    value: function push(val) {\n      return add(this.tail, nodeFrom(val), null, this);\n    }\n  }, {\n    key: \"unshift\",\n    value: function unshift(val) {\n      return add(null, nodeFrom(val), this.head, this);\n    }\n  }, {\n    key: \"remove\",\n    value: function remove(node) {\n      return _remove(node, this);\n    }\n  }, {\n    key: \"pop\",\n    value: function pop() {\n      return _remove(this.tail, this).value;\n    }\n  }, {\n    key: \"popNode\",\n    value: function popNode() {\n      return _remove(this.tail, this);\n    }\n  }, {\n    key: \"shift\",\n    value: function shift() {\n      return _remove(this.head, this).value;\n    }\n  }, {\n    key: \"shiftNode\",\n    value: function shiftNode() {\n      return _remove(this.head, this);\n    }\n  }, {\n    key: \"get_object_at\",\n    value: function get_object_at(index) {\n      if (index <= this.length()) {\n        var i = 1;\n        var current = this.head;\n        while (i < index) {\n          current = current.next;\n          i++;\n        }\n        return current.value;\n      }\n    }\n  }, {\n    key: \"set_object_at\",\n    value: function set_object_at(index, value) {\n      if (index <= this.length()) {\n        var i = 1;\n        var current = this.head;\n        while (i < index) {\n          current = current.next;\n          i++;\n        }\n        current.value = value;\n      }\n    }\n  }]);\n\n  return LinkedList;\n}();\n\nmodule.exports = LinkedList;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\r\n *This class is the javascript implementation of the Point.java class in jdk\r\n */\nfunction Point(x, y, p) {\n  this.x = null;\n  this.y = null;\n  if (x == null && y == null && p == null) {\n    this.x = 0;\n    this.y = 0;\n  } else if (typeof x == 'number' && typeof y == 'number' && p == null) {\n    this.x = x;\n    this.y = y;\n  } else if (x.constructor.name == 'Point' && y == null && p == null) {\n    p = x;\n    this.x = p.x;\n    this.y = p.y;\n  }\n}\n\nPoint.prototype.getX = function () {\n  return this.x;\n};\n\nPoint.prototype.getY = function () {\n  return this.y;\n};\n\nPoint.prototype.getLocation = function () {\n  return new Point(this.x, this.y);\n};\n\nPoint.prototype.setLocation = function (x, y, p) {\n  if (x.constructor.name == 'Point' && y == null && p == null) {\n    p = x;\n    this.setLocation(p.x, p.y);\n  } else if (typeof x == 'number' && typeof y == 'number' && p == null) {\n    //if both parameters are integer just move (x,y) location\n    if (parseInt(x) == x && parseInt(y) == y) {\n      this.move(x, y);\n    } else {\n      this.x = Math.floor(x + 0.5);\n      this.y = Math.floor(y + 0.5);\n    }\n  }\n};\n\nPoint.prototype.move = function (x, y) {\n  this.x = x;\n  this.y = y;\n};\n\nPoint.prototype.translate = function (dx, dy) {\n  this.x += dx;\n  this.y += dy;\n};\n\nPoint.prototype.equals = function (obj) {\n  if (obj.constructor.name == \"Point\") {\n    var pt = obj;\n    return this.x == pt.x && this.y == pt.y;\n  }\n  return this == obj;\n};\n\nPoint.prototype.toString = function () {\n  return new Point().constructor.name + \"[x=\" + this.x + \",y=\" + this.y + \"]\";\n};\n\nmodule.exports = Point;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction RectangleD(x, y, width, height) {\n  this.x = 0;\n  this.y = 0;\n  this.width = 0;\n  this.height = 0;\n\n  if (x != null && y != null && width != null && height != null) {\n    this.x = x;\n    this.y = y;\n    this.width = width;\n    this.height = height;\n  }\n}\n\nRectangleD.prototype.getX = function () {\n  return this.x;\n};\n\nRectangleD.prototype.setX = function (x) {\n  this.x = x;\n};\n\nRectangleD.prototype.getY = function () {\n  return this.y;\n};\n\nRectangleD.prototype.setY = function (y) {\n  this.y = y;\n};\n\nRectangleD.prototype.getWidth = function () {\n  return this.width;\n};\n\nRectangleD.prototype.setWidth = function (width) {\n  this.width = width;\n};\n\nRectangleD.prototype.getHeight = function () {\n  return this.height;\n};\n\nRectangleD.prototype.setHeight = function (height) {\n  this.height = height;\n};\n\nRectangleD.prototype.getRight = function () {\n  return this.x + this.width;\n};\n\nRectangleD.prototype.getBottom = function () {\n  return this.y + this.height;\n};\n\nRectangleD.prototype.intersects = function (a) {\n  if (this.getRight() < a.x) {\n    return false;\n  }\n\n  if (this.getBottom() < a.y) {\n    return false;\n  }\n\n  if (a.getRight() < this.x) {\n    return false;\n  }\n\n  if (a.getBottom() < this.y) {\n    return false;\n  }\n\n  return true;\n};\n\nRectangleD.prototype.getCenterX = function () {\n  return this.x + this.width / 2;\n};\n\nRectangleD.prototype.getMinX = function () {\n  return this.getX();\n};\n\nRectangleD.prototype.getMaxX = function () {\n  return this.getX() + this.width;\n};\n\nRectangleD.prototype.getCenterY = function () {\n  return this.y + this.height / 2;\n};\n\nRectangleD.prototype.getMinY = function () {\n  return this.getY();\n};\n\nRectangleD.prototype.getMaxY = function () {\n  return this.getY() + this.height;\n};\n\nRectangleD.prototype.getWidthHalf = function () {\n  return this.width / 2;\n};\n\nRectangleD.prototype.getHeightHalf = function () {\n  return this.height / 2;\n};\n\nmodule.exports = RectangleD;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nfunction UniqueIDGeneretor() {}\n\nUniqueIDGeneretor.lastID = 0;\n\nUniqueIDGeneretor.createID = function (obj) {\n  if (UniqueIDGeneretor.isPrimitive(obj)) {\n    return obj;\n  }\n  if (obj.uniqueID != null) {\n    return obj.uniqueID;\n  }\n  obj.uniqueID = UniqueIDGeneretor.getString();\n  UniqueIDGeneretor.lastID++;\n  return obj.uniqueID;\n};\n\nUniqueIDGeneretor.getString = function (id) {\n  if (id == null) id = UniqueIDGeneretor.lastID;\n  return \"Object#\" + id + \"\";\n};\n\nUniqueIDGeneretor.isPrimitive = function (arg) {\n  var type = typeof arg === \"undefined\" ? \"undefined\" : _typeof(arg);\n  return arg == null || type != \"object\" && type != \"function\";\n};\n\nmodule.exports = UniqueIDGeneretor;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar LayoutConstants = __webpack_require__(0);\nvar LGraphManager = __webpack_require__(6);\nvar LNode = __webpack_require__(3);\nvar LEdge = __webpack_require__(1);\nvar LGraph = __webpack_require__(5);\nvar PointD = __webpack_require__(4);\nvar Transform = __webpack_require__(17);\nvar Emitter = __webpack_require__(27);\n\nfunction Layout(isRemoteUse) {\n  Emitter.call(this);\n\n  //Layout Quality: 0:draft, 1:default, 2:proof\n  this.layoutQuality = LayoutConstants.QUALITY;\n  //Whether layout should create bendpoints as needed or not\n  this.createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n  //Whether layout should be incremental or not\n  this.incremental = LayoutConstants.DEFAULT_INCREMENTAL;\n  //Whether we animate from before to after layout node positions\n  this.animationOnLayout = LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;\n  //Whether we animate the layout process or not\n  this.animationDuringLayout = LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;\n  //Number iterations that should be done between two successive animations\n  this.animationPeriod = LayoutConstants.DEFAULT_ANIMATION_PERIOD;\n  /**\r\n   * Whether or not leaf nodes (non-compound nodes) are of uniform sizes. When\r\n   * they are, both spring and repulsion forces between two leaf nodes can be\r\n   * calculated without the expensive clipping point calculations, resulting\r\n   * in major speed-up.\r\n   */\n  this.uniformLeafNodeSizes = LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;\n  /**\r\n   * This is used for creation of bendpoints by using dummy nodes and edges.\r\n   * Maps an LEdge to its dummy bendpoint path.\r\n   */\n  this.edgeToDummyNodes = new Map();\n  this.graphManager = new LGraphManager(this);\n  this.isLayoutFinished = false;\n  this.isSubLayout = false;\n  this.isRemoteUse = false;\n\n  if (isRemoteUse != null) {\n    this.isRemoteUse = isRemoteUse;\n  }\n}\n\nLayout.RANDOM_SEED = 1;\n\nLayout.prototype = Object.create(Emitter.prototype);\n\nLayout.prototype.getGraphManager = function () {\n  return this.graphManager;\n};\n\nLayout.prototype.getAllNodes = function () {\n  return this.graphManager.getAllNodes();\n};\n\nLayout.prototype.getAllEdges = function () {\n  return this.graphManager.getAllEdges();\n};\n\nLayout.prototype.getAllNodesToApplyGravitation = function () {\n  return this.graphManager.getAllNodesToApplyGravitation();\n};\n\nLayout.prototype.newGraphManager = function () {\n  var gm = new LGraphManager(this);\n  this.graphManager = gm;\n  return gm;\n};\n\nLayout.prototype.newGraph = function (vGraph) {\n  return new LGraph(null, this.graphManager, vGraph);\n};\n\nLayout.prototype.newNode = function (vNode) {\n  return new LNode(this.graphManager, vNode);\n};\n\nLayout.prototype.newEdge = function (vEdge) {\n  return new LEdge(null, null, vEdge);\n};\n\nLayout.prototype.checkLayoutSuccess = function () {\n  return this.graphManager.getRoot() == null || this.graphManager.getRoot().getNodes().length == 0 || this.graphManager.includesInvalidEdge();\n};\n\nLayout.prototype.runLayout = function () {\n  this.isLayoutFinished = false;\n\n  if (this.tilingPreLayout) {\n    this.tilingPreLayout();\n  }\n\n  this.initParameters();\n  var isLayoutSuccessfull;\n\n  if (this.checkLayoutSuccess()) {\n    isLayoutSuccessfull = false;\n  } else {\n    isLayoutSuccessfull = this.layout();\n  }\n\n  if (LayoutConstants.ANIMATE === 'during') {\n    // If this is a 'during' layout animation. Layout is not finished yet. \n    // We need to perform these in index.js when layout is really finished.\n    return false;\n  }\n\n  if (isLayoutSuccessfull) {\n    if (!this.isSubLayout) {\n      this.doPostLayout();\n    }\n  }\n\n  if (this.tilingPostLayout) {\n    this.tilingPostLayout();\n  }\n\n  this.isLayoutFinished = true;\n\n  return isLayoutSuccessfull;\n};\n\n/**\r\n * This method performs the operations required after layout.\r\n */\nLayout.prototype.doPostLayout = function () {\n  //assert !isSubLayout : \"Should not be called on sub-layout!\";\n  // Propagate geometric changes to v-level objects\n  if (!this.incremental) {\n    this.transform();\n  }\n  this.update();\n};\n\n/**\r\n * This method updates the geometry of the target graph according to\r\n * calculated layout.\r\n */\nLayout.prototype.update2 = function () {\n  // update bend points\n  if (this.createBendsAsNeeded) {\n    this.createBendpointsFromDummyNodes();\n\n    // reset all edges, since the topology has changed\n    this.graphManager.resetAllEdges();\n  }\n\n  // perform edge, node and root updates if layout is not called\n  // remotely\n  if (!this.isRemoteUse) {\n    // update all edges\n    var edge;\n    var allEdges = this.graphManager.getAllEdges();\n    for (var i = 0; i < allEdges.length; i++) {\n      edge = allEdges[i];\n      //      this.update(edge);\n    }\n\n    // recursively update nodes\n    var node;\n    var nodes = this.graphManager.getRoot().getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      node = nodes[i];\n      //      this.update(node);\n    }\n\n    // update root graph\n    this.update(this.graphManager.getRoot());\n  }\n};\n\nLayout.prototype.update = function (obj) {\n  if (obj == null) {\n    this.update2();\n  } else if (obj instanceof LNode) {\n    var node = obj;\n    if (node.getChild() != null) {\n      // since node is compound, recursively update child nodes\n      var nodes = node.getChild().getNodes();\n      for (var i = 0; i < nodes.length; i++) {\n        update(nodes[i]);\n      }\n    }\n\n    // if the l-level node is associated with a v-level graph object,\n    // then it is assumed that the v-level node implements the\n    // interface Updatable.\n    if (node.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vNode = node.vGraphObject;\n\n      // call the update method of the interface\n      vNode.update(node);\n    }\n  } else if (obj instanceof LEdge) {\n    var edge = obj;\n    // if the l-level edge is associated with a v-level graph object,\n    // then it is assumed that the v-level edge implements the\n    // interface Updatable.\n\n    if (edge.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vEdge = edge.vGraphObject;\n\n      // call the update method of the interface\n      vEdge.update(edge);\n    }\n  } else if (obj instanceof LGraph) {\n    var graph = obj;\n    // if the l-level graph is associated with a v-level graph object,\n    // then it is assumed that the v-level object implements the\n    // interface Updatable.\n\n    if (graph.vGraphObject != null) {\n      // cast to Updatable without any type check\n      var vGraph = graph.vGraphObject;\n\n      // call the update method of the interface\n      vGraph.update(graph);\n    }\n  }\n};\n\n/**\r\n * This method is used to set all layout parameters to default values\r\n * determined at compile time.\r\n */\nLayout.prototype.initParameters = function () {\n  if (!this.isSubLayout) {\n    this.layoutQuality = LayoutConstants.QUALITY;\n    this.animationDuringLayout = LayoutConstants.DEFAULT_ANIMATION_DURING_LAYOUT;\n    this.animationPeriod = LayoutConstants.DEFAULT_ANIMATION_PERIOD;\n    this.animationOnLayout = LayoutConstants.DEFAULT_ANIMATION_ON_LAYOUT;\n    this.incremental = LayoutConstants.DEFAULT_INCREMENTAL;\n    this.createBendsAsNeeded = LayoutConstants.DEFAULT_CREATE_BENDS_AS_NEEDED;\n    this.uniformLeafNodeSizes = LayoutConstants.DEFAULT_UNIFORM_LEAF_NODE_SIZES;\n  }\n\n  if (this.animationDuringLayout) {\n    this.animationOnLayout = false;\n  }\n};\n\nLayout.prototype.transform = function (newLeftTop) {\n  if (newLeftTop == undefined) {\n    this.transform(new PointD(0, 0));\n  } else {\n    // create a transformation object (from Eclipse to layout). When an\n    // inverse transform is applied, we get upper-left coordinate of the\n    // drawing or the root graph at given input coordinate (some margins\n    // already included in calculation of left-top).\n\n    var trans = new Transform();\n    var leftTop = this.graphManager.getRoot().updateLeftTop();\n\n    if (leftTop != null) {\n      trans.setWorldOrgX(newLeftTop.x);\n      trans.setWorldOrgY(newLeftTop.y);\n\n      trans.setDeviceOrgX(leftTop.x);\n      trans.setDeviceOrgY(leftTop.y);\n\n      var nodes = this.getAllNodes();\n      var node;\n\n      for (var i = 0; i < nodes.length; i++) {\n        node = nodes[i];\n        node.transform(trans);\n      }\n    }\n  }\n};\n\nLayout.prototype.positionNodesRandomly = function (graph) {\n\n  if (graph == undefined) {\n    //assert !this.incremental;\n    this.positionNodesRandomly(this.getGraphManager().getRoot());\n    this.getGraphManager().getRoot().updateBounds(true);\n  } else {\n    var lNode;\n    var childGraph;\n\n    var nodes = graph.getNodes();\n    for (var i = 0; i < nodes.length; i++) {\n      lNode = nodes[i];\n      childGraph = lNode.getChild();\n\n      if (childGraph == null) {\n        lNode.scatter();\n      } else if (childGraph.getNodes().length == 0) {\n        lNode.scatter();\n      } else {\n        this.positionNodesRandomly(childGraph);\n        lNode.updateBounds();\n      }\n    }\n  }\n};\n\n/**\r\n * This method returns a list of trees where each tree is represented as a\r\n * list of l-nodes. The method returns a list of size 0 when:\r\n * - The graph is not flat or\r\n * - One of the component(s) of the graph is not a tree.\r\n */\nLayout.prototype.getFlatForest = function () {\n  var flatForest = [];\n  var isForest = true;\n\n  // Quick reference for all nodes in the graph manager associated with\n  // this layout. The list should not be changed.\n  var allNodes = this.graphManager.getRoot().getNodes();\n\n  // First be sure that the graph is flat\n  var isFlat = true;\n\n  for (var i = 0; i < allNodes.length; i++) {\n    if (allNodes[i].getChild() != null) {\n      isFlat = false;\n    }\n  }\n\n  // Return empty forest if the graph is not flat.\n  if (!isFlat) {\n    return flatForest;\n  }\n\n  // Run BFS for each component of the graph.\n\n  var visited = new Set();\n  var toBeVisited = [];\n  var parents = new Map();\n  var unProcessedNodes = [];\n\n  unProcessedNodes = unProcessedNodes.concat(allNodes);\n\n  // Each iteration of this loop finds a component of the graph and\n  // decides whether it is a tree or not. If it is a tree, adds it to the\n  // forest and continued with the next component.\n\n  while (unProcessedNodes.length > 0 && isForest) {\n    toBeVisited.push(unProcessedNodes[0]);\n\n    // Start the BFS. Each iteration of this loop visits a node in a\n    // BFS manner.\n    while (toBeVisited.length > 0 && isForest) {\n      //pool operation\n      var currentNode = toBeVisited[0];\n      toBeVisited.splice(0, 1);\n      visited.add(currentNode);\n\n      // Traverse all neighbors of this node\n      var neighborEdges = currentNode.getEdges();\n\n      for (var i = 0; i < neighborEdges.length; i++) {\n        var currentNeighbor = neighborEdges[i].getOtherEnd(currentNode);\n\n        // If BFS is not growing from this neighbor.\n        if (parents.get(currentNode) != currentNeighbor) {\n          // We haven't previously visited this neighbor.\n          if (!visited.has(currentNeighbor)) {\n            toBeVisited.push(currentNeighbor);\n            parents.set(currentNeighbor, currentNode);\n          }\n          // Since we have previously visited this neighbor and\n          // this neighbor is not parent of currentNode, given\n          // graph contains a component that is not tree, hence\n          // it is not a forest.\n          else {\n              isForest = false;\n              break;\n            }\n        }\n      }\n    }\n\n    // The graph contains a component that is not a tree. Empty\n    // previously found trees. The method will end.\n    if (!isForest) {\n      flatForest = [];\n    }\n    // Save currently visited nodes as a tree in our forest. Reset\n    // visited and parents lists. Continue with the next component of\n    // the graph, if any.\n    else {\n        var temp = [].concat(_toConsumableArray(visited));\n        flatForest.push(temp);\n        //flatForest = flatForest.concat(temp);\n        //unProcessedNodes.removeAll(visited);\n        for (var i = 0; i < temp.length; i++) {\n          var value = temp[i];\n          var index = unProcessedNodes.indexOf(value);\n          if (index > -1) {\n            unProcessedNodes.splice(index, 1);\n          }\n        }\n        visited = new Set();\n        parents = new Map();\n      }\n  }\n\n  return flatForest;\n};\n\n/**\r\n * This method creates dummy nodes (an l-level node with minimal dimensions)\r\n * for the given edge (one per bendpoint). The existing l-level structure\r\n * is updated accordingly.\r\n */\nLayout.prototype.createDummyNodesForBendpoints = function (edge) {\n  var dummyNodes = [];\n  var prev = edge.source;\n\n  var graph = this.graphManager.calcLowestCommonAncestor(edge.source, edge.target);\n\n  for (var i = 0; i < edge.bendpoints.length; i++) {\n    // create new dummy node\n    var dummyNode = this.newNode(null);\n    dummyNode.setRect(new Point(0, 0), new Dimension(1, 1));\n\n    graph.add(dummyNode);\n\n    // create new dummy edge between prev and dummy node\n    var dummyEdge = this.newEdge(null);\n    this.graphManager.add(dummyEdge, prev, dummyNode);\n\n    dummyNodes.add(dummyNode);\n    prev = dummyNode;\n  }\n\n  var dummyEdge = this.newEdge(null);\n  this.graphManager.add(dummyEdge, prev, edge.target);\n\n  this.edgeToDummyNodes.set(edge, dummyNodes);\n\n  // remove real edge from graph manager if it is inter-graph\n  if (edge.isInterGraph()) {\n    this.graphManager.remove(edge);\n  }\n  // else, remove the edge from the current graph\n  else {\n      graph.remove(edge);\n    }\n\n  return dummyNodes;\n};\n\n/**\r\n * This method creates bendpoints for edges from the dummy nodes\r\n * at l-level.\r\n */\nLayout.prototype.createBendpointsFromDummyNodes = function () {\n  var edges = [];\n  edges = edges.concat(this.graphManager.getAllEdges());\n  edges = [].concat(_toConsumableArray(this.edgeToDummyNodes.keys())).concat(edges);\n\n  for (var k = 0; k < edges.length; k++) {\n    var lEdge = edges[k];\n\n    if (lEdge.bendpoints.length > 0) {\n      var path = this.edgeToDummyNodes.get(lEdge);\n\n      for (var i = 0; i < path.length; i++) {\n        var dummyNode = path[i];\n        var p = new PointD(dummyNode.getCenterX(), dummyNode.getCenterY());\n\n        // update bendpoint's location according to dummy node\n        var ebp = lEdge.bendpoints.get(i);\n        ebp.x = p.x;\n        ebp.y = p.y;\n\n        // remove the dummy node, dummy edges incident with this\n        // dummy node is also removed (within the remove method)\n        dummyNode.getOwner().remove(dummyNode);\n      }\n\n      // add the real edge to graph\n      this.graphManager.add(lEdge, lEdge.source, lEdge.target);\n    }\n  }\n};\n\nLayout.transform = function (sliderValue, defaultValue, minDiv, maxMul) {\n  if (minDiv != undefined && maxMul != undefined) {\n    var value = defaultValue;\n\n    if (sliderValue <= 50) {\n      var minValue = defaultValue / minDiv;\n      value -= (defaultValue - minValue) / 50 * (50 - sliderValue);\n    } else {\n      var maxValue = defaultValue * maxMul;\n      value += (maxValue - defaultValue) / 50 * (sliderValue - 50);\n    }\n\n    return value;\n  } else {\n    var a, b;\n\n    if (sliderValue <= 50) {\n      a = 9.0 * defaultValue / 500.0;\n      b = defaultValue / 10.0;\n    } else {\n      a = 9.0 * defaultValue / 50.0;\n      b = -8 * defaultValue;\n    }\n\n    return a * sliderValue + b;\n  }\n};\n\n/**\r\n * This method finds and returns the center of the given nodes, assuming\r\n * that the given nodes form a tree in themselves.\r\n */\nLayout.findCenterOfTree = function (nodes) {\n  var list = [];\n  list = list.concat(nodes);\n\n  var removedNodes = [];\n  var remainingDegrees = new Map();\n  var foundCenter = false;\n  var centerNode = null;\n\n  if (list.length == 1 || list.length == 2) {\n    foundCenter = true;\n    centerNode = list[0];\n  }\n\n  for (var i = 0; i < list.length; i++) {\n    var node = list[i];\n    var degree = node.getNeighborsList().size;\n    remainingDegrees.set(node, node.getNeighborsList().size);\n\n    if (degree == 1) {\n      removedNodes.push(node);\n    }\n  }\n\n  var tempList = [];\n  tempList = tempList.concat(removedNodes);\n\n  while (!foundCenter) {\n    var tempList2 = [];\n    tempList2 = tempList2.concat(tempList);\n    tempList = [];\n\n    for (var i = 0; i < list.length; i++) {\n      var node = list[i];\n\n      var index = list.indexOf(node);\n      if (index >= 0) {\n        list.splice(index, 1);\n      }\n\n      var neighbours = node.getNeighborsList();\n\n      neighbours.forEach(function (neighbour) {\n        if (removedNodes.indexOf(neighbour) < 0) {\n          var otherDegree = remainingDegrees.get(neighbour);\n          var newDegree = otherDegree - 1;\n\n          if (newDegree == 1) {\n            tempList.push(neighbour);\n          }\n\n          remainingDegrees.set(neighbour, newDegree);\n        }\n      });\n    }\n\n    removedNodes = removedNodes.concat(tempList);\n\n    if (list.length == 1 || list.length == 2) {\n      foundCenter = true;\n      centerNode = list[0];\n    }\n  }\n\n  return centerNode;\n};\n\n/**\r\n * During the coarsening process, this layout may be referenced by two graph managers\r\n * this setter function grants access to change the currently being used graph manager\r\n */\nLayout.prototype.setGraphManager = function (gm) {\n  this.graphManager = gm;\n};\n\nmodule.exports = Layout;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction RandomSeed() {}\n// adapted from: https://stackoverflow.com/a/19303725\nRandomSeed.seed = 1;\nRandomSeed.x = 0;\n\nRandomSeed.nextDouble = function () {\n  RandomSeed.x = Math.sin(RandomSeed.seed++) * 10000;\n  return RandomSeed.x - Math.floor(RandomSeed.x);\n};\n\nmodule.exports = RandomSeed;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar PointD = __webpack_require__(4);\n\nfunction Transform(x, y) {\n  this.lworldOrgX = 0.0;\n  this.lworldOrgY = 0.0;\n  this.ldeviceOrgX = 0.0;\n  this.ldeviceOrgY = 0.0;\n  this.lworldExtX = 1.0;\n  this.lworldExtY = 1.0;\n  this.ldeviceExtX = 1.0;\n  this.ldeviceExtY = 1.0;\n}\n\nTransform.prototype.getWorldOrgX = function () {\n  return this.lworldOrgX;\n};\n\nTransform.prototype.setWorldOrgX = function (wox) {\n  this.lworldOrgX = wox;\n};\n\nTransform.prototype.getWorldOrgY = function () {\n  return this.lworldOrgY;\n};\n\nTransform.prototype.setWorldOrgY = function (woy) {\n  this.lworldOrgY = woy;\n};\n\nTransform.prototype.getWorldExtX = function () {\n  return this.lworldExtX;\n};\n\nTransform.prototype.setWorldExtX = function (wex) {\n  this.lworldExtX = wex;\n};\n\nTransform.prototype.getWorldExtY = function () {\n  return this.lworldExtY;\n};\n\nTransform.prototype.setWorldExtY = function (wey) {\n  this.lworldExtY = wey;\n};\n\n/* Device related */\n\nTransform.prototype.getDeviceOrgX = function () {\n  return this.ldeviceOrgX;\n};\n\nTransform.prototype.setDeviceOrgX = function (dox) {\n  this.ldeviceOrgX = dox;\n};\n\nTransform.prototype.getDeviceOrgY = function () {\n  return this.ldeviceOrgY;\n};\n\nTransform.prototype.setDeviceOrgY = function (doy) {\n  this.ldeviceOrgY = doy;\n};\n\nTransform.prototype.getDeviceExtX = function () {\n  return this.ldeviceExtX;\n};\n\nTransform.prototype.setDeviceExtX = function (dex) {\n  this.ldeviceExtX = dex;\n};\n\nTransform.prototype.getDeviceExtY = function () {\n  return this.ldeviceExtY;\n};\n\nTransform.prototype.setDeviceExtY = function (dey) {\n  this.ldeviceExtY = dey;\n};\n\nTransform.prototype.transformX = function (x) {\n  var xDevice = 0.0;\n  var worldExtX = this.lworldExtX;\n  if (worldExtX != 0.0) {\n    xDevice = this.ldeviceOrgX + (x - this.lworldOrgX) * this.ldeviceExtX / worldExtX;\n  }\n\n  return xDevice;\n};\n\nTransform.prototype.transformY = function (y) {\n  var yDevice = 0.0;\n  var worldExtY = this.lworldExtY;\n  if (worldExtY != 0.0) {\n    yDevice = this.ldeviceOrgY + (y - this.lworldOrgY) * this.ldeviceExtY / worldExtY;\n  }\n\n  return yDevice;\n};\n\nTransform.prototype.inverseTransformX = function (x) {\n  var xWorld = 0.0;\n  var deviceExtX = this.ldeviceExtX;\n  if (deviceExtX != 0.0) {\n    xWorld = this.lworldOrgX + (x - this.ldeviceOrgX) * this.lworldExtX / deviceExtX;\n  }\n\n  return xWorld;\n};\n\nTransform.prototype.inverseTransformY = function (y) {\n  var yWorld = 0.0;\n  var deviceExtY = this.ldeviceExtY;\n  if (deviceExtY != 0.0) {\n    yWorld = this.lworldOrgY + (y - this.ldeviceOrgY) * this.lworldExtY / deviceExtY;\n  }\n  return yWorld;\n};\n\nTransform.prototype.inverseTransformPoint = function (inPoint) {\n  var outPoint = new PointD(this.inverseTransformX(inPoint.x), this.inverseTransformY(inPoint.y));\n  return outPoint;\n};\n\nmodule.exports = Transform;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nvar Layout = __webpack_require__(15);\nvar FDLayoutConstants = __webpack_require__(7);\nvar LayoutConstants = __webpack_require__(0);\nvar IGeometry = __webpack_require__(8);\nvar IMath = __webpack_require__(9);\n\nfunction FDLayout() {\n  Layout.call(this);\n\n  this.useSmartIdealEdgeLengthCalculation = FDLayoutConstants.DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION;\n  this.idealEdgeLength = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\n  this.springConstant = FDLayoutConstants.DEFAULT_SPRING_STRENGTH;\n  this.repulsionConstant = FDLayoutConstants.DEFAULT_REPULSION_STRENGTH;\n  this.gravityConstant = FDLayoutConstants.DEFAULT_GRAVITY_STRENGTH;\n  this.compoundGravityConstant = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_STRENGTH;\n  this.gravityRangeFactor = FDLayoutConstants.DEFAULT_GRAVITY_RANGE_FACTOR;\n  this.compoundGravityRangeFactor = FDLayoutConstants.DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR;\n  this.displacementThresholdPerNode = 3.0 * FDLayoutConstants.DEFAULT_EDGE_LENGTH / 100;\n  this.coolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n  this.initialCoolingFactor = FDLayoutConstants.DEFAULT_COOLING_FACTOR_INCREMENTAL;\n  this.totalDisplacement = 0.0;\n  this.oldTotalDisplacement = 0.0;\n  this.maxIterations = FDLayoutConstants.MAX_ITERATIONS;\n}\n\nFDLayout.prototype = Object.create(Layout.prototype);\n\nfor (var prop in Layout) {\n  FDLayout[prop] = Layout[prop];\n}\n\nFDLayout.prototype.initParameters = function () {\n  Layout.prototype.initParameters.call(this, arguments);\n\n  this.totalIterations = 0;\n  this.notAnimatedIterations = 0;\n\n  this.useFRGridVariant = FDLayoutConstants.DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION;\n\n  this.grid = [];\n};\n\nFDLayout.prototype.calcIdealEdgeLengths = function () {\n  var edge;\n  var lcaDepth;\n  var source;\n  var target;\n  var sizeOfSourceInLca;\n  var sizeOfTargetInLca;\n\n  var allEdges = this.getGraphManager().getAllEdges();\n  for (var i = 0; i < allEdges.length; i++) {\n    edge = allEdges[i];\n\n    edge.idealLength = this.idealEdgeLength;\n\n    if (edge.isInterGraph) {\n      source = edge.getSource();\n      target = edge.getTarget();\n\n      sizeOfSourceInLca = edge.getSourceInLca().getEstimatedSize();\n      sizeOfTargetInLca = edge.getTargetInLca().getEstimatedSize();\n\n      if (this.useSmartIdealEdgeLengthCalculation) {\n        edge.idealLength += sizeOfSourceInLca + sizeOfTargetInLca - 2 * LayoutConstants.SIMPLE_NODE_SIZE;\n      }\n\n      lcaDepth = edge.getLca().getInclusionTreeDepth();\n\n      edge.idealLength += FDLayoutConstants.DEFAULT_EDGE_LENGTH * FDLayoutConstants.PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR * (source.getInclusionTreeDepth() + target.getInclusionTreeDepth() - 2 * lcaDepth);\n    }\n  }\n};\n\nFDLayout.prototype.initSpringEmbedder = function () {\n\n  var s = this.getAllNodes().length;\n  if (this.incremental) {\n    if (s > FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) {\n      this.coolingFactor = Math.max(this.coolingFactor * FDLayoutConstants.COOLING_ADAPTATION_FACTOR, this.coolingFactor - (s - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) / (FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) * this.coolingFactor * (1 - FDLayoutConstants.COOLING_ADAPTATION_FACTOR));\n    }\n    this.maxNodeDisplacement = FDLayoutConstants.MAX_NODE_DISPLACEMENT_INCREMENTAL;\n  } else {\n    if (s > FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) {\n      this.coolingFactor = Math.max(FDLayoutConstants.COOLING_ADAPTATION_FACTOR, 1.0 - (s - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) / (FDLayoutConstants.ADAPTATION_UPPER_NODE_LIMIT - FDLayoutConstants.ADAPTATION_LOWER_NODE_LIMIT) * (1 - FDLayoutConstants.COOLING_ADAPTATION_FACTOR));\n    } else {\n      this.coolingFactor = 1.0;\n    }\n    this.initialCoolingFactor = this.coolingFactor;\n    this.maxNodeDisplacement = FDLayoutConstants.MAX_NODE_DISPLACEMENT;\n  }\n\n  this.maxIterations = Math.max(this.getAllNodes().length * 5, this.maxIterations);\n\n  this.totalDisplacementThreshold = this.displacementThresholdPerNode * this.getAllNodes().length;\n\n  this.repulsionRange = this.calcRepulsionRange();\n};\n\nFDLayout.prototype.calcSpringForces = function () {\n  var lEdges = this.getAllEdges();\n  var edge;\n\n  for (var i = 0; i < lEdges.length; i++) {\n    edge = lEdges[i];\n\n    this.calcSpringForce(edge, edge.idealLength);\n  }\n};\n\nFDLayout.prototype.calcRepulsionForces = function () {\n  var gridUpdateAllowed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n  var forceToNodeSurroundingUpdate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n  var i, j;\n  var nodeA, nodeB;\n  var lNodes = this.getAllNodes();\n  var processedNodeSet;\n\n  if (this.useFRGridVariant) {\n    if (this.totalIterations % FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD == 1 && gridUpdateAllowed) {\n      this.updateGrid();\n    }\n\n    processedNodeSet = new Set();\n\n    // calculate repulsion forces between each nodes and its surrounding\n    for (i = 0; i < lNodes.length; i++) {\n      nodeA = lNodes[i];\n      this.calculateRepulsionForceOfANode(nodeA, processedNodeSet, gridUpdateAllowed, forceToNodeSurroundingUpdate);\n      processedNodeSet.add(nodeA);\n    }\n  } else {\n    for (i = 0; i < lNodes.length; i++) {\n      nodeA = lNodes[i];\n\n      for (j = i + 1; j < lNodes.length; j++) {\n        nodeB = lNodes[j];\n\n        // If both nodes are not members of the same graph, skip.\n        if (nodeA.getOwner() != nodeB.getOwner()) {\n          continue;\n        }\n\n        this.calcRepulsionForce(nodeA, nodeB);\n      }\n    }\n  }\n};\n\nFDLayout.prototype.calcGravitationalForces = function () {\n  var node;\n  var lNodes = this.getAllNodesToApplyGravitation();\n\n  for (var i = 0; i < lNodes.length; i++) {\n    node = lNodes[i];\n    this.calcGravitationalForce(node);\n  }\n};\n\nFDLayout.prototype.moveNodes = function () {\n  var lNodes = this.getAllNodes();\n  var node;\n\n  for (var i = 0; i < lNodes.length; i++) {\n    node = lNodes[i];\n    node.move();\n  }\n};\n\nFDLayout.prototype.calcSpringForce = function (edge, idealLength) {\n  var sourceNode = edge.getSource();\n  var targetNode = edge.getTarget();\n\n  var length;\n  var springForce;\n  var springForceX;\n  var springForceY;\n\n  // Update edge length\n  if (this.uniformLeafNodeSizes && sourceNode.getChild() == null && targetNode.getChild() == null) {\n    edge.updateLengthSimple();\n  } else {\n    edge.updateLength();\n\n    if (edge.isOverlapingSourceAndTarget) {\n      return;\n    }\n  }\n\n  length = edge.getLength();\n\n  if (length == 0) return;\n\n  // Calculate spring forces\n  springForce = this.springConstant * (length - idealLength);\n\n  // Project force onto x and y axes\n  springForceX = springForce * (edge.lengthX / length);\n  springForceY = springForce * (edge.lengthY / length);\n\n  // Apply forces on the end nodes\n  sourceNode.springForceX += springForceX;\n  sourceNode.springForceY += springForceY;\n  targetNode.springForceX -= springForceX;\n  targetNode.springForceY -= springForceY;\n};\n\nFDLayout.prototype.calcRepulsionForce = function (nodeA, nodeB) {\n  var rectA = nodeA.getRect();\n  var rectB = nodeB.getRect();\n  var overlapAmount = new Array(2);\n  var clipPoints = new Array(4);\n  var distanceX;\n  var distanceY;\n  var distanceSquared;\n  var distance;\n  var repulsionForce;\n  var repulsionForceX;\n  var repulsionForceY;\n\n  if (rectA.intersects(rectB)) // two nodes overlap\n    {\n      // calculate separation amount in x and y directions\n      IGeometry.calcSeparationAmount(rectA, rectB, overlapAmount, FDLayoutConstants.DEFAULT_EDGE_LENGTH / 2.0);\n\n      repulsionForceX = 2 * overlapAmount[0];\n      repulsionForceY = 2 * overlapAmount[1];\n\n      var childrenConstant = nodeA.noOfChildren * nodeB.noOfChildren / (nodeA.noOfChildren + nodeB.noOfChildren);\n\n      // Apply forces on the two nodes\n      nodeA.repulsionForceX -= childrenConstant * repulsionForceX;\n      nodeA.repulsionForceY -= childrenConstant * repulsionForceY;\n      nodeB.repulsionForceX += childrenConstant * repulsionForceX;\n      nodeB.repulsionForceY += childrenConstant * repulsionForceY;\n    } else // no overlap\n    {\n      // calculate distance\n\n      if (this.uniformLeafNodeSizes && nodeA.getChild() == null && nodeB.getChild() == null) // simply base repulsion on distance of node centers\n        {\n          distanceX = rectB.getCenterX() - rectA.getCenterX();\n          distanceY = rectB.getCenterY() - rectA.getCenterY();\n        } else // use clipping points\n        {\n          IGeometry.getIntersection(rectA, rectB, clipPoints);\n\n          distanceX = clipPoints[2] - clipPoints[0];\n          distanceY = clipPoints[3] - clipPoints[1];\n        }\n\n      // No repulsion range. FR grid variant should take care of this.\n      if (Math.abs(distanceX) < FDLayoutConstants.MIN_REPULSION_DIST) {\n        distanceX = IMath.sign(distanceX) * FDLayoutConstants.MIN_REPULSION_DIST;\n      }\n\n      if (Math.abs(distanceY) < FDLayoutConstants.MIN_REPULSION_DIST) {\n        distanceY = IMath.sign(distanceY) * FDLayoutConstants.MIN_REPULSION_DIST;\n      }\n\n      distanceSquared = distanceX * distanceX + distanceY * distanceY;\n      distance = Math.sqrt(distanceSquared);\n\n      repulsionForce = this.repulsionConstant * nodeA.noOfChildren * nodeB.noOfChildren / distanceSquared;\n\n      // Project force onto x and y axes\n      repulsionForceX = repulsionForce * distanceX / distance;\n      repulsionForceY = repulsionForce * distanceY / distance;\n\n      // Apply forces on the two nodes    \n      nodeA.repulsionForceX -= repulsionForceX;\n      nodeA.repulsionForceY -= repulsionForceY;\n      nodeB.repulsionForceX += repulsionForceX;\n      nodeB.repulsionForceY += repulsionForceY;\n    }\n};\n\nFDLayout.prototype.calcGravitationalForce = function (node) {\n  var ownerGraph;\n  var ownerCenterX;\n  var ownerCenterY;\n  var distanceX;\n  var distanceY;\n  var absDistanceX;\n  var absDistanceY;\n  var estimatedSize;\n  ownerGraph = node.getOwner();\n\n  ownerCenterX = (ownerGraph.getRight() + ownerGraph.getLeft()) / 2;\n  ownerCenterY = (ownerGraph.getTop() + ownerGraph.getBottom()) / 2;\n  distanceX = node.getCenterX() - ownerCenterX;\n  distanceY = node.getCenterY() - ownerCenterY;\n  absDistanceX = Math.abs(distanceX) + node.getWidth() / 2;\n  absDistanceY = Math.abs(distanceY) + node.getHeight() / 2;\n\n  if (node.getOwner() == this.graphManager.getRoot()) // in the root graph\n    {\n      estimatedSize = ownerGraph.getEstimatedSize() * this.gravityRangeFactor;\n\n      if (absDistanceX > estimatedSize || absDistanceY > estimatedSize) {\n        node.gravitationForceX = -this.gravityConstant * distanceX;\n        node.gravitationForceY = -this.gravityConstant * distanceY;\n      }\n    } else // inside a compound\n    {\n      estimatedSize = ownerGraph.getEstimatedSize() * this.compoundGravityRangeFactor;\n\n      if (absDistanceX > estimatedSize || absDistanceY > estimatedSize) {\n        node.gravitationForceX = -this.gravityConstant * distanceX * this.compoundGravityConstant;\n        node.gravitationForceY = -this.gravityConstant * distanceY * this.compoundGravityConstant;\n      }\n    }\n};\n\nFDLayout.prototype.isConverged = function () {\n  var converged;\n  var oscilating = false;\n\n  if (this.totalIterations > this.maxIterations / 3) {\n    oscilating = Math.abs(this.totalDisplacement - this.oldTotalDisplacement) < 2;\n  }\n\n  converged = this.totalDisplacement < this.totalDisplacementThreshold;\n\n  this.oldTotalDisplacement = this.totalDisplacement;\n\n  return converged || oscilating;\n};\n\nFDLayout.prototype.animate = function () {\n  if (this.animationDuringLayout && !this.isSubLayout) {\n    if (this.notAnimatedIterations == this.animationPeriod) {\n      this.update();\n      this.notAnimatedIterations = 0;\n    } else {\n      this.notAnimatedIterations++;\n    }\n  }\n};\n\n//This method calculates the number of children (weight) for all nodes\nFDLayout.prototype.calcNoOfChildrenForAllNodes = function () {\n  var node;\n  var allNodes = this.graphManager.getAllNodes();\n\n  for (var i = 0; i < allNodes.length; i++) {\n    node = allNodes[i];\n    node.noOfChildren = node.getNoOfChildren();\n  }\n};\n\n// -----------------------------------------------------------------------------\n// Section: FR-Grid Variant Repulsion Force Calculation\n// -----------------------------------------------------------------------------\n\nFDLayout.prototype.calcGrid = function (graph) {\n\n  var sizeX = 0;\n  var sizeY = 0;\n\n  sizeX = parseInt(Math.ceil((graph.getRight() - graph.getLeft()) / this.repulsionRange));\n  sizeY = parseInt(Math.ceil((graph.getBottom() - graph.getTop()) / this.repulsionRange));\n\n  var grid = new Array(sizeX);\n\n  for (var i = 0; i < sizeX; i++) {\n    grid[i] = new Array(sizeY);\n  }\n\n  for (var i = 0; i < sizeX; i++) {\n    for (var j = 0; j < sizeY; j++) {\n      grid[i][j] = new Array();\n    }\n  }\n\n  return grid;\n};\n\nFDLayout.prototype.addNodeToGrid = function (v, left, top) {\n\n  var startX = 0;\n  var finishX = 0;\n  var startY = 0;\n  var finishY = 0;\n\n  startX = parseInt(Math.floor((v.getRect().x - left) / this.repulsionRange));\n  finishX = parseInt(Math.floor((v.getRect().width + v.getRect().x - left) / this.repulsionRange));\n  startY = parseInt(Math.floor((v.getRect().y - top) / this.repulsionRange));\n  finishY = parseInt(Math.floor((v.getRect().height + v.getRect().y - top) / this.repulsionRange));\n\n  for (var i = startX; i <= finishX; i++) {\n    for (var j = startY; j <= finishY; j++) {\n      this.grid[i][j].push(v);\n      v.setGridCoordinates(startX, finishX, startY, finishY);\n    }\n  }\n};\n\nFDLayout.prototype.updateGrid = function () {\n  var i;\n  var nodeA;\n  var lNodes = this.getAllNodes();\n\n  this.grid = this.calcGrid(this.graphManager.getRoot());\n\n  // put all nodes to proper grid cells\n  for (i = 0; i < lNodes.length; i++) {\n    nodeA = lNodes[i];\n    this.addNodeToGrid(nodeA, this.graphManager.getRoot().getLeft(), this.graphManager.getRoot().getTop());\n  }\n};\n\nFDLayout.prototype.calculateRepulsionForceOfANode = function (nodeA, processedNodeSet, gridUpdateAllowed, forceToNodeSurroundingUpdate) {\n\n  if (this.totalIterations % FDLayoutConstants.GRID_CALCULATION_CHECK_PERIOD == 1 && gridUpdateAllowed || forceToNodeSurroundingUpdate) {\n    var surrounding = new Set();\n    nodeA.surrounding = new Array();\n    var nodeB;\n    var grid = this.grid;\n\n    for (var i = nodeA.startX - 1; i < nodeA.finishX + 2; i++) {\n      for (var j = nodeA.startY - 1; j < nodeA.finishY + 2; j++) {\n        if (!(i < 0 || j < 0 || i >= grid.length || j >= grid[0].length)) {\n          for (var k = 0; k < grid[i][j].length; k++) {\n            nodeB = grid[i][j][k];\n\n            // If both nodes are not members of the same graph, \n            // or both nodes are the same, skip.\n            if (nodeA.getOwner() != nodeB.getOwner() || nodeA == nodeB) {\n              continue;\n            }\n\n            // check if the repulsion force between\n            // nodeA and nodeB has already been calculated\n            if (!processedNodeSet.has(nodeB) && !surrounding.has(nodeB)) {\n              var distanceX = Math.abs(nodeA.getCenterX() - nodeB.getCenterX()) - (nodeA.getWidth() / 2 + nodeB.getWidth() / 2);\n              var distanceY = Math.abs(nodeA.getCenterY() - nodeB.getCenterY()) - (nodeA.getHeight() / 2 + nodeB.getHeight() / 2);\n\n              // if the distance between nodeA and nodeB \n              // is less then calculation range\n              if (distanceX <= this.repulsionRange && distanceY <= this.repulsionRange) {\n                //then add nodeB to surrounding of nodeA\n                surrounding.add(nodeB);\n              }\n            }\n          }\n        }\n      }\n    }\n\n    nodeA.surrounding = [].concat(_toConsumableArray(surrounding));\n  }\n  for (i = 0; i < nodeA.surrounding.length; i++) {\n    this.calcRepulsionForce(nodeA, nodeA.surrounding[i]);\n  }\n};\n\nFDLayout.prototype.calcRepulsionRange = function () {\n  return 0.0;\n};\n\nmodule.exports = FDLayout;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LEdge = __webpack_require__(1);\nvar FDLayoutConstants = __webpack_require__(7);\n\nfunction FDLayoutEdge(source, target, vEdge) {\n  LEdge.call(this, source, target, vEdge);\n  this.idealLength = FDLayoutConstants.DEFAULT_EDGE_LENGTH;\n}\n\nFDLayoutEdge.prototype = Object.create(LEdge.prototype);\n\nfor (var prop in LEdge) {\n  FDLayoutEdge[prop] = LEdge[prop];\n}\n\nmodule.exports = FDLayoutEdge;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar LNode = __webpack_require__(3);\n\nfunction FDLayoutNode(gm, loc, size, vNode) {\n  // alternative constructor is handled inside LNode\n  LNode.call(this, gm, loc, size, vNode);\n  //Spring, repulsion and gravitational forces acting on this node\n  this.springForceX = 0;\n  this.springForceY = 0;\n  this.repulsionForceX = 0;\n  this.repulsionForceY = 0;\n  this.gravitationForceX = 0;\n  this.gravitationForceY = 0;\n  //Amount by which this node is to be moved in this iteration\n  this.displacementX = 0;\n  this.displacementY = 0;\n\n  //Start and finish grid coordinates that this node is fallen into\n  this.startX = 0;\n  this.finishX = 0;\n  this.startY = 0;\n  this.finishY = 0;\n\n  //Geometric neighbors of this node\n  this.surrounding = [];\n}\n\nFDLayoutNode.prototype = Object.create(LNode.prototype);\n\nfor (var prop in LNode) {\n  FDLayoutNode[prop] = LNode[prop];\n}\n\nFDLayoutNode.prototype.setGridCoordinates = function (_startX, _finishX, _startY, _finishY) {\n  this.startX = _startX;\n  this.finishX = _finishX;\n  this.startY = _startY;\n  this.finishY = _finishY;\n};\n\nmodule.exports = FDLayoutNode;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction DimensionD(width, height) {\n  this.width = 0;\n  this.height = 0;\n  if (width !== null && height !== null) {\n    this.height = height;\n    this.width = width;\n  }\n}\n\nDimensionD.prototype.getWidth = function () {\n  return this.width;\n};\n\nDimensionD.prototype.setWidth = function (width) {\n  this.width = width;\n};\n\nDimensionD.prototype.getHeight = function () {\n  return this.height;\n};\n\nDimensionD.prototype.setHeight = function (height) {\n  this.height = height;\n};\n\nmodule.exports = DimensionD;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar UniqueIDGeneretor = __webpack_require__(14);\n\nfunction HashMap() {\n  this.map = {};\n  this.keys = [];\n}\n\nHashMap.prototype.put = function (key, value) {\n  var theId = UniqueIDGeneretor.createID(key);\n  if (!this.contains(theId)) {\n    this.map[theId] = value;\n    this.keys.push(key);\n  }\n};\n\nHashMap.prototype.contains = function (key) {\n  var theId = UniqueIDGeneretor.createID(key);\n  return this.map[key] != null;\n};\n\nHashMap.prototype.get = function (key) {\n  var theId = UniqueIDGeneretor.createID(key);\n  return this.map[theId];\n};\n\nHashMap.prototype.keySet = function () {\n  return this.keys;\n};\n\nmodule.exports = HashMap;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar UniqueIDGeneretor = __webpack_require__(14);\n\nfunction HashSet() {\n  this.set = {};\n}\n;\n\nHashSet.prototype.add = function (obj) {\n  var theId = UniqueIDGeneretor.createID(obj);\n  if (!this.contains(theId)) this.set[theId] = obj;\n};\n\nHashSet.prototype.remove = function (obj) {\n  delete this.set[UniqueIDGeneretor.createID(obj)];\n};\n\nHashSet.prototype.clear = function () {\n  this.set = {};\n};\n\nHashSet.prototype.contains = function (obj) {\n  return this.set[UniqueIDGeneretor.createID(obj)] == obj;\n};\n\nHashSet.prototype.isEmpty = function () {\n  return this.size() === 0;\n};\n\nHashSet.prototype.size = function () {\n  return Object.keys(this.set).length;\n};\n\n//concats this.set to the given list\nHashSet.prototype.addAllTo = function (list) {\n  var keys = Object.keys(this.set);\n  var length = keys.length;\n  for (var i = 0; i < length; i++) {\n    list.push(this.set[keys[i]]);\n  }\n};\n\nHashSet.prototype.size = function () {\n  return Object.keys(this.set).length;\n};\n\nHashSet.prototype.addAll = function (list) {\n  var s = list.length;\n  for (var i = 0; i < s; i++) {\n    var v = list[i];\n    this.add(v);\n  }\n};\n\nmodule.exports = HashSet;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * A classic Quicksort algorithm with Hoare's partition\n * - Works also on LinkedList objects\n *\n * Copyright: i-Vis Research Group, Bilkent University, 2007 - present\n */\n\nvar LinkedList = __webpack_require__(11);\n\nvar Quicksort = function () {\n    function Quicksort(A, compareFunction) {\n        _classCallCheck(this, Quicksort);\n\n        if (compareFunction !== null || compareFunction !== undefined) this.compareFunction = this._defaultCompareFunction;\n\n        var length = void 0;\n        if (A instanceof LinkedList) length = A.size();else length = A.length;\n\n        this._quicksort(A, 0, length - 1);\n    }\n\n    _createClass(Quicksort, [{\n        key: '_quicksort',\n        value: function _quicksort(A, p, r) {\n            if (p < r) {\n                var q = this._partition(A, p, r);\n                this._quicksort(A, p, q);\n                this._quicksort(A, q + 1, r);\n            }\n        }\n    }, {\n        key: '_partition',\n        value: function _partition(A, p, r) {\n            var x = this._get(A, p);\n            var i = p;\n            var j = r;\n            while (true) {\n                while (this.compareFunction(x, this._get(A, j))) {\n                    j--;\n                }while (this.compareFunction(this._get(A, i), x)) {\n                    i++;\n                }if (i < j) {\n                    this._swap(A, i, j);\n                    i++;\n                    j--;\n                } else return j;\n            }\n        }\n    }, {\n        key: '_get',\n        value: function _get(object, index) {\n            if (object instanceof LinkedList) return object.get_object_at(index);else return object[index];\n        }\n    }, {\n        key: '_set',\n        value: function _set(object, index, value) {\n            if (object instanceof LinkedList) object.set_object_at(index, value);else object[index] = value;\n        }\n    }, {\n        key: '_swap',\n        value: function _swap(A, i, j) {\n            var temp = this._get(A, i);\n            this._set(A, i, this._get(A, j));\n            this._set(A, j, temp);\n        }\n    }, {\n        key: '_defaultCompareFunction',\n        value: function _defaultCompareFunction(a, b) {\n            return b > a;\n        }\n    }]);\n\n    return Quicksort;\n}();\n\nmodule.exports = Quicksort;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n *   Needleman-Wunsch algorithm is an procedure to compute the optimal global alignment of two string\n *   sequences by S.B.Needleman and C.D.Wunsch (1970).\n *\n *   Aside from the inputs, you can assign the scores for,\n *   - Match: The two characters at the current index are same.\n *   - Mismatch: The two characters at the current index are different.\n *   - Insertion/Deletion(gaps): The best alignment involves one letter aligning to a gap in the other string.\n */\n\nvar NeedlemanWunsch = function () {\n    function NeedlemanWunsch(sequence1, sequence2) {\n        var match_score = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n        var mismatch_penalty = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : -1;\n        var gap_penalty = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : -1;\n\n        _classCallCheck(this, NeedlemanWunsch);\n\n        this.sequence1 = sequence1;\n        this.sequence2 = sequence2;\n        this.match_score = match_score;\n        this.mismatch_penalty = mismatch_penalty;\n        this.gap_penalty = gap_penalty;\n\n        // Just the remove redundancy\n        this.iMax = sequence1.length + 1;\n        this.jMax = sequence2.length + 1;\n\n        // Grid matrix of scores\n        this.grid = new Array(this.iMax);\n        for (var i = 0; i < this.iMax; i++) {\n            this.grid[i] = new Array(this.jMax);\n\n            for (var j = 0; j < this.jMax; j++) {\n                this.grid[i][j] = 0;\n            }\n        }\n\n        // Traceback matrix (2D array, each cell is an array of boolean values for [`Diag`, `Up`, `Left`] positions)\n        this.tracebackGrid = new Array(this.iMax);\n        for (var _i = 0; _i < this.iMax; _i++) {\n            this.tracebackGrid[_i] = new Array(this.jMax);\n\n            for (var _j = 0; _j < this.jMax; _j++) {\n                this.tracebackGrid[_i][_j] = [null, null, null];\n            }\n        }\n\n        // The aligned sequences (return multiple possibilities)\n        this.alignments = [];\n\n        // Final alignment score\n        this.score = -1;\n\n        // Calculate scores and tracebacks\n        this.computeGrids();\n    }\n\n    _createClass(NeedlemanWunsch, [{\n        key: \"getScore\",\n        value: function getScore() {\n            return this.score;\n        }\n    }, {\n        key: \"getAlignments\",\n        value: function getAlignments() {\n            return this.alignments;\n        }\n\n        // Main dynamic programming procedure\n\n    }, {\n        key: \"computeGrids\",\n        value: function computeGrids() {\n            // Fill in the first row\n            for (var j = 1; j < this.jMax; j++) {\n                this.grid[0][j] = this.grid[0][j - 1] + this.gap_penalty;\n                this.tracebackGrid[0][j] = [false, false, true];\n            }\n\n            // Fill in the first column\n            for (var i = 1; i < this.iMax; i++) {\n                this.grid[i][0] = this.grid[i - 1][0] + this.gap_penalty;\n                this.tracebackGrid[i][0] = [false, true, false];\n            }\n\n            // Fill the rest of the grid\n            for (var _i2 = 1; _i2 < this.iMax; _i2++) {\n                for (var _j2 = 1; _j2 < this.jMax; _j2++) {\n                    // Find the max score(s) among [`Diag`, `Up`, `Left`]\n                    var diag = void 0;\n                    if (this.sequence1[_i2 - 1] === this.sequence2[_j2 - 1]) diag = this.grid[_i2 - 1][_j2 - 1] + this.match_score;else diag = this.grid[_i2 - 1][_j2 - 1] + this.mismatch_penalty;\n\n                    var up = this.grid[_i2 - 1][_j2] + this.gap_penalty;\n                    var left = this.grid[_i2][_j2 - 1] + this.gap_penalty;\n\n                    // If there exists multiple max values, capture them for multiple paths\n                    var maxOf = [diag, up, left];\n                    var indices = this.arrayAllMaxIndexes(maxOf);\n\n                    // Update Grids\n                    this.grid[_i2][_j2] = maxOf[indices[0]];\n                    this.tracebackGrid[_i2][_j2] = [indices.includes(0), indices.includes(1), indices.includes(2)];\n                }\n            }\n\n            // Update alignment score\n            this.score = this.grid[this.iMax - 1][this.jMax - 1];\n        }\n\n        // Gets all possible valid sequence combinations\n\n    }, {\n        key: \"alignmentTraceback\",\n        value: function alignmentTraceback() {\n            var inProcessAlignments = [];\n\n            inProcessAlignments.push({ pos: [this.sequence1.length, this.sequence2.length],\n                seq1: \"\",\n                seq2: \"\"\n            });\n\n            while (inProcessAlignments[0]) {\n                var current = inProcessAlignments[0];\n                var directions = this.tracebackGrid[current.pos[0]][current.pos[1]];\n\n                if (directions[0]) {\n                    inProcessAlignments.push({ pos: [current.pos[0] - 1, current.pos[1] - 1],\n                        seq1: this.sequence1[current.pos[0] - 1] + current.seq1,\n                        seq2: this.sequence2[current.pos[1] - 1] + current.seq2\n                    });\n                }\n                if (directions[1]) {\n                    inProcessAlignments.push({ pos: [current.pos[0] - 1, current.pos[1]],\n                        seq1: this.sequence1[current.pos[0] - 1] + current.seq1,\n                        seq2: '-' + current.seq2\n                    });\n                }\n                if (directions[2]) {\n                    inProcessAlignments.push({ pos: [current.pos[0], current.pos[1] - 1],\n                        seq1: '-' + current.seq1,\n                        seq2: this.sequence2[current.pos[1] - 1] + current.seq2\n                    });\n                }\n\n                if (current.pos[0] === 0 && current.pos[1] === 0) this.alignments.push({ sequence1: current.seq1,\n                    sequence2: current.seq2\n                });\n\n                inProcessAlignments.shift();\n            }\n\n            return this.alignments;\n        }\n\n        // Helper Functions\n\n    }, {\n        key: \"getAllIndexes\",\n        value: function getAllIndexes(arr, val) {\n            var indexes = [],\n                i = -1;\n            while ((i = arr.indexOf(val, i + 1)) !== -1) {\n                indexes.push(i);\n            }\n            return indexes;\n        }\n    }, {\n        key: \"arrayAllMaxIndexes\",\n        value: function arrayAllMaxIndexes(array) {\n            return this.getAllIndexes(array, Math.max.apply(null, array));\n        }\n    }]);\n\n    return NeedlemanWunsch;\n}();\n\nmodule.exports = NeedlemanWunsch;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar layoutBase = function layoutBase() {\n  return;\n};\n\nlayoutBase.FDLayout = __webpack_require__(18);\nlayoutBase.FDLayoutConstants = __webpack_require__(7);\nlayoutBase.FDLayoutEdge = __webpack_require__(19);\nlayoutBase.FDLayoutNode = __webpack_require__(20);\nlayoutBase.DimensionD = __webpack_require__(21);\nlayoutBase.HashMap = __webpack_require__(22);\nlayoutBase.HashSet = __webpack_require__(23);\nlayoutBase.IGeometry = __webpack_require__(8);\nlayoutBase.IMath = __webpack_require__(9);\nlayoutBase.Integer = __webpack_require__(10);\nlayoutBase.Point = __webpack_require__(12);\nlayoutBase.PointD = __webpack_require__(4);\nlayoutBase.RandomSeed = __webpack_require__(16);\nlayoutBase.RectangleD = __webpack_require__(13);\nlayoutBase.Transform = __webpack_require__(17);\nlayoutBase.UniqueIDGeneretor = __webpack_require__(14);\nlayoutBase.Quicksort = __webpack_require__(24);\nlayoutBase.LinkedList = __webpack_require__(11);\nlayoutBase.LGraphObject = __webpack_require__(2);\nlayoutBase.LGraph = __webpack_require__(5);\nlayoutBase.LEdge = __webpack_require__(1);\nlayoutBase.LGraphManager = __webpack_require__(6);\nlayoutBase.LNode = __webpack_require__(3);\nlayoutBase.Layout = __webpack_require__(15);\nlayoutBase.LayoutConstants = __webpack_require__(0);\nlayoutBase.NeedlemanWunsch = __webpack_require__(25);\n\nmodule.exports = layoutBase;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nfunction Emitter() {\n  this.listeners = [];\n}\n\nvar p = Emitter.prototype;\n\np.addListener = function (event, callback) {\n  this.listeners.push({\n    event: event,\n    callback: callback\n  });\n};\n\np.removeListener = function (event, callback) {\n  for (var i = this.listeners.length; i >= 0; i--) {\n    var l = this.listeners[i];\n\n    if (l.event === event && l.callback === callback) {\n      this.listeners.splice(i, 1);\n    }\n  }\n};\n\np.emit = function (event, data) {\n  for (var i = 0; i < this.listeners.length; i++) {\n    var l = this.listeners[i];\n\n    if (event === l.event) {\n      l.callback(data);\n    }\n  }\n};\n\nmodule.exports = Emitter;\n\n/***/ })\n/******/ ]);\n});","import { d as sanitizeText$1, c as getConfig, l as log, o as setupGraphViewbox } from \"./mermaid-934d9bea.js\";\nimport { select } from \"d3\";\nimport { a as createText } from \"./createText-aebacdfe.js\";\nimport cytoscape from \"cytoscape/dist/cytoscape.umd.js\";\nimport coseBilkent from \"cytoscape-cose-bilkent\";\nimport { isDark, lighten, darken } from \"khroma\";\nimport \"ts-dedent\";\nimport \"dayjs\";\nimport \"@braintree/sanitize-url\";\nimport \"dompurify\";\nimport \"lodash-es/memoize.js\";\nimport \"lodash-es/merge.js\";\nimport \"stylis\";\nimport \"lodash-es/isEmpty.js\";\nimport \"mdast-util-from-markdown\";\nvar parser = function() {\n  var o = function(k, v, o2, l) {\n    for (o2 = o2 || {}, l = k.length; l--; o2[k[l]] = v)\n      ;\n    return o2;\n  }, $V0 = [1, 4], $V1 = [1, 13], $V2 = [1, 12], $V3 = [1, 15], $V4 = [1, 16], $V5 = [1, 20], $V6 = [1, 19], $V7 = [6, 7, 8], $V8 = [1, 26], $V9 = [1, 24], $Va = [1, 25], $Vb = [6, 7, 11], $Vc = [1, 6, 13, 15, 16, 19, 22], $Vd = [1, 33], $Ve = [1, 34], $Vf = [1, 6, 7, 11, 13, 15, 16, 19, 22];\n  var parser2 = {\n    trace: function trace() {\n    },\n    yy: {},\n    symbols_: { \"error\": 2, \"start\": 3, \"mindMap\": 4, \"spaceLines\": 5, \"SPACELINE\": 6, \"NL\": 7, \"MINDMAP\": 8, \"document\": 9, \"stop\": 10, \"EOF\": 11, \"statement\": 12, \"SPACELIST\": 13, \"node\": 14, \"ICON\": 15, \"CLASS\": 16, \"nodeWithId\": 17, \"nodeWithoutId\": 18, \"NODE_DSTART\": 19, \"NODE_DESCR\": 20, \"NODE_DEND\": 21, \"NODE_ID\": 22, \"$accept\": 0, \"$end\": 1 },\n    terminals_: { 2: \"error\", 6: \"SPACELINE\", 7: \"NL\", 8: \"MINDMAP\", 11: \"EOF\", 13: \"SPACELIST\", 15: \"ICON\", 16: \"CLASS\", 19: \"NODE_DSTART\", 20: \"NODE_DESCR\", 21: \"NODE_DEND\", 22: \"NODE_ID\" },\n    productions_: [0, [3, 1], [3, 2], [5, 1], [5, 2], [5, 2], [4, 2], [4, 3], [10, 1], [10, 1], [10, 1], [10, 2], [10, 2], [9, 3], [9, 2], [12, 2], [12, 2], [12, 2], [12, 1], [12, 1], [12, 1], [12, 1], [12, 1], [14, 1], [14, 1], [18, 3], [17, 1], [17, 4]],\n    performAction: function anonymous(yytext, yyleng, yylineno, yy, yystate, $$, _$) {\n      var $0 = $$.length - 1;\n      switch (yystate) {\n        case 6:\n        case 7:\n          return yy;\n        case 8:\n          yy.getLogger().trace(\"Stop NL \");\n          break;\n        case 9:\n          yy.getLogger().trace(\"Stop EOF \");\n          break;\n        case 11:\n          yy.getLogger().trace(\"Stop NL2 \");\n          break;\n        case 12:\n          yy.getLogger().trace(\"Stop EOF2 \");\n          break;\n        case 15:\n          yy.getLogger().info(\"Node: \", $$[$0].id);\n          yy.addNode($$[$0 - 1].length, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 16:\n          yy.getLogger().trace(\"Icon: \", $$[$0]);\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 17:\n        case 21:\n          yy.decorateNode({ class: $$[$0] });\n          break;\n        case 18:\n          yy.getLogger().trace(\"SPACELIST\");\n          break;\n        case 19:\n          yy.getLogger().trace(\"Node: \", $$[$0].id);\n          yy.addNode(0, $$[$0].id, $$[$0].descr, $$[$0].type);\n          break;\n        case 20:\n          yy.decorateNode({ icon: $$[$0] });\n          break;\n        case 25:\n          yy.getLogger().trace(\"node found ..\", $$[$0 - 2]);\n          this.$ = { id: $$[$0 - 1], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n        case 26:\n          this.$ = { id: $$[$0], descr: $$[$0], type: yy.nodeType.DEFAULT };\n          break;\n        case 27:\n          yy.getLogger().trace(\"node found ..\", $$[$0 - 3]);\n          this.$ = { id: $$[$0 - 3], descr: $$[$0 - 1], type: yy.getType($$[$0 - 2], $$[$0]) };\n          break;\n      }\n    },\n    table: [{ 3: 1, 4: 2, 5: 3, 6: [1, 5], 8: $V0 }, { 1: [3] }, { 1: [2, 1] }, { 4: 6, 6: [1, 7], 7: [1, 8], 8: $V0 }, { 6: $V1, 7: [1, 10], 9: 9, 12: 11, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, o($V7, [2, 3]), { 1: [2, 2] }, o($V7, [2, 4]), o($V7, [2, 5]), { 1: [2, 6], 6: $V1, 12: 21, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, { 6: $V1, 9: 22, 12: 11, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, { 6: $V8, 7: $V9, 10: 23, 11: $Va }, o($Vb, [2, 22], { 17: 17, 18: 18, 14: 27, 15: [1, 28], 16: [1, 29], 19: $V5, 22: $V6 }), o($Vb, [2, 18]), o($Vb, [2, 19]), o($Vb, [2, 20]), o($Vb, [2, 21]), o($Vb, [2, 23]), o($Vb, [2, 24]), o($Vb, [2, 26], { 19: [1, 30] }), { 20: [1, 31] }, { 6: $V8, 7: $V9, 10: 32, 11: $Va }, { 1: [2, 7], 6: $V1, 12: 21, 13: $V2, 14: 14, 15: $V3, 16: $V4, 17: 17, 18: 18, 19: $V5, 22: $V6 }, o($Vc, [2, 14], { 7: $Vd, 11: $Ve }), o($Vf, [2, 8]), o($Vf, [2, 9]), o($Vf, [2, 10]), o($Vb, [2, 15]), o($Vb, [2, 16]), o($Vb, [2, 17]), { 20: [1, 35] }, { 21: [1, 36] }, o($Vc, [2, 13], { 7: $Vd, 11: $Ve }), o($Vf, [2, 11]), o($Vf, [2, 12]), { 21: [1, 37] }, o($Vb, [2, 25]), o($Vb, [2, 27])],\n    defaultActions: { 2: [2, 1], 6: [2, 2] },\n    parseError: function parseError2(str, hash) {\n      if (hash.recoverable) {\n        this.trace(str);\n      } else {\n        var error = new Error(str);\n        error.hash = hash;\n        throw error;\n      }\n    },\n    parse: function parse(input) {\n      var self = this, stack = [0], tstack = [], vstack = [null], lstack = [], table = this.table, yytext = \"\", yylineno = 0, yyleng = 0, TERROR = 2, EOF = 1;\n      var args = lstack.slice.call(arguments, 1);\n      var lexer2 = Object.create(this.lexer);\n      var sharedState = { yy: {} };\n      for (var k in this.yy) {\n        if (Object.prototype.hasOwnProperty.call(this.yy, k)) {\n          sharedState.yy[k] = this.yy[k];\n        }\n      }\n      lexer2.setInput(input, sharedState.yy);\n      sharedState.yy.lexer = lexer2;\n      sharedState.yy.parser = this;\n      if (typeof lexer2.yylloc == \"undefined\") {\n        lexer2.yylloc = {};\n      }\n      var yyloc = lexer2.yylloc;\n      lstack.push(yyloc);\n      var ranges = lexer2.options && lexer2.options.ranges;\n      if (typeof sharedState.yy.parseError === \"function\") {\n        this.parseError = sharedState.yy.parseError;\n      } else {\n        this.parseError = Object.getPrototypeOf(this).parseError;\n      }\n      function lex() {\n        var token;\n        token = tstack.pop() || lexer2.lex() || EOF;\n        if (typeof token !== \"number\") {\n          if (token instanceof Array) {\n            tstack = token;\n            token = tstack.pop();\n          }\n          token = self.symbols_[token] || token;\n        }\n        return token;\n      }\n      var symbol, state, action, r, yyval = {}, p, len, newState, expected;\n      while (true) {\n        state = stack[stack.length - 1];\n        if (this.defaultActions[state]) {\n          action = this.defaultActions[state];\n        } else {\n          if (symbol === null || typeof symbol == \"undefined\") {\n            symbol = lex();\n          }\n          action = table[state] && table[state][symbol];\n        }\n        if (typeof action === \"undefined\" || !action.length || !action[0]) {\n          var errStr = \"\";\n          expected = [];\n          for (p in table[state]) {\n            if (this.terminals_[p] && p > TERROR) {\n              expected.push(\"'\" + this.terminals_[p] + \"'\");\n            }\n          }\n          if (lexer2.showPosition) {\n            errStr = \"Parse error on line \" + (yylineno + 1) + \":\\n\" + lexer2.showPosition() + \"\\nExpecting \" + expected.join(\", \") + \", got '\" + (this.terminals_[symbol] || symbol) + \"'\";\n          } else {\n            errStr = \"Parse error on line \" + (yylineno + 1) + \": Unexpected \" + (symbol == EOF ? \"end of input\" : \"'\" + (this.terminals_[symbol] || symbol) + \"'\");\n          }\n          this.parseError(errStr, {\n            text: lexer2.match,\n            token: this.terminals_[symbol] || symbol,\n            line: lexer2.yylineno,\n            loc: yyloc,\n            expected\n          });\n        }\n        if (action[0] instanceof Array && action.length > 1) {\n          throw new Error(\"Parse Error: multiple actions possible at state: \" + state + \", token: \" + symbol);\n        }\n        switch (action[0]) {\n          case 1:\n            stack.push(symbol);\n            vstack.push(lexer2.yytext);\n            lstack.push(lexer2.yylloc);\n            stack.push(action[1]);\n            symbol = null;\n            {\n              yyleng = lexer2.yyleng;\n              yytext = lexer2.yytext;\n              yylineno = lexer2.yylineno;\n              yyloc = lexer2.yylloc;\n            }\n            break;\n          case 2:\n            len = this.productions_[action[1]][1];\n            yyval.$ = vstack[vstack.length - len];\n            yyval._$ = {\n              first_line: lstack[lstack.length - (len || 1)].first_line,\n              last_line: lstack[lstack.length - 1].last_line,\n              first_column: lstack[lstack.length - (len || 1)].first_column,\n              last_column: lstack[lstack.length - 1].last_column\n            };\n            if (ranges) {\n              yyval._$.range = [\n                lstack[lstack.length - (len || 1)].range[0],\n                lstack[lstack.length - 1].range[1]\n              ];\n            }\n            r = this.performAction.apply(yyval, [\n              yytext,\n              yyleng,\n              yylineno,\n              sharedState.yy,\n              action[1],\n              vstack,\n              lstack\n            ].concat(args));\n            if (typeof r !== \"undefined\") {\n              return r;\n            }\n            if (len) {\n              stack = stack.slice(0, -1 * len * 2);\n              vstack = vstack.slice(0, -1 * len);\n              lstack = lstack.slice(0, -1 * len);\n            }\n            stack.push(this.productions_[action[1]][0]);\n            vstack.push(yyval.$);\n            lstack.push(yyval._$);\n            newState = table[stack[stack.length - 2]][stack[stack.length - 1]];\n            stack.push(newState);\n            break;\n          case 3:\n            return true;\n        }\n      }\n      return true;\n    }\n  };\n  var lexer = function() {\n    var lexer2 = {\n      EOF: 1,\n      parseError: function parseError2(str, hash) {\n        if (this.yy.parser) {\n          this.yy.parser.parseError(str, hash);\n        } else {\n          throw new Error(str);\n        }\n      },\n      // resets the lexer, sets new input\n      setInput: function(input, yy) {\n        this.yy = yy || this.yy || {};\n        this._input = input;\n        this._more = this._backtrack = this.done = false;\n        this.yylineno = this.yyleng = 0;\n        this.yytext = this.matched = this.match = \"\";\n        this.conditionStack = [\"INITIAL\"];\n        this.yylloc = {\n          first_line: 1,\n          first_column: 0,\n          last_line: 1,\n          last_column: 0\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [0, 0];\n        }\n        this.offset = 0;\n        return this;\n      },\n      // consumes and returns one char from the input\n      input: function() {\n        var ch = this._input[0];\n        this.yytext += ch;\n        this.yyleng++;\n        this.offset++;\n        this.match += ch;\n        this.matched += ch;\n        var lines = ch.match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno++;\n          this.yylloc.last_line++;\n        } else {\n          this.yylloc.last_column++;\n        }\n        if (this.options.ranges) {\n          this.yylloc.range[1]++;\n        }\n        this._input = this._input.slice(1);\n        return ch;\n      },\n      // unshifts one char (or a string) into the input\n      unput: function(ch) {\n        var len = ch.length;\n        var lines = ch.split(/(?:\\r\\n?|\\n)/g);\n        this._input = ch + this._input;\n        this.yytext = this.yytext.substr(0, this.yytext.length - len);\n        this.offset -= len;\n        var oldLines = this.match.split(/(?:\\r\\n?|\\n)/g);\n        this.match = this.match.substr(0, this.match.length - 1);\n        this.matched = this.matched.substr(0, this.matched.length - 1);\n        if (lines.length - 1) {\n          this.yylineno -= lines.length - 1;\n        }\n        var r = this.yylloc.range;\n        this.yylloc = {\n          first_line: this.yylloc.first_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.first_column,\n          last_column: lines ? (lines.length === oldLines.length ? this.yylloc.first_column : 0) + oldLines[oldLines.length - lines.length].length - lines[0].length : this.yylloc.first_column - len\n        };\n        if (this.options.ranges) {\n          this.yylloc.range = [r[0], r[0] + this.yyleng - len];\n        }\n        this.yyleng = this.yytext.length;\n        return this;\n      },\n      // When called from action, caches matched text and appends it on next action\n      more: function() {\n        this._more = true;\n        return this;\n      },\n      // When called from action, signals the lexer that this rule fails to match the input, so the next matching rule (regex) should be tested instead.\n      reject: function() {\n        if (this.options.backtrack_lexer) {\n          this._backtrack = true;\n        } else {\n          return this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\\n\" + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n        return this;\n      },\n      // retain first n characters of the match\n      less: function(n) {\n        this.unput(this.match.slice(n));\n      },\n      // displays already matched input, i.e. for error messages\n      pastInput: function() {\n        var past = this.matched.substr(0, this.matched.length - this.match.length);\n        return (past.length > 20 ? \"...\" : \"\") + past.substr(-20).replace(/\\n/g, \"\");\n      },\n      // displays upcoming input, i.e. for error messages\n      upcomingInput: function() {\n        var next = this.match;\n        if (next.length < 20) {\n          next += this._input.substr(0, 20 - next.length);\n        }\n        return (next.substr(0, 20) + (next.length > 20 ? \"...\" : \"\")).replace(/\\n/g, \"\");\n      },\n      // displays the character position where the lexing error occurred, i.e. for error messages\n      showPosition: function() {\n        var pre = this.pastInput();\n        var c = new Array(pre.length + 1).join(\"-\");\n        return pre + this.upcomingInput() + \"\\n\" + c + \"^\";\n      },\n      // test the lexed token: return FALSE when not a match, otherwise return token\n      test_match: function(match, indexed_rule) {\n        var token, lines, backup;\n        if (this.options.backtrack_lexer) {\n          backup = {\n            yylineno: this.yylineno,\n            yylloc: {\n              first_line: this.yylloc.first_line,\n              last_line: this.last_line,\n              first_column: this.yylloc.first_column,\n              last_column: this.yylloc.last_column\n            },\n            yytext: this.yytext,\n            match: this.match,\n            matches: this.matches,\n            matched: this.matched,\n            yyleng: this.yyleng,\n            offset: this.offset,\n            _more: this._more,\n            _input: this._input,\n            yy: this.yy,\n            conditionStack: this.conditionStack.slice(0),\n            done: this.done\n          };\n          if (this.options.ranges) {\n            backup.yylloc.range = this.yylloc.range.slice(0);\n          }\n        }\n        lines = match[0].match(/(?:\\r\\n?|\\n).*/g);\n        if (lines) {\n          this.yylineno += lines.length;\n        }\n        this.yylloc = {\n          first_line: this.yylloc.last_line,\n          last_line: this.yylineno + 1,\n          first_column: this.yylloc.last_column,\n          last_column: lines ? lines[lines.length - 1].length - lines[lines.length - 1].match(/\\r?\\n?/)[0].length : this.yylloc.last_column + match[0].length\n        };\n        this.yytext += match[0];\n        this.match += match[0];\n        this.matches = match;\n        this.yyleng = this.yytext.length;\n        if (this.options.ranges) {\n          this.yylloc.range = [this.offset, this.offset += this.yyleng];\n        }\n        this._more = false;\n        this._backtrack = false;\n        this._input = this._input.slice(match[0].length);\n        this.matched += match[0];\n        token = this.performAction.call(this, this.yy, this, indexed_rule, this.conditionStack[this.conditionStack.length - 1]);\n        if (this.done && this._input) {\n          this.done = false;\n        }\n        if (token) {\n          return token;\n        } else if (this._backtrack) {\n          for (var k in backup) {\n            this[k] = backup[k];\n          }\n          return false;\n        }\n        return false;\n      },\n      // return next match in input\n      next: function() {\n        if (this.done) {\n          return this.EOF;\n        }\n        if (!this._input) {\n          this.done = true;\n        }\n        var token, match, tempMatch, index;\n        if (!this._more) {\n          this.yytext = \"\";\n          this.match = \"\";\n        }\n        var rules = this._currentRules();\n        for (var i = 0; i < rules.length; i++) {\n          tempMatch = this._input.match(this.rules[rules[i]]);\n          if (tempMatch && (!match || tempMatch[0].length > match[0].length)) {\n            match = tempMatch;\n            index = i;\n            if (this.options.backtrack_lexer) {\n              token = this.test_match(tempMatch, rules[i]);\n              if (token !== false) {\n                return token;\n              } else if (this._backtrack) {\n                match = false;\n                continue;\n              } else {\n                return false;\n              }\n            } else if (!this.options.flex) {\n              break;\n            }\n          }\n        }\n        if (match) {\n          token = this.test_match(match, rules[index]);\n          if (token !== false) {\n            return token;\n          }\n          return false;\n        }\n        if (this._input === \"\") {\n          return this.EOF;\n        } else {\n          return this.parseError(\"Lexical error on line \" + (this.yylineno + 1) + \". Unrecognized text.\\n\" + this.showPosition(), {\n            text: \"\",\n            token: null,\n            line: this.yylineno\n          });\n        }\n      },\n      // return next match that has a token\n      lex: function lex() {\n        var r = this.next();\n        if (r) {\n          return r;\n        } else {\n          return this.lex();\n        }\n      },\n      // activates a new lexer condition state (pushes the new lexer condition state onto the condition stack)\n      begin: function begin(condition) {\n        this.conditionStack.push(condition);\n      },\n      // pop the previously active lexer condition state off the condition stack\n      popState: function popState() {\n        var n = this.conditionStack.length - 1;\n        if (n > 0) {\n          return this.conditionStack.pop();\n        } else {\n          return this.conditionStack[0];\n        }\n      },\n      // produce the lexer rule set which is active for the currently active lexer condition state\n      _currentRules: function _currentRules() {\n        if (this.conditionStack.length && this.conditionStack[this.conditionStack.length - 1]) {\n          return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules;\n        } else {\n          return this.conditions[\"INITIAL\"].rules;\n        }\n      },\n      // return the currently active lexer condition state; when an index argument is provided it produces the N-th previous condition state, if available\n      topState: function topState(n) {\n        n = this.conditionStack.length - 1 - Math.abs(n || 0);\n        if (n >= 0) {\n          return this.conditionStack[n];\n        } else {\n          return \"INITIAL\";\n        }\n      },\n      // alias for begin(condition)\n      pushState: function pushState(condition) {\n        this.begin(condition);\n      },\n      // return the number of states currently on the stack\n      stateStackSize: function stateStackSize() {\n        return this.conditionStack.length;\n      },\n      options: { \"case-insensitive\": true },\n      performAction: function anonymous(yy, yy_, $avoiding_name_collisions, YY_START) {\n        switch ($avoiding_name_collisions) {\n          case 0:\n            yy.getLogger().trace(\"Found comment\", yy_.yytext);\n            return 6;\n          case 1:\n            return 8;\n          case 2:\n            this.begin(\"CLASS\");\n            break;\n          case 3:\n            this.popState();\n            return 16;\n          case 4:\n            this.popState();\n            break;\n          case 5:\n            yy.getLogger().trace(\"Begin icon\");\n            this.begin(\"ICON\");\n            break;\n          case 6:\n            yy.getLogger().trace(\"SPACELINE\");\n            return 6;\n          case 7:\n            return 7;\n          case 8:\n            return 15;\n          case 9:\n            yy.getLogger().trace(\"end icon\");\n            this.popState();\n            break;\n          case 10:\n            yy.getLogger().trace(\"Exploding node\");\n            this.begin(\"NODE\");\n            return 19;\n          case 11:\n            yy.getLogger().trace(\"Cloud\");\n            this.begin(\"NODE\");\n            return 19;\n          case 12:\n            yy.getLogger().trace(\"Explosion Bang\");\n            this.begin(\"NODE\");\n            return 19;\n          case 13:\n            yy.getLogger().trace(\"Cloud Bang\");\n            this.begin(\"NODE\");\n            return 19;\n          case 14:\n            this.begin(\"NODE\");\n            return 19;\n          case 15:\n            this.begin(\"NODE\");\n            return 19;\n          case 16:\n            this.begin(\"NODE\");\n            return 19;\n          case 17:\n            this.begin(\"NODE\");\n            return 19;\n          case 18:\n            return 13;\n          case 19:\n            return 22;\n          case 20:\n            return 11;\n          case 21:\n            this.begin(\"NSTR2\");\n            break;\n          case 22:\n            return \"NODE_DESCR\";\n          case 23:\n            this.popState();\n            break;\n          case 24:\n            yy.getLogger().trace(\"Starting NSTR\");\n            this.begin(\"NSTR\");\n            break;\n          case 25:\n            yy.getLogger().trace(\"description:\", yy_.yytext);\n            return \"NODE_DESCR\";\n          case 26:\n            this.popState();\n            break;\n          case 27:\n            this.popState();\n            yy.getLogger().trace(\"node end ))\");\n            return \"NODE_DEND\";\n          case 28:\n            this.popState();\n            yy.getLogger().trace(\"node end )\");\n            return \"NODE_DEND\";\n          case 29:\n            this.popState();\n            yy.getLogger().trace(\"node end ...\", yy_.yytext);\n            return \"NODE_DEND\";\n          case 30:\n            this.popState();\n            yy.getLogger().trace(\"node end ((\");\n            return \"NODE_DEND\";\n          case 31:\n            this.popState();\n            yy.getLogger().trace(\"node end (-\");\n            return \"NODE_DEND\";\n          case 32:\n            this.popState();\n            yy.getLogger().trace(\"node end (-\");\n            return \"NODE_DEND\";\n          case 33:\n            this.popState();\n            yy.getLogger().trace(\"node end ((\");\n            return \"NODE_DEND\";\n          case 34:\n            this.popState();\n            yy.getLogger().trace(\"node end ((\");\n            return \"NODE_DEND\";\n          case 35:\n            yy.getLogger().trace(\"Long description:\", yy_.yytext);\n            return 20;\n          case 36:\n            yy.getLogger().trace(\"Long description:\", yy_.yytext);\n            return 20;\n        }\n      },\n      rules: [/^(?:\\s*%%.*)/i, /^(?:mindmap\\b)/i, /^(?::::)/i, /^(?:.+)/i, /^(?:\\n)/i, /^(?:::icon\\()/i, /^(?:[\\s]+[\\n])/i, /^(?:[\\n]+)/i, /^(?:[^\\)]+)/i, /^(?:\\))/i, /^(?:-\\))/i, /^(?:\\(-)/i, /^(?:\\)\\))/i, /^(?:\\))/i, /^(?:\\(\\()/i, /^(?:\\{\\{)/i, /^(?:\\()/i, /^(?:\\[)/i, /^(?:[\\s]+)/i, /^(?:[^\\(\\[\\n\\)\\{\\}]+)/i, /^(?:$)/i, /^(?:[\"][`])/i, /^(?:[^`\"]+)/i, /^(?:[`][\"])/i, /^(?:[\"])/i, /^(?:[^\"]+)/i, /^(?:[\"])/i, /^(?:[\\)]\\))/i, /^(?:[\\)])/i, /^(?:[\\]])/i, /^(?:\\}\\})/i, /^(?:\\(-)/i, /^(?:-\\))/i, /^(?:\\(\\()/i, /^(?:\\()/i, /^(?:[^\\)\\]\\(\\}]+)/i, /^(?:.+(?!\\(\\())/i],\n      conditions: { \"CLASS\": { \"rules\": [3, 4], \"inclusive\": false }, \"ICON\": { \"rules\": [8, 9], \"inclusive\": false }, \"NSTR2\": { \"rules\": [22, 23], \"inclusive\": false }, \"NSTR\": { \"rules\": [25, 26], \"inclusive\": false }, \"NODE\": { \"rules\": [21, 24, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], \"inclusive\": false }, \"INITIAL\": { \"rules\": [0, 1, 2, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20], \"inclusive\": true } }\n    };\n    return lexer2;\n  }();\n  parser2.lexer = lexer;\n  function Parser() {\n    this.yy = {};\n  }\n  Parser.prototype = parser2;\n  parser2.Parser = Parser;\n  return new Parser();\n}();\nparser.parser = parser;\nconst mindmapParser = parser;\nconst sanitizeText = (text) => sanitizeText$1(text, getConfig());\nlet nodes = [];\nlet cnt = 0;\nlet elements = {};\nconst clear = () => {\n  nodes = [];\n  cnt = 0;\n  elements = {};\n};\nconst getParent = function(level) {\n  for (let i = nodes.length - 1; i >= 0; i--) {\n    if (nodes[i].level < level) {\n      return nodes[i];\n    }\n  }\n  return null;\n};\nconst getMindmap = () => {\n  return nodes.length > 0 ? nodes[0] : null;\n};\nconst addNode = (level, id, descr, type) => {\n  log.info(\"addNode\", level, id, descr, type);\n  const conf = getConfig();\n  const node = {\n    id: cnt++,\n    nodeId: sanitizeText(id),\n    level,\n    descr: sanitizeText(descr),\n    type,\n    children: [],\n    width: getConfig().mindmap.maxNodeWidth\n  };\n  switch (node.type) {\n    case nodeType.ROUNDED_RECT:\n      node.padding = 2 * conf.mindmap.padding;\n      break;\n    case nodeType.RECT:\n      node.padding = 2 * conf.mindmap.padding;\n      break;\n    case nodeType.HEXAGON:\n      node.padding = 2 * conf.mindmap.padding;\n      break;\n    default:\n      node.padding = conf.mindmap.padding;\n  }\n  const parent = getParent(level);\n  if (parent) {\n    parent.children.push(node);\n    nodes.push(node);\n  } else {\n    if (nodes.length === 0) {\n      nodes.push(node);\n    } else {\n      let error = new Error(\n        'There can be only one root. No parent could be found for (\"' + node.descr + '\")'\n      );\n      error.hash = {\n        text: \"branch \" + name,\n        token: \"branch \" + name,\n        line: \"1\",\n        loc: { first_line: 1, last_line: 1, first_column: 1, last_column: 1 },\n        expected: ['\"checkout ' + name + '\"']\n      };\n      throw error;\n    }\n  }\n};\nconst nodeType = {\n  DEFAULT: 0,\n  NO_BORDER: 0,\n  ROUNDED_RECT: 1,\n  RECT: 2,\n  CIRCLE: 3,\n  CLOUD: 4,\n  BANG: 5,\n  HEXAGON: 6\n};\nconst getType = (startStr, endStr) => {\n  log.debug(\"In get type\", startStr, endStr);\n  switch (startStr) {\n    case \"[\":\n      return nodeType.RECT;\n    case \"(\":\n      return endStr === \")\" ? nodeType.ROUNDED_RECT : nodeType.CLOUD;\n    case \"((\":\n      return nodeType.CIRCLE;\n    case \")\":\n      return nodeType.CLOUD;\n    case \"))\":\n      return nodeType.BANG;\n    case \"{{\":\n      return nodeType.HEXAGON;\n    default:\n      return nodeType.DEFAULT;\n  }\n};\nconst setElementForId = (id, element) => {\n  elements[id] = element;\n};\nconst decorateNode = (decoration) => {\n  const node = nodes[nodes.length - 1];\n  if (decoration && decoration.icon) {\n    node.icon = sanitizeText(decoration.icon);\n  }\n  if (decoration && decoration.class) {\n    node.class = sanitizeText(decoration.class);\n  }\n};\nconst type2Str = (type) => {\n  switch (type) {\n    case nodeType.DEFAULT:\n      return \"no-border\";\n    case nodeType.RECT:\n      return \"rect\";\n    case nodeType.ROUNDED_RECT:\n      return \"rounded-rect\";\n    case nodeType.CIRCLE:\n      return \"circle\";\n    case nodeType.CLOUD:\n      return \"cloud\";\n    case nodeType.BANG:\n      return \"bang\";\n    case nodeType.HEXAGON:\n      return \"hexgon\";\n    default:\n      return \"no-border\";\n  }\n};\nlet parseError;\nconst setErrorHandler = (handler) => {\n  parseError = handler;\n};\nconst getLogger = () => log;\nconst getNodeById = (id) => nodes[id];\nconst getElementById = (id) => elements[id];\nconst mindmapDb = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({\n  __proto__: null,\n  addNode,\n  clear,\n  decorateNode,\n  getElementById,\n  getLogger,\n  getMindmap,\n  getNodeById,\n  getType,\n  nodeType,\n  get parseError() {\n    return parseError;\n  },\n  sanitizeText,\n  setElementForId,\n  setErrorHandler,\n  type2Str\n}, Symbol.toStringTag, { value: \"Module\" }));\nconst MAX_SECTIONS = 12;\nconst defaultBkg = function(elem, node, section) {\n  const rd = 5;\n  elem.append(\"path\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + type2Str(node.type)).attr(\n    \"d\",\n    `M0 ${node.height - rd} v${-node.height + 2 * rd} q0,-5 5,-5 h${node.width - 2 * rd} q5,0 5,5 v${node.height - rd} H0 Z`\n  );\n  elem.append(\"line\").attr(\"class\", \"node-line-\" + section).attr(\"x1\", 0).attr(\"y1\", node.height).attr(\"x2\", node.width).attr(\"y2\", node.height);\n};\nconst rectBkg = function(elem, node) {\n  elem.append(\"rect\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + type2Str(node.type)).attr(\"height\", node.height).attr(\"width\", node.width);\n};\nconst cloudBkg = function(elem, node) {\n  const w = node.width;\n  const h = node.height;\n  const r1 = 0.15 * w;\n  const r2 = 0.25 * w;\n  const r3 = 0.35 * w;\n  const r4 = 0.2 * w;\n  elem.append(\"path\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + type2Str(node.type)).attr(\n    \"d\",\n    `M0 0 a${r1},${r1} 0 0,1 ${w * 0.25},${-1 * w * 0.1}\n      a${r3},${r3} 1 0,1 ${w * 0.4},${-1 * w * 0.1}\n      a${r2},${r2} 1 0,1 ${w * 0.35},${1 * w * 0.2}\n\n      a${r1},${r1} 1 0,1 ${w * 0.15},${1 * h * 0.35}\n      a${r4},${r4} 1 0,1 ${-1 * w * 0.15},${1 * h * 0.65}\n\n      a${r2},${r1} 1 0,1 ${-1 * w * 0.25},${w * 0.15}\n      a${r3},${r3} 1 0,1 ${-1 * w * 0.5},${0}\n      a${r1},${r1} 1 0,1 ${-1 * w * 0.25},${-1 * w * 0.15}\n\n      a${r1},${r1} 1 0,1 ${-1 * w * 0.1},${-1 * h * 0.35}\n      a${r4},${r4} 1 0,1 ${w * 0.1},${-1 * h * 0.65}\n\n    H0 V0 Z`\n  );\n};\nconst bangBkg = function(elem, node) {\n  const w = node.width;\n  const h = node.height;\n  const r = 0.15 * w;\n  elem.append(\"path\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + type2Str(node.type)).attr(\n    \"d\",\n    `M0 0 a${r},${r} 1 0,0 ${w * 0.25},${-1 * h * 0.1}\n      a${r},${r} 1 0,0 ${w * 0.25},${0}\n      a${r},${r} 1 0,0 ${w * 0.25},${0}\n      a${r},${r} 1 0,0 ${w * 0.25},${1 * h * 0.1}\n\n      a${r},${r} 1 0,0 ${w * 0.15},${1 * h * 0.33}\n      a${r * 0.8},${r * 0.8} 1 0,0 ${0},${1 * h * 0.34}\n      a${r},${r} 1 0,0 ${-1 * w * 0.15},${1 * h * 0.33}\n\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${h * 0.15}\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${0}\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${0}\n      a${r},${r} 1 0,0 ${-1 * w * 0.25},${-1 * h * 0.15}\n\n      a${r},${r} 1 0,0 ${-1 * w * 0.1},${-1 * h * 0.33}\n      a${r * 0.8},${r * 0.8} 1 0,0 ${0},${-1 * h * 0.34}\n      a${r},${r} 1 0,0 ${w * 0.1},${-1 * h * 0.33}\n\n    H0 V0 Z`\n  );\n};\nconst circleBkg = function(elem, node) {\n  elem.append(\"circle\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + type2Str(node.type)).attr(\"r\", node.width / 2);\n};\nfunction insertPolygonShape(parent, w, h, points, node) {\n  return parent.insert(\"polygon\", \":first-child\").attr(\n    \"points\",\n    points.map(function(d) {\n      return d.x + \",\" + d.y;\n    }).join(\" \")\n  ).attr(\"transform\", \"translate(\" + (node.width - w) / 2 + \", \" + h + \")\");\n}\nconst hexagonBkg = function(elem, node) {\n  const h = node.height;\n  const f = 4;\n  const m = h / f;\n  const w = node.width - node.padding + 2 * m;\n  const points = [\n    { x: m, y: 0 },\n    { x: w - m, y: 0 },\n    { x: w, y: -h / 2 },\n    { x: w - m, y: -h },\n    { x: m, y: -h },\n    { x: 0, y: -h / 2 }\n  ];\n  insertPolygonShape(elem, w, h, points, node);\n};\nconst roundedRectBkg = function(elem, node) {\n  elem.append(\"rect\").attr(\"id\", \"node-\" + node.id).attr(\"class\", \"node-bkg node-\" + type2Str(node.type)).attr(\"height\", node.height).attr(\"rx\", node.padding).attr(\"ry\", node.padding).attr(\"width\", node.width);\n};\nconst drawNode = function(elem, node, fullSection, conf) {\n  const htmlLabels = conf.htmlLabels;\n  const section = fullSection % (MAX_SECTIONS - 1);\n  const nodeElem = elem.append(\"g\");\n  node.section = section;\n  let sectionClass = \"section-\" + section;\n  if (section < 0) {\n    sectionClass += \" section-root\";\n  }\n  nodeElem.attr(\"class\", (node.class ? node.class + \" \" : \"\") + \"mindmap-node \" + sectionClass);\n  const bkgElem = nodeElem.append(\"g\");\n  const textElem = nodeElem.append(\"g\");\n  const description = node.descr.replace(/(<br\\/*>)/g, \"\\n\");\n  createText(textElem, description, {\n    useHtmlLabels: htmlLabels,\n    width: node.width,\n    classes: \"mindmap-node-label\"\n  });\n  if (!htmlLabels) {\n    textElem.attr(\"dy\", \"1em\").attr(\"alignment-baseline\", \"middle\").attr(\"dominant-baseline\", \"middle\").attr(\"text-anchor\", \"middle\");\n  }\n  const bbox = textElem.node().getBBox();\n  const fontSize = conf.fontSize.replace ? conf.fontSize.replace(\"px\", \"\") : conf.fontSize;\n  node.height = bbox.height + fontSize * 1.1 * 0.5 + node.padding;\n  node.width = bbox.width + 2 * node.padding;\n  if (node.icon) {\n    if (node.type === nodeType.CIRCLE) {\n      node.height += 50;\n      node.width += 50;\n      const icon = nodeElem.append(\"foreignObject\").attr(\"height\", \"50px\").attr(\"width\", node.width).attr(\"style\", \"text-align: center;\");\n      icon.append(\"div\").attr(\"class\", \"icon-container\").append(\"i\").attr(\"class\", \"node-icon-\" + section + \" \" + node.icon);\n      textElem.attr(\n        \"transform\",\n        \"translate(\" + node.width / 2 + \", \" + (node.height / 2 - 1.5 * node.padding) + \")\"\n      );\n    } else {\n      node.width += 50;\n      const orgHeight = node.height;\n      node.height = Math.max(orgHeight, 60);\n      const heightDiff = Math.abs(node.height - orgHeight);\n      const icon = nodeElem.append(\"foreignObject\").attr(\"width\", \"60px\").attr(\"height\", node.height).attr(\"style\", \"text-align: center;margin-top:\" + heightDiff / 2 + \"px;\");\n      icon.append(\"div\").attr(\"class\", \"icon-container\").append(\"i\").attr(\"class\", \"node-icon-\" + section + \" \" + node.icon);\n      textElem.attr(\n        \"transform\",\n        \"translate(\" + (25 + node.width / 2) + \", \" + (heightDiff / 2 + node.padding / 2) + \")\"\n      );\n    }\n  } else {\n    if (!htmlLabels) {\n      const dx = node.width / 2;\n      const dy = node.padding / 2;\n      textElem.attr(\"transform\", \"translate(\" + dx + \", \" + dy + \")\");\n    } else {\n      const dx = (node.width - bbox.width) / 2;\n      const dy = (node.height - bbox.height) / 2;\n      textElem.attr(\"transform\", \"translate(\" + dx + \", \" + dy + \")\");\n    }\n  }\n  switch (node.type) {\n    case nodeType.DEFAULT:\n      defaultBkg(bkgElem, node, section);\n      break;\n    case nodeType.ROUNDED_RECT:\n      roundedRectBkg(bkgElem, node);\n      break;\n    case nodeType.RECT:\n      rectBkg(bkgElem, node);\n      break;\n    case nodeType.CIRCLE:\n      bkgElem.attr(\"transform\", \"translate(\" + node.width / 2 + \", \" + +node.height / 2 + \")\");\n      circleBkg(bkgElem, node);\n      break;\n    case nodeType.CLOUD:\n      cloudBkg(bkgElem, node);\n      break;\n    case nodeType.BANG:\n      bangBkg(bkgElem, node);\n      break;\n    case nodeType.HEXAGON:\n      hexagonBkg(bkgElem, node);\n      break;\n  }\n  setElementForId(node.id, nodeElem);\n  return node.height;\n};\nconst drawEdge = function drawEdge2(edgesElem, mindmap, parent, depth, fullSection) {\n  const section = fullSection % (MAX_SECTIONS - 1);\n  const sx = parent.x + parent.width / 2;\n  const sy = parent.y + parent.height / 2;\n  const ex = mindmap.x + mindmap.width / 2;\n  const ey = mindmap.y + mindmap.height / 2;\n  const mx = ex > sx ? sx + Math.abs(sx - ex) / 2 : sx - Math.abs(sx - ex) / 2;\n  const my = ey > sy ? sy + Math.abs(sy - ey) / 2 : sy - Math.abs(sy - ey) / 2;\n  const qx = ex > sx ? Math.abs(sx - mx) / 2 + sx : -Math.abs(sx - mx) / 2 + sx;\n  const qy = ey > sy ? Math.abs(sy - my) / 2 + sy : -Math.abs(sy - my) / 2 + sy;\n  edgesElem.append(\"path\").attr(\n    \"d\",\n    parent.direction === \"TB\" || parent.direction === \"BT\" ? `M${sx},${sy} Q${sx},${qy} ${mx},${my} T${ex},${ey}` : `M${sx},${sy} Q${qx},${sy} ${mx},${my} T${ex},${ey}`\n  ).attr(\"class\", \"edge section-edge-\" + section + \" edge-depth-\" + depth);\n};\nconst positionNode = function(node) {\n  const nodeElem = getElementById(node.id);\n  const x = node.x || 0;\n  const y = node.y || 0;\n  nodeElem.attr(\"transform\", \"translate(\" + x + \",\" + y + \")\");\n};\nconst svgDraw = { drawNode, positionNode, drawEdge };\ncytoscape.use(coseBilkent);\nfunction drawNodes(svg, mindmap, section, conf) {\n  svgDraw.drawNode(svg, mindmap, section, conf);\n  if (mindmap.children) {\n    mindmap.children.forEach((child, index) => {\n      drawNodes(svg, child, section < 0 ? index : section, conf);\n    });\n  }\n}\nfunction drawEdges(edgesEl, cy) {\n  cy.edges().map((edge, id) => {\n    const data = edge.data();\n    if (edge[0]._private.bodyBounds) {\n      const bounds = edge[0]._private.rscratch;\n      log.trace(\"Edge: \", id, data);\n      edgesEl.insert(\"path\").attr(\n        \"d\",\n        `M ${bounds.startX},${bounds.startY} L ${bounds.midX},${bounds.midY} L${bounds.endX},${bounds.endY} `\n      ).attr(\"class\", \"edge section-edge-\" + data.section + \" edge-depth-\" + data.depth);\n    }\n  });\n}\nfunction addNodes(mindmap, cy, conf, level) {\n  cy.add({\n    group: \"nodes\",\n    data: {\n      id: mindmap.id,\n      labelText: mindmap.descr,\n      height: mindmap.height,\n      width: mindmap.width,\n      level,\n      nodeId: mindmap.id,\n      padding: mindmap.padding,\n      type: mindmap.type\n    },\n    position: {\n      x: mindmap.x,\n      y: mindmap.y\n    }\n  });\n  if (mindmap.children) {\n    mindmap.children.forEach((child) => {\n      addNodes(child, cy, conf, level + 1);\n      cy.add({\n        group: \"edges\",\n        data: {\n          id: `${mindmap.id}_${child.id}`,\n          source: mindmap.id,\n          target: child.id,\n          depth: level,\n          section: child.section\n        }\n      });\n    });\n  }\n}\nfunction layoutMindmap(node, conf) {\n  return new Promise((resolve) => {\n    const renderEl = select(\"body\").append(\"div\").attr(\"id\", \"cy\").attr(\"style\", \"display:none\");\n    const cy = cytoscape({\n      container: document.getElementById(\"cy\"),\n      // container to render in\n      style: [\n        {\n          selector: \"edge\",\n          style: {\n            \"curve-style\": \"bezier\"\n          }\n        }\n      ]\n    });\n    renderEl.remove();\n    addNodes(node, cy, conf, 0);\n    cy.nodes().forEach(function(n) {\n      n.layoutDimensions = () => {\n        const data = n.data();\n        return { w: data.width, h: data.height };\n      };\n    });\n    cy.layout({\n      name: \"cose-bilkent\",\n      quality: \"proof\",\n      // headless: true,\n      styleEnabled: false,\n      animate: false\n    }).run();\n    cy.ready((e) => {\n      log.info(\"Ready\", e);\n      resolve(cy);\n    });\n  });\n}\nfunction positionNodes(cy) {\n  cy.nodes().map((node, id) => {\n    const data = node.data();\n    data.x = node.position().x;\n    data.y = node.position().y;\n    svgDraw.positionNode(data);\n    const el = getElementById(data.nodeId);\n    log.info(\"Id:\", id, \"Position: (\", node.position().x, \", \", node.position().y, \")\", data);\n    el.attr(\n      \"transform\",\n      `translate(${node.position().x - data.width / 2}, ${node.position().y - data.height / 2})`\n    );\n    el.attr(\"attr\", `apa-${id})`);\n  });\n}\nconst draw = async (text, id, version, diagObj) => {\n  const conf = getConfig();\n  conf.htmlLabels = false;\n  log.debug(\"Rendering mindmap diagram\\n\" + text, diagObj.parser);\n  const securityLevel = getConfig().securityLevel;\n  let sandboxElement;\n  if (securityLevel === \"sandbox\") {\n    sandboxElement = select(\"#i\" + id);\n  }\n  const root = securityLevel === \"sandbox\" ? select(sandboxElement.nodes()[0].contentDocument.body) : select(\"body\");\n  const svg = root.select(\"#\" + id);\n  svg.append(\"g\");\n  const mm = diagObj.db.getMindmap();\n  const edgesElem = svg.append(\"g\");\n  edgesElem.attr(\"class\", \"mindmap-edges\");\n  const nodesElem = svg.append(\"g\");\n  nodesElem.attr(\"class\", \"mindmap-nodes\");\n  drawNodes(nodesElem, mm, -1, conf);\n  const cy = await layoutMindmap(mm, conf);\n  drawEdges(edgesElem, cy);\n  positionNodes(cy);\n  setupGraphViewbox(void 0, svg, conf.mindmap.padding, conf.mindmap.useMaxWidth);\n};\nconst mindmapRenderer = {\n  draw\n};\nconst genSections = (options) => {\n  let sections = \"\";\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    options[\"lineColor\" + i] = options[\"lineColor\" + i] || options[\"cScaleInv\" + i];\n    if (isDark(options[\"lineColor\" + i])) {\n      options[\"lineColor\" + i] = lighten(options[\"lineColor\" + i], 20);\n    } else {\n      options[\"lineColor\" + i] = darken(options[\"lineColor\" + i], 20);\n    }\n  }\n  for (let i = 0; i < options.THEME_COLOR_LIMIT; i++) {\n    const sw = \"\" + (17 - 3 * i);\n    sections += `\n    .section-${i - 1} rect, .section-${i - 1} path, .section-${i - 1} circle, .section-${i - 1} polygon, .section-${i - 1} path  {\n      fill: ${options[\"cScale\" + i]};\n    }\n    .section-${i - 1} text {\n     fill: ${options[\"cScaleLabel\" + i]};\n    }\n    .node-icon-${i - 1} {\n      font-size: 40px;\n      color: ${options[\"cScaleLabel\" + i]};\n    }\n    .section-edge-${i - 1}{\n      stroke: ${options[\"cScale\" + i]};\n    }\n    .edge-depth-${i - 1}{\n      stroke-width: ${sw};\n    }\n    .section-${i - 1} line {\n      stroke: ${options[\"cScaleInv\" + i]} ;\n      stroke-width: 3;\n    }\n\n    .disabled, .disabled circle, .disabled text {\n      fill: lightgray;\n    }\n    .disabled text {\n      fill: #efefef;\n    }\n    `;\n  }\n  return sections;\n};\nconst getStyles = (options) => `\n  .edge {\n    stroke-width: 3;\n  }\n  ${genSections(options)}\n  .section-root rect, .section-root path, .section-root circle, .section-root polygon  {\n    fill: ${options.git0};\n  }\n  .section-root text {\n    fill: ${options.gitBranchLabel0};\n  }\n  .icon-container {\n    height:100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n  .edge {\n    fill: none;\n  }\n  .mindmap-node-label {\n    dy: 1em;\n    alignment-baseline: middle;\n    text-anchor: middle;\n    dominant-baseline: middle;\n    text-align: center;\n  }\n`;\nconst mindmapStyles = getStyles;\nconst diagram = {\n  db: mindmapDb,\n  renderer: mindmapRenderer,\n  parser: mindmapParser,\n  styles: mindmapStyles\n};\nexport {\n  diagram\n};\n"],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","require","define","amd","__WEBPACK_EXTERNAL_MODULE_0__","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","value","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","FDLayoutConstants","CoSEConstants","prop","DEFAULT_USE_MULTI_LEVEL_SCALING","DEFAULT_RADIAL_SEPARATION","DEFAULT_EDGE_LENGTH","DEFAULT_COMPONENT_SEPERATION","TILE","TILING_PADDING_VERTICAL","TILING_PADDING_HORIZONTAL","TREE_REDUCTION_ON_INCREMENTAL","FDLayoutEdge","CoSEEdge","source","target","vEdge","create","LGraph","CoSEGraph","parent","graphMgr","vGraph","LGraphManager","CoSEGraphManager","layout","FDLayoutNode","IMath","CoSENode","gm","loc","size","vNode","move","graphManager","getLayout","displacementX","coolingFactor","springForceX","repulsionForceX","gravitationForceX","noOfChildren","displacementY","springForceY","repulsionForceY","gravitationForceY","Math","abs","maxNodeDisplacement","sign","child","moveBy","getNodes","length","propogateDisplacementToChildren","totalDisplacement","dX","dY","nodes","getChild","node","setPred1","pred1","getPred1","getPred2","pred2","setNext","next","getNext","setProcessed","processed","isProcessed","FDLayout","LayoutConstants","Point","PointD","Layout","Integer","IGeometry","Transform","CoSELayout","toBeTiled","newGraphManager","newGraph","newNode","newEdge","initParameters","arguments","isSubLayout","idealEdgeLength","useSmartIdealEdgeLengthCalculation","DEFAULT_USE_SMART_IDEAL_EDGE_LENGTH_CALCULATION","springConstant","DEFAULT_SPRING_STRENGTH","repulsionConstant","DEFAULT_REPULSION_STRENGTH","gravityConstant","DEFAULT_GRAVITY_STRENGTH","compoundGravityConstant","DEFAULT_COMPOUND_GRAVITY_STRENGTH","gravityRangeFactor","DEFAULT_GRAVITY_RANGE_FACTOR","compoundGravityRangeFactor","DEFAULT_COMPOUND_GRAVITY_RANGE_FACTOR","prunedNodesAll","growTreeIterations","afterGrowthIterations","isTreeGrowing","isGrowthFinished","coolingCycle","maxCoolingCycle","maxIterations","CONVERGENCE_CHECK_PERIOD","finalTemperature","coolingAdjuster","createBendsAsNeeded","DEFAULT_CREATE_BENDS_AS_NEEDED","createBendpoints","resetAllEdges","level","classicLayout","nodesWithGravity","calculateNodesToApplyGravitationTo","setAllNodesToApplyGravitation","calcNoOfChildrenForAllNodes","calcLowestCommonAncestors","calcInclusionTreeDepths","getRoot","calcEstimatedSize","calcIdealEdgeLengths","incremental","forest","getFlatForest","positionNodesRadially","reduceTrees","resetAllNodesToApplyGravitation","allNodes","Set","getAllNodes","intersection","filter","x","has","positionNodesRandomly","initSpringEmbedder","runSpringEmbedder","tick","totalIterations","isConverged","layoutQuality","max","initialCoolingFactor","pow","log","animationPeriod","ceil","initialAnimationPeriod","sqrt","updateBounds","updateGrid","growTree","DEFAULT_COOLING_FACTOR_INCREMENTAL","gridUpdateAllowed","forceToNodeSurroundingUpdate","calcSpringForces","calcRepulsionForces","calcGravitationalForces","moveNodes","animate","getPositionsData","pData","rect","id","getCenterX","y","getCenterY","w","width","h","height","layoutEnded","ANIMATE","emit","nodeList","graph","graphs","getGraphs","updateConnected","isConnected","concat","edges","getAllEdges","visited","edge","getSource","getTarget","getBendpoints","push","createDummyNodesForBendpoints","add","edgeList","getEdgeListToNode","k","multiEdge","forEach","currentStartingPoint","numberOfColumns","currentY","currentX","point","tree","centerNode","findCenterOfTree","radialLayout","floor","transform","WORLD_CENTER_X","WORLD_CENTER_Y","startingPoint","radialSep","maxDiagonalInTree","branchRadialLayout","bounds","calculateBounds","setDeviceOrgX","getMinX","setDeviceOrgY","getMinY","setWorldOrgX","setWorldOrgY","bottomRight","getMaxX","getMaxY","inverseTransformPoint","parentOfNode","startAngle","endAngle","distance","radialSeparation","halfInterval","nodeAngle","teta","TWO_PI","cos_teta","cos","x_","y_","sin","setCenter","neighborEdges","getEdges","childCount","branchCount","incEdgesCount","startIndex","getEdgesBetween","temp","splice","index","indexOf","stepAngle","currentNeighbor","getOtherEnd","childStartAngle","childEndAngle","maxDiagonal","MIN_VALUE","diagonal","getDiagonal","calcRepulsionRange","groupZeroDegreeMembers","self","tempMemberGroups","memberGroups","idToDummyNode","zeroDegree","getParent","getNodeDegreeWithChildren","undefined","getToBeTiled","p_id","keys","dummyCompoundId","dummyCompound","paddingLeft","paddingRight","paddingBottom","paddingTop","dummyParentGraph","getGraphManager","parentGraph","remove","clearCompounds","childGraphMap","idToNode","performDFSOnCompounds","compoundOrder","resetAllNodes","tileCompoundMembers","clearZeroDegreeMembers","tiledZeroDegreePack","compoundNode","tileNodes","repopulateCompounds","lCompoundNode","horizontalMargin","verticalMargin","adjustLocations","tiledMemberPack","repopulateZeroDegreeMembers","tiledPack","childGraph","children","theChild","getNodeDegree","degree","fillCompexOrderByDFS","organization","compoundHorizontalMargin","compoundVerticalMargin","left","rows","row","maxHeight","j","lnode","horizontalPadding","verticalPadding","minWidth","rowWidth","rowHeight","sort","n1","n2","lNode","insertNodeToRow","canAddHorizontal","getShortestRowIndex","shiftToLastRow","rowIndex","minCompoundSize","secondDimension","extraHeight","r","min","Number","MAX_VALUE","getLongestRowIndex","extraWidth","sri","hDiff","add_to_row_ratio","add_new_row_ratio","longest","last","diff","instance","prevTotal","finalTotal","tilingPreLayout","tilingPostLayout","containsLeaf","prunedNodesInStepTemp","isInterGraph","getOwner","prunedNodesInStep","lengthOfPrunedNodesInStep","nodeData","findPlaceforPrunedNode","gridForPrunedNode","nodeToConnect","prunedNode","startGridX","startX","finishGridX","finishX","startGridY","startY","finishGridY","finishY","upNodeCount","downNodeCount","rightNodeCount","leftNodeCount","controlRegions","grid","minCount","minIndex","random","getHeight","getWidth","coseBase","layoutBase","DimensionD","defaults","ready","stop","quality","nodeDimensionsIncludeLabels","refresh","fit","padding","randomize","nodeRepulsion","edgeElasticity","nestingFactor","gravity","numIter","tile","animationDuration","tilingPaddingVertical","tilingPaddingHorizontal","gravityRangeCompound","gravityCompound","gravityRange","initialEnergyOnIncremental","extend","options","obj","_CoSELayout","_options","getUserOptions","PER_LEVEL_IDEAL_EDGE_LENGTH_FACTOR","MAX_ITERATIONS","QUALITY","NODE_DIMENSIONS_INCLUDE_LABELS","DEFAULT_INCREMENTAL","run","frameId","idToLNode","stopped","cy","trigger","type","eles","addRoot","processChildrenList","getTopMostNodes","sourceNode","data","targetNode","e1","getPositions","ele","theId","getRect","iterateAnimated","afterReposition","one","ticksPerFrame","isDone","checkLayoutSuccess","doPostLayout","isLayoutFinished","positions","cancelAnimationFrame","animationData","isParent","pNode","position","requestAnimationFrame","addListener","runLayout","not","layoutPositions","nodesMap","roots","children_of_children","theNode","dimensions","layoutDimensions","outerWidth","outerHeight","parseFloat","parseInt","css","labelWidth","boundingBox","includeLabels","includeNodes","labelHeight","labelPos","isNaN","theNewGraph","register","cytoscape","global","globalThis","_typeof","Symbol","iterator","constructor","_classCallCheck","Constructor","TypeError","_defineProperties","props","descriptor","writable","key","_createClass","protoProps","staticProps","_defineProperty$1","_slicedToArray","arr","_arrayWithHoles","_iterableToArrayLimit","_unsupportedIterableToArray","_nonIterableRest","Array","isArray","_i","_arr","_n","_d","_s","_e","done","err","minLen","_arrayLikeToArray","toString","slice","from","test","len","arr2","_window","window","navigator","document","typeofstr","typeofobj","typeoffn","typeofhtmlele","HTMLElement","instanceStr","instanceString","fn$6","string","fn","array","elementOrCollection","plainObject","number$1","number","integer","htmlElement","element","collection","_private","single","core","stylesheet","event","emptyString","match","domElement","x1","x2","y1","y2","promise","then","ms","userAgent","memoize$1","memoize","keyFn","args","join","memoizedFn","ret","apply","cache","camel2dash","str","replace","v","toLowerCase","dash2camel","toUpperCase","prependCamel","prefix","substring","capitalize","charAt","rgba","rgbaNoBackRefs","hsla","hslaNoBackRefs","hex3","hex6","ascending","a","b","descending","assign","bind","tgt","hex2tuple","hex","shortHex","g","base","hsl2tuple","hsl","hue2rgb","q","t","RegExp","exec","round","rgb2tuple","rgb","isPct","channel","atLeastOneIsPct","allArePct","alpha","colorname2tuple","color","colors","color2tuple","transparent","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen","setMap","map","Error","getMap","isObject","isObject_1","commonjsGlobal","createCommonjsModule","freeGlobal","_freeGlobal","freeSelf","Function","_root","now","Date","now_1","reWhitespace","trimmedEndIndex","_trimmedEndIndex","reTrimStart","baseTrim","_baseTrim","Symbol$1","_Symbol","objectProto$5","hasOwnProperty$4","nativeObjectToString$1","symToStringTag$1","toStringTag","getRawTag","isOwn","tag","unmasked","e","result","_getRawTag","objectProto$4","nativeObjectToString","objectToString","_objectToString","nullTag","undefinedTag","symToStringTag","baseGetTag","_baseGetTag","isObjectLike","isObjectLike_1","symbolTag","isSymbol","isSymbol_1","NAN","reIsBadHex","reIsBinary","reIsOctal","freeParseInt","toNumber","other","valueOf","isBinary","toNumber_1","FUNC_ERROR_TEXT$1","nativeMax","nativeMin","debounce","func","wait","lastArgs","lastThis","maxWait","timerId","lastCallTime","lastInvokeTime","leading","maxing","trailing","invokeFunc","time","thisArg","leadingEdge","setTimeout","timerExpired","remainingWait","timeSinceLastCall","timeSinceLastInvoke","timeWaiting","shouldInvoke","trailingEdge","cancel","clearTimeout","flush","debounced","isInvoking","debounce_1","performance","pnow","raf","mozRequestAnimationFrame","webkitRequestAnimationFrame","msRequestAnimationFrame","performanceNow","DEFAULT_HASH_SEED","K","DEFAULT_HASH_SEED_ALT","hashIterableInts","seed","hash","entry","hashInt","num","hashIntAlt","combineHashes","hash1","hash2","combineHashesArray","hashes","hashArrays","hashes1","hashes2","hashIntsArray","ints","hashString","charCodeAt","hashStrings","hashStringsArray","strs","warningsEnabled","warnSupported","console","warn","traceSupported","trace","MAX_INT$1","MAX_SAFE_INTEGER","trueify","falsify","zeroify","noop$1","noop","error","msg","warnings","enabled","clone","copy","copyArray$1","copyArray","uuid","_staticEmptyObject","staticEmptyObject","defaults$g","_defaults","opts","filledOpts","optVal","removeFromArray","oneCopy","clearArray","otherArr","el","getPrefixedProperty","propName","setPrefixedProperty","ObjectMap","_obj","set","val","_delete","clear","Map$2","Map","undef","ObjectSet","arrayOrObjectSet","toArray","_this","callback","Set$1","Element","params","restore","group","_p","autoWidth","autoHeight","autoPadding","compoundBoundsClean","listeners","style","rstyle","styleCxts","styleKeys","removed","selected","selectable","locked","grabbed","grabbable","pannable","active","classes","animation","current","queue","rscratch","scratch","isNode","traversalCache","backgrounding","bbCache","bbCacheShift","bodyBounds","overlayBounds","labelBounds","all","main","arrowBounds","renderedPosition","rpos","pan","zoom","split","cls","createEmitter","bypass","defineSearch","bfs","dfs","searchFn","directed","visit","Q","connectedNodes","connectedBy","id2depth","V","found","_this$byGroup","byGroup","vi","viId","unshift","_loop","shift","pop","vId","depth","prevEdge","src","prevNode","same","vwEdges","connectedEdges","_i2","wId","_ret","connectedEles","path","elesfn$v","breadthFirstSearch","depthFirstSearch","heap$1","Heap","defaultCmp","heapify","heappop","heappush","heappushpop","heapreplace","insort","nlargest","nsmallest","updateItem","_siftdown","_siftup","lo","hi","cmp","mid","item","lastelt","returnitem","_ref","_len","_ref1","_results","_results1","_j","reverse","pos","elem","los","startpos","newitem","parentpos","childpos","endpos","rightpos","pushpop","peek","contains","empty","heap","insert","top","front","dijkstraDefaults","weight","elesfn$u","dijkstra","_dijkstraDefaults","weightFn","dist","prev","knownDist","unmergeBy","isLoop","getDist","setDist","Infinity","distBetween","u","uvs","edgesTo","edgesWith","intersect","smallestDistance","smallestEdge","_weight","smalletsDist","uid","neighbors","neighborhood","vid","vDist","alt","distanceTo","pathTo","S","spawn","elesfn$t","kruskal","numNodes","A","findSetIndex","setUIndex","setVIndex","setU","setV","merge","aStarDefaults","goal","heuristic","elesfn$s","aStar","_aStarDefaults","sid","tid","gScore","fScore","closedSetIds","openSet","openSetIds","cameFrom","cameFromEdge","addToOpenSet","cMin","cMinId","popFromOpenSet","isInOpenSet","steps","pathNode","pathNodeId","pathEdge","hasElementWithId","wSrc","wTgt","wid","tempScore","floydWarshallDefaults","elesfn$r","floydWarshall","_floydWarshallDefault","N","Nsq","atIndex","edgeNext","st","ts","ik","ij","kj","getArgEle","indexOfArgEle","res","to","fromNode","bellmanFordDefaults","elesfn$q","bellmanFord","_bellmanFordDefaults","infoMap","hasNegativeWeightCycle","negativeWeightCycles","numEdges","getInfo","getNodeFromTo","$","thisStart","end","_getInfo","pred","info","replacedEdge","checkForEdgeReplacement","node1","node2","info1","info2","srcInfo","tgtInfo","negativeWeightCycleIds","_edge","_src","_tgt","_weight2","srcDist","tgtDist","findNegativeWeightCycles","negativeNodes","numNegativeNodes","start","cycle","_node","smallestId","smallestIndex","cycleId","sqrt2","collapse","edgeIndex","nodeMap","remainingEdges","edgeInfo","sourceIn","targetIn","partition1","partition2","newEdges","contractUntil","metaNodeMap","sizeLimit","elesfn$p","kargerStein","LN2","stopSize","edgeIndexes","minCutSize","minCutEdgeIndexes","minCutNodeMap","metaNodeMap2","copyNodesMap","_i3","iter","_i4","edgesState","edgesState2","res1","res2","cut","witnessNodePartition","_i5","partitionId","constructComponent","subset","component","components","copyPosition","modelToRenderedPosition","renderedToModelPosition","array2point","begin","isFinite","mean","total","median","includeHoles","off","deg2rad","deg","PI","getAngleFromDisp","dispX","dispY","atan2","log2","signum","p1","p2","sqdist","dx","dy","inPlaceSumNormalize","qbezierAt","p0","qbezierPtAt","lineAt","vec","vecDist","normVec","bound","makeBoundingBox","bb","copyBoundingBox","clearBoundingBox","updateBoundingBox","bb1","bb2","expandBoundingBoxByPoint","expandBoundingBox","expandBoundingBoxSides","right","bottom","_padding","assignBoundingBox","boundingBoxesIntersect","inBoundingBox","pointInBoundingBox","pt","boundingBoxInBoundingBox","roundRectangleIntersectLine","nodeX","nodeY","cornerRadius","getRoundRectangleRadius","halfWidth","halfHeight","straightLineIntersections","topStartX","topStartY","topEndX","topEndY","finiteLinesIntersect","rightStartX","rightStartY","rightEndX","rightEndY","bottomStartX","bottomStartY","bottomEndX","bottomEndY","leftStartX","leftStartY","leftEndX","leftEndY","arcIntersections","topLeftCenterX","topLeftCenterY","intersectLineCircle","topRightCenterX","topRightCenterY","bottomRightCenterX","bottomRightCenterY","bottomLeftCenterX","bottomLeftCenterY","inLineVicinity","lx1","ly1","lx2","ly2","tolerance","inBezierVicinity","x3","y3","solveQuadratic","sqrtR","denom","root1","root2","solveCubic","epsilon","discriminant","dum1","term1","r13","acos","sqdistToQuadraticBezier","zeroThreshold","minDistanceSquared","curX","curY","distSquared","sqdistToFiniteLine","offset","line","lineSq","hypSq","dotProduct","adjSq","pointInsidePolygonPoints","points","up","pointInsidePolygon","basePoints","centerX","centerY","direction","transformedPoints","angle","atan","expandedLineSet","expandPolygon","joinLines","pointInsideRoundPolygon","cutPolygonPoints","halfW","halfH","getRoundPolygonRadius","squaredCornerRadius","sourceUv","destUv","px","py","cosTheta","cp0x","cp0y","cp1x","cp1y","orthx","orthy","cosAlpha","cx","squaredDistance","lineSet","vertices","currentLineStartX","currentLineStartY","currentLineEndX","currentLineEndY","nextLineStartX","nextLineStartY","nextLineEndX","nextLineEndY","pad","currentPointX","currentPointY","nextPointX","nextPointY","offsetX","offsetY","offsetLength","normalizedOffsetX","normalizedOffsetY","intersectLineEllipse","ellipseWradius","ellipseHradius","newLength","lenProportion","checkInEllipse","radius","f","t1","t2","tMin","tMax","inRangeParams","nearIntersectionX","nearIntersectionY","farIntersectionX","farIntersectionY","midOfThree","x4","y4","infiniteLines","dx13","dx21","dx43","dy13","dy21","dy43","ua_t","ub_t","u_b","ua","ub","flptThreshold","_min","_max","polygonIntersectLine","intersections","doTransform","nextX","nextY","roundPolygonIntersectLine","lines","lowestIntersection","lowestSquaredDistance","shortenIntersection","amount","disp","lenRatio","generateUnitNgonPointsFitToSquare","sides","rotationRadians","generateUnitNgonPoints","fitPolygonToSquare","minX","minY","maxX","maxY","sx","sy","_i6","increment","currentAngle","getCutRectangleCornerLength","bezierPtsToQuadCoeff","getBarrelCurveConstants","heightOffset","widthOffset","ctrlPtOffsetPct","pageRankDefaults","dampingFactor","precision","iterations","elesfn$o","pageRank","_pageRankDefaults","numNodesSqd","matrix","columnSum","additionalProb","srcId","tgtId","indexOfId","_n2","_n3","eigenvector","previous","_j2","_n4","_i7","delta","rank","defaults$f","elesfn$n","degreeCentralityNormalized","degrees","maxDegree","currDegree","degreeCentrality","indegrees","outdegrees","maxIndegree","maxOutdegree","_currDegree","indegree","outdegree","callingEles","connEdges","incoming","outgoing","k_in","k_out","s_in","s_out","dc","dcn","degreeCentralityNormalised","defaults$e","harmonic","elesfn$m","closenessCentralityNormalized","closenesses","maxCloseness","fw","currCloseness","node_i","closeness","closenessCentrality","_defaults2","totalDistance","cc","ccn","closenessCentralityNormalised","defaults$d","elesfn$l","betweennessCentrality","weighted","_C","C","outgoers","openNeighborhood","P","_vid","_v","vEle","getElementById","edgeWeight","_w","_w2","_v2","betweenness","betweennessNormalized","betweennessNormalised","bc","defaults$c","expandFactor","inflateFactor","multFactor","attributes","setOptions$3","setOptions","getSimilarity$1","getSimilarity","addLoops","M","normalize","sum","col","_row","mmult","B","expand","_M","inflate","hasConverged","roundFactor","v1","v2","assign$2","clusters","cluster","isDuplicate","c1","c2","removeDuplicates","markovClustering","id2position","sim","isStillMoving","markovClustering$1","mcl","identity","absDiff","addAbsDiff","addSquaredDiff","maxAbsDiff","currentMax","getDistance","getP","getQ","init","post","dim","distances","euclidean","squaredEuclidean","manhattan","clusteringDistance","method","nodeP","nodeQ","impl","defaults$b","sensitivityThreshold","testMode","testCentroids","setOptions$2","centroid","mode","noNodeP","randomCentroids","ndim","centroids","classify","buildCluster","assignment","haveValuesConverged","haveMatricesConverged","seenBefore","medoids","randomMedoids","findCost","potentialNewMedoid","cost","kMeans","newCentroid","kMedoids","curCost","minCosts","updateCentroids","U","numerator","denominator","_c","updateMembership","_U","assign$1","_c2","_c3","fuzzyCMeans","degreeOfMembership","kClustering","fcm","defaults$a","linkage","threshold","addDendrogram","dendrogramDepth","linkageAliases","setOptions$1","preferredAlias","mergeClosest","dists","mins","minKey","attrs","_dist","merged","cur","key1","key2","getAllChildren","buildDendrogram","leftStr","rightStr","buildClustersFromTree","leaves","hierarchicalClustering","retClusters","hierarchicalClustering$1","hca","defaults$9","preference","damping","minIterations","dmp","pref","validPrefs","some","attr","getPreference","findExemplars","R","indices","assignClusters","exemplars","ei","_ei","ii","maxI","maxSum","affinityPropagation","old","Rp","se","_i8","max2","AS","_i9","_j3","_j4","_i10","E","_sum","_i11","_j5","exemplarsIndices","clusterIndices","_i12","clusterIndex","affinityPropagation$1","ap","hierholzerDefaults","elesfn$k","hierholzer","_hierholzerDefaults","dflag","oddIn","oddOut","startVertex","ind","outd","d1","d2","isEdge","trail","walk","currentNode","subtour","adj","adjTail","adjHead","hopcroftTarjanBiconnected","edgeCount","stack","visitedEdges","buildComponent","cutset","nodeId","cutVertex","biconnectedSearch","low","sourceId","targetId","otherNodeId","edgeId","cutVertices","hopcroftTarjanBiconnected$1","htbc","htb","hopcroftTarjanBiconnectedComponents","tarjanStronglyConnected","stronglyConnectedSearch","sourceNodeId","explored","targetNodeId","componentNodes","componentEdges","difference","tarjanStronglyConnected$1","tsc","tscc","tarjanStronglyConnectedComponents","elesfn$j","STATE_PENDING","STATE_FULFILLED","STATE_REJECTED","api","executor","state","fulfillValue","rejectReason","onFulfilled","onRejected","proxy","fulfill","reject","deliver","curr","resolver","execute","execute_handlers","handlers","setImmediate","cb","resolve","resolved","ps","resolveAll","rejectAll","vals","doneCount","isPromise","Promise$1","Promise","Animation","opts2","isCore","isEle","duration","started","playing","hooked","applying","progress","completes","frames","complete","startPosition","startStyle","getAnimationStartStyle","startPan","startZoom","anifn","hook","tAni","addToAnimationPool","play","pause","rewind","fastforward","wasPlaying","completed","swap","_pa","startStyleProp","running","define$3","animated","animatedImpl","selfIsArrayLike","styleEnabled","clearQueue","clearQueueImpl","delay","delayImpl","delayAnimation","delayAnimationImpl","animationImpl","properties","isEles","propertiesEmpty","getPropsList","panBy","cyPan","center","centre","centerPan","getCenterPan","fitVp","getFitViewport","vp","getZoomedViewport","zoomed","panned","animateImpl","ani","stopImpl","jumpToEnd","anis","ani_p","notify","isArray_1","reIsDeepProp","reIsPlainProp","isKey","_isKey","asyncTag","funcTag","genTag","proxyTag","isFunction","isFunction_1","coreJsData","_coreJsData","maskSrcKey","IE_PROTO","isMasked","_isMasked","funcProto$1","funcToString$1","toSource","_toSource","reRegExpChar","reIsHostCtor","funcProto","objectProto$3","funcToString","hasOwnProperty$3","reIsNative","baseIsNative","pattern","_baseIsNative","getValue$1","_getValue","getNative","_getNative","nativeCreate","_nativeCreate","hashClear","__data__","_hashClear","hashDelete","_hashDelete","HASH_UNDEFINED$1","objectProto$2","hasOwnProperty$2","hashGet","_hashGet","objectProto$1","hasOwnProperty$1","hashHas","_hashHas","HASH_UNDEFINED","hashSet","_hashSet","Hash","entries","_Hash","listCacheClear","_listCacheClear","eq","eq_1","assocIndexOf","_assocIndexOf","arrayProto","listCacheDelete","lastIndex","_listCacheDelete","listCacheGet","_listCacheGet","listCacheHas","_listCacheHas","listCacheSet","_listCacheSet","ListCache","_ListCache","Map$1","_Map","mapCacheClear","_mapCacheClear","isKeyable","_isKeyable","getMapData","_getMapData","mapCacheDelete","_mapCacheDelete","mapCacheGet","_mapCacheGet","mapCacheHas","_mapCacheHas","mapCacheSet","_mapCacheSet","MapCache","_MapCache","FUNC_ERROR_TEXT","memoized","Cache","memoize_1","MAX_MEMOIZE_SIZE","memoizeCapped","_memoizeCapped","rePropName","reEscapeChar","stringToPath","quote","subString","_stringToPath","arrayMap","iteratee","_arrayMap","INFINITY$1","symbolProto","symbolToString","baseToString","_baseToString","toString$1","toString_1","castPath","_castPath","INFINITY","toKey","_toKey","baseGet","_baseGet","defaultValue","get_1","_defineProperty","baseAssignValue","_baseAssignValue","objectProto","assignValue","objValue","_assignValue","reIsUint","isIndex","_isIndex","baseSet","customizer","nested","newValue","_baseSet","set_1","_copyArray","toPath","toPath_1","define$2","field","bindingEvent","allowBinding","allowSetting","allowGetting","settingEvent","settingTriggersEvent","triggerFnName","immutableKeys","updateStyle","beforeGet","beforeSet","onSet","canSet","dataImpl","isPathLike","valid","change","_valid","_ele","on","removeData","triggerEvent","removeDataImpl","names","i_a","l_a","_i_a","_l_a","_privateFields","_keys","_key","validKeyToDelete","define$1","eventAliasesOn","proto","listen","unlisten","unbind","removeListener","pon","promiseOn","events","selector","offArgs","onArgs","elesfn$i","elesfn$h","_classes","changed","classesSet","eleClasses","changedEle","eleHasClass","addClass","toggleClass","hasClass","className","toggle","toggleUndefd","il","changedNow","removeClass","flashClass","classNames","tokens","metaChar","comparatorOp","boolOp","meta","separator","descendant","subject","directedEdge","undirectedEdge","variable","ops","op","newQuery","checks","Type","GROUP","COLLECTION","FILTER","DATA_COMPARE","DATA_EXIST","DATA_BOOL","META_COMPARE","STATE","ID","CLASS","UNDIRECTED_EDGE","DIRECTED_EDGE","NODE_SOURCE","NODE_TARGET","NODE_NEIGHBOR","CHILD","DESCENDANT","PARENT","ANCESTOR","COMPOUND_SPLIT","TRUE","stateSelectors","matches","visible","isChildless","isChild","isOrphan","isSimple","lookup","selToFn","stateSelectorMatches","sel","stateSelectorRegex","cleanMetaChars","$1","replaceLastQuery","examiningQuery","replacementQuery","exprs","query","regex","populate","_ref2","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","valueIsString","operator","_ref13","_ref14","_ref15","_ref16","currentSubject","compoundCount","lastQ","nextQuery","edgeQuery","srcTgtQ","_source","_target","nhoodQ","neighbor","parentChildQuery","compound","_child","_parent","_parent2","_child2","pcQChecks","ancChQuery","ancestor","_descendant","_ancestor","_ancestor2","_descendant2","adQChecks","modifier","topQ","topChk","topType","regexObj","consumeExpr","remaining","expr","consumed","consumeWhitespace","parse","inputText","currentQuery","exprInfo","toStringCache","clean","cleanVal","space","checkToString","check","_operator","_field","_field2","_operator2","_field3","queryToString","lhs","sub","rhs","reduce","chk","parse$1","valCmp","fieldVal","isFieldStr","isFieldNum","isValStr","fieldStr","valStr","caseInsensitive","notExpr","isIneqCmp","boolCmp","existCmp","data$1","matches$1","every","stateSelector","qA","qB","incomers","ancestors","descendants","selectorFunction","text","matching","Selector","addQuery","invalid","selfn","sameText","otherSel","elesfn$g","allAre","selObj","is","thisLength","collectionLength","anySame","allAreNeighbors","nhood","allAreNeighbours","equal","equals","arg1","arg2","arg3","arg4","selectorOrEles","tch","ch","cacheHit","elesfn$f","parents","nonempty","commonAncestors","orphans","stdFilter","nonorphans","eleChildren","siblings","elements","forEachCompound","includeSelf","recursiveStep","did","hasCompounds","hasCompoundNodes","addChildren","forEachDown","addParent","forEachUp","addParentAndChildren","forEachUpAndDown","fn$5","elesfn$e","removeScratch","removeRscratch","removeAttr","elesfn$d","defineDegreeFunction","includeLoops","defineDegreeBoundsFunction","degreeFn","minDegree","minIndegree","minOutdegree","totalDegree","fn$4","elesfn$c","beforePositionSet","newPos","silent","oldPos","dirtyBoundingBoxCache","positionDef","validKeys","updateCompoundBounds","dirtyCompoundBoundsCache","silentPosition","_fn","startBatch","_pos","endBatch","silentPositions","silentShift","setting","relativePosition","ppos","_ele2","hasParent","relativeToParent","origin","_hasParent","_relativeToParent","_origin","modelPosition","modelPositions","renderedPoint","relativePoint","fn$3","elesfn$b","renderedBoundingBox","emitAndNotify","force","batching","update","pstyle","pfValue","includeOverlays","useCache","computeBiasValues","propDiff","propBias","propBiasComplement","biasDiff","biasComplementDiff","biasTotal","computePaddingValues","paddingObject","relativeTo","units","leftVal","rightVal","topVal","bottomVal","widthBiasDiffs","diffLeft","diffRight","heightBiasDiffs","diffTop","diffBottom","noninf","updateBoundsFromBox","b2","prefixedProperty","updateBoundsFromArrow","headless","halfArW","arrowWidth","arrowType","srcX","srcY","tgtX","tgtY","midX","midY","bbs","updateBoundsFromLabel","prefixDash","label","strValue","halign","valign","labelX","labelY","marginX","marginY","rotation","outlineWidth","borderWidth","halfBorderWidth","marginOfError","lh","lw","lw_2","lh_2","bbPrefix","isAutorotate","isPfValue","theta","xo","yo","rotate","px1y1","px1y2","px2y1","px2y2","bbPrefixRot","bbRot","boundingBoxImpl","ex1","ex2","ey1","ey2","manualExpansion","isDisplayed","displayed","overlayOpacity","overlayPadding","underlayOpacity","underlayPadding","includeUnderlays","wHalf","includeEdges","curveStyle","hpts","haystackPts","_temp","pts","bezierPts","linePts","n1pos","n2pos","_temp2","_temp3","ghost","gx","gy","bbBody","bbOverlay","bbLabels","includeMainLabels","includeSourceLabels","includeTargetLabels","getKey","tf","incudeNodes","getBoundingBoxPosKey","cachedBoundingBoxImpl","defBbOptsKey","usingDefOpts","currPosKey","isPosKeySame","bbCachePosKey","isDirty","styleDirty","needRecalc","recalculateRenderedStyle","defBbOpts","mainRot","sourceRot","targetRot","filledBbOpts","boundingBoxAt","storeOldPos","bbAtOldPos","getOldPos","boundingbox","renderedBoundingbox","fn$2","elesfn$a","defineDimFns","uppercaseName","autoName","labelName","outerName","uppercaseOuterName","dimImpl","outerDimImpl","border","renderedDimImpl","renderedOuterDimImpl","od","paddedHeight","paddedWidth","widthHeight","ifEdge","getValue","ifEdgeRenderedPosition","getPoint","ifEdgeRenderedPositions","getPoints","controlPoints","renderer","getControlPoints","segmentPoints","getSegmentPoints","sourceEndpoint","getSourceEndpoint","targetEndpoint","getTargetEndpoint","midpoint","getEdgeMidpoint","mult","renderedName","substr","edgePoints","spec","rName","Event","recycle","returnFalse","returnTrue","isImmediatePropagationStopped","isPropagationStopped","isDefaultPrevented","preventDefault","defaultPrevented","originalEvent","namespace","timeStamp","stopPropagation","stopImmediatePropagation","eventRegex","universalNamespace","defaults$8","qualifierCompare","q1","q2","eventMatches","addEventFields","callbackContext","context","beforeEmit","afterEmit","bubble","defaultsKeys","emptyOpts","Emitter","emitting","forEachEvent","handler","qualifier","conf","confOverrides","eventList","evt","makeEventObj","forEachEventObj","eventObj","listener","removeAllListeners","extraParams","manualCallback","numListenersBeforeEmit","_loop2","emitterOptions$1","selector1","selector2","once","onceCollection","argSelector$1","argSelector","arg","elesfn$9","emitter","argSel","elesfn$8","_filter","filterEles","include","toRemove","absoluteComplement","mutableElements","col1","col2","col1Smaller","colS","colL","xor","inOther","both","retEles","toAdd","spawnSelf","toAddEle","unmergeAt","unmergedLastEle","lastEleI","lastEle","lastEleId","unmergeOne","unmerge","toRmFn","mapFn","initialValue","valFn","maxEle","minEle","fn$1","union","or","relativeComplement","subtract","and","symmetricDifference","symdiff","fnFilter","filterFn","complement","abscomp","elesfn$7","zIndexSort","getDepth","zDepth","depthDiff","getEleDepth","eleDiff","zDiff","poolIndex","elesfn$6","thisSize","first","sortFn","sorted","sortByZIndex","srcDepth","tgtDepth","each","defineSymbolIterator","typeofUndef","isIteratorSupported","getLayoutDimensionOptions","elesfn$5","dims","takesUpSpace","bbDim","layoutEles","getMemoizeKey","fnMem","animations","calculateSpacing","spacing","nodesBb","spacingVector","useSpacingFactor","spacingFactor","spacingBb","getFinalPos","animateNode","animateFilter","easing","animationEasing","fitAni","zoomPanAni","makeLayout","createLayout","styleCache","cacheStyleFunction","cachedStyleFunction","cachePrototypeStyleFunction","selfFn","cachedPrototypeStyleFunction","elesfn$4","dirtyStyleCache","dirty","notifyRenderer","bEles","batchStyleEles","updatedEles","changedEles","cleanStyle","parsedStyle","includeNonDefault","overriddenStyle","getDefaultProperty","numericStyle","numericStyleUnits","renderedStyle","getRenderedStyle","updateTransitions","applyBypass","getStylePropertyValue","getRawStyle","removeStyle","removeAllBypasses","removeBypasses","show","hide","effectiveOpacity","parentOpacity","opacity","checkCompound","parentOk","defineDerivedStateFunction","specs","ok","edgeOkViaNode","eleTakesUpSpace","eleInteractive","parentInteractive","interactive","noninteractive","eleVisible","edgeVisibleViaNode","hidden","isBundledBezier","renderedCss","removeBypass","removeCss","elesfn$3","defineSwitchFunction","_handler","addlEvents","able","ableField","overrideAble","changedColl","defineSwitchSet","overrideField","autolock","autoungrabify","autounselectify","deselect","unselect","inactive","elesfn$2","defineDagExtremity","dagExtremityImpl","disqualified","noIncomingEdges","noOutgoingEdges","defineDagOneHop","oEles","defineDagAllHops","sEles","sElesIds","newNext","nid","clearTraversalCache","successors","predecessors","otherNode","closedNeighborhood","neighbourhood","closedNeighbourhood","openNeighbourhood","sourceImpl","targetImpl","sources","defineSourceFunction","targets","defineEdgesWithFunction","thisIsSrc","edgesWithImpl","otherNodes","edgeData","thisToOther","otherToThis","edgeConnectsThisAndOther","thisIsTgt","parallelEdges","defineParallelEdgesFunction","codirectedEdges","codirected","parallelEdgesImpl","edge1","edge1_p","src1","srcid1","tgtid1","srcEdges1","edge2","edge2data","tgtid2","srcid2","oppdirected","unvisited","visitInComponent","cmpt","componentsOf","Collection","unique","createdElements","elesIds","json","_data","_l","element$1","lazyMap","rebuildMap","elesfn$1","$id","_data2","newParentValSpecd","checkSwitch","trueFnName","falseFnName","obj_k","jsons","elesArr","addToPool","cy_p","removeFromElements","_data3","fields","fieldsLength","badSourceOrTarget","_data4","parentId","specifiedParent","selfAsParent","restored","_ele3","toUpdateStyle","inside","removeFromPool","elesToRemove","elesToRemoveIds","addConnectedEdges","alreadyAdded","removeEdgeRef","removeParallelRef","pllEdge","alteredParents","ids","removeChildRef","pid","_ele4","pllEdges","elesStillInside","_ele5","removedElements","_ele6","struct","modifyPool","srcExists","tgtExists","batch","_data5","parentExists","pidToAssign","updated","_data6","corefn$9","_jsons","elesByGroup","_jsons2","grs","elesArray","jl","_json","generateCubicBezier","mX1","mY1","mX2","mY2","NEWTON_ITERATIONS","NEWTON_MIN_SLOPE","SUBDIVISION_PRECISION","SUBDIVISION_MAX_ITERATIONS","kSplineTableSize","kSampleStepSize","float32ArraySupported","Float32Array","mSampleValues","aA1","aA2","calcBezier","aT","getSlope","newtonRaphsonIterate","aX","aGuessT","currentSlope","calcSampleValues","binarySubdivide","aA","aB","currentT","getTForX","intervalStart","currentSample","lastSample","guessForT","initialSlope","_precomputed","precompute","generateSpringRK4","springAccelerationForState","tension","friction","springEvaluateStateWithDerivative","initialState","dt","derivative","dv","springIntegrateState","dxdt","dvdt","springRK4Factory","initState","time_lapsed","DT","have_duration","last_state","percentComplete","cubicBezier","bezier","percent","easings","linear","spring","getEasedValue","easingFn","roundValue","ease","startProp","endProp","propSpec","easedArr","si","step$1","pEasing","startTime","easingImpl","easingVals","easingProp","startPos","endPos","endPan","animatingPan","endZoom","animatingZoom","minZoom","maxZoom","_name","easedVal","overrideBypass","startAnimation","stepAll","aniEles","doneEles","stepOne","ranAnis","callbacks","_callbacks","step","ranEleAni","handledThisEle","ranCoreAni","corefn$8","stopAnimationLoop","animationsRunning","startAnimationLoop","headlessStep","animationStep","beforeRender","rendererAnimationStep","willDraw","beforeRenderPriorities","emitterOptions","elesfn","corefn$7","png","jpg","bg","jpeg","corefn$6","extension","corefn$5","eventName","eventEles","batchNotifications","notificationsEnabled","destroyed","notifications","bool","noNotifications","batchCount","batchData","rendererDefaults","hideEdgesOnViewport","textureOnViewport","motionBlur","motionBlurOpacity","pixelRatio","desktopTapThreshold","touchTapThreshold","wheelSensitivity","debug","showFps","corefn$4","renderTo","pxRatio","forceRender","resize","invalidateSize","initRenderer","RendererProto","rOpts","destroyRenderer","domEle","container","_cyreg","childNodes","removeChild","onRender","offRender","invalidateDimensions","corefn$3","styfn$8","FALSE","ie","cxtMeta","getContextMeta","cxtStyle","getContextStyle","app","applyContextStyle","appliedInitStyle","diffProps","hintsDiff","updateStyleHints","getPropertiesDiff","oldCxtKey","newCxtKey","propDiffs","dualCxtKey","cachedVal","addedProp","cxt","oldHasCxt","newHasCxt","cxtHasDiffed","cxtHasMappedProps","mappedProperties","laterCxtOverrides","laterCxt","hasLaterCxt","cxtKey","prevKey","styleCxtKey","contextSelectorMatches","diffPropNames","cxtStyles","contextStyles","hasCxt","retDiffProps","types","diffPropName","cxtProp","eleProp","deleteBypassed","mapped","mapping","fnValue","prevFnValue","retDiffProp","applyParsedProperty","bypassed","propNames","propertyGroupNames","propGrKeys","propertyGroupKeys","propHash","seedKey","getPropertiesHash","oldStyleKey","styleKey","overriddenStyles","grKey","updateGrKey1","updateGrKey2","updateGrKey","updateGrKeyWStr","strVal","cleanNum","parsedProp","propInfo","_grKey","groupKey","normalizedNumberVal","hashOverride","numberVal","enums","haveNormNum","haveUnitedNum","haveNum","multiple","_grKey2","grHash","sk","labelDimsKey","labelDimensions","labelKeys","labelKey","labelStyleKey","commonLabel","sourceLabelKeys","sourceLabelKey","sourceLabelStyleKey","targetLabelKeys","targetLabelKey","targetLabelStyleKey","_p$styleKeys","nodeBody","nodeBorder","backgroundImage","pie","nodeKeys","nodeKey","hasPie","clearStyleHints","flatProp","propIsBypass","origProp","origPropIsBypass","flatPropMapping","getVal","checkTriggers","fromVal","toVal","deleteBypass","printMappingErr","mapData","fieldWidth","fieldMax","fieldMin","r1","valueMin","r2","valueMax","g1","g2","b1","a1","a2","clr","calcValue","_fields","_fieldVal","fnRetVal","cleanElements","keepBypasses","anyPrev","styProp","diffProp","prevProp","fromProp","toProp","initVal","initDt","transitioning","checkTrigger","fromValue","toValue","getTrigger","onTrigger","triggerCheck","checkZOrderTrigger","triggersZOrder","checkBoundsTrigger","triggersBounds","triggersBoundsOfParallelBeziers","styfn$7","isBypass","_parsedProp","specifiedProps","_name2","_value","_parsedProp2","_prop","isColor","isMulti","mutiple","oldValue","propertyNames","styfn$6","getEmSizeInPixels","containerCss","containerWindow","getComputedStyle","getPropertyValue","styfn$5","isRenderedVal","getIndexedStyle","subproperty","alias","pointsTo","styleProp","getRenderedValue","getValueStringWithUnits","isArrayValue","haveUnits","aniProps","aniProp","propsObj","getNonDefaultPropertiesHash","chVal","styfn$4","appendFromJson","fromJson","resetToDefault","defaultLength","styfn$3","appendFromString","selAndBlockStr","blockRem","propAndValStr","removeSelAndBlockFromRemaining","removePropAndValFromRem","nothingLeftToParse","selAndBlock","selectorStr","blockStr","invalidBlock","_nothingLeftToParse","propAndVal","propStr","fromString","styfn$2","hex3$1","hex6$1","mapArg","urlRegexes","implicitUnits","percentages","zeroOneNumber","unitless","zeroOneNumbers","nOneOneNumber","nonNegativeInt","nonNegativeNumber","nodeSize","numbers","positiveNumber","strictMin","bidirectionalSize","bidirectionalSizeMaybePercent","allowPercent","bidirectionalSizes","sizeMaybePercent","axisDirection","paddingRelativeTo","bgWH","bgPos","bgRelativeTo","bgRepeat","bgFit","bgCrossOrigin","bgClip","bgContainment","fill","bools","lineStyle","lineCap","borderStyle","fontFamily","fontStyle","fontWeight","textDecoration","textTransform","textWrap","textOverflowWrap","textBackgroundShape","nodeShape","overlayShape","compoundIncludeLabels","arrowShape","arrowFill","display","visibility","zCompoundDepth","zIndexCompare","justification","layoutData","mapLayoutData","mapScratch","url","regexes","singleRegexMatchValue","urls","propList","textRotation","polygonPointList","evenMultiple","edgeDistances","edgeEndpoint","singleEnum","validate","valArr","unitsArr","gradientDirection","boundsExpansion","zeroNonZero","val1","val2","any","emptyNonEmpty","str1","str2","empty1","empty2","mainLabel","sourceLabel","targetLabel","behavior","overlay","underlay","transition","nodeSizeHashOverride","edgeLine","pieBackgroundN","edgeArrow","arrowPrefixes","propGroups","propertyGroups","propGroupNames","propGroupKeys","aliases","pointsToProp","aliasProp","getDefaultProperties","defaultProperties","rawProps","parsedProps","addDefaultStylesheet","styfn$1","propIsFlat","parseImplWarn","flatKey","bypassKey","valueKey","argHash","propCache","parseImpl","passedValue","trim","_mapped","pfValArr","hasEnum","checkEnums","en","unitsRegex","strictMax","propsStr","propsSplit","tuple","enumProp","Style","coreStyle","styfn","ele_p","mapVal","cssRule","currentSelectorIsCore","append","appendToStyle","corefn$2","newStyle","setStyle","generateStyle","defaultSelectionType","corefn$1","selectionType","selType","panningEnabled","userPanningEnabled","zoomingEnabled","userZoomingEnabled","boxSelectionEnabled","arg0","viewportState","bbe","zoomRange","currentPan","currentZoom","bail","pan1","zoom1","zoom2","pan2","viewport","zoomDefd","panDefd","zoomFailed","panFailed","z","cancelOnFailedZoom","reset","sizeCache","clientWidth","clientHeight","extent","rb","renderedExtent","multiClickDebounceTime","_int","autolockNodes","autoungrabifyNodes","Core","reg","destroy","readies","head","defVal","def","altVal","loadExtData","extData","anyIsPromise","rendererOptions","setElesAndLayout","onload","ondone","oldEles","layoutOpts","thens","initStyle","initEles","corefn","isReady","isHeadless","ownerDocument","defaultView","mount","unmount","getFreshRef","idInJson","updateEles","gr","toMod","_toMod$_i","parentsToRemove","flat","defaults$7","circle","avoidOverlap","depthSort","deprecatedOptionDefaults","maximal","acyclic","setInfo","BreadthFirstLayout","maximalAdjustments","rootsArray","comp","compRoots","depths","foundByBfs","addToDepth","changeDepth","newDepth","orphanNodes","assignDepthsAt","assignDepths","adjustMaximally","shifted","eInfo","maxDepth","incmr","iInfo","enqueue","dequeue","didShift","minDistance","nbb","cachedWeightedPercent","getWeightedPercent","eleDepth","samples","bf","nDepth","apct","bpct","orphanDepth","biggestDepthSize","maxDepthSize","getPosition","_getInfo2","depthSize","distanceX","distanceY","radiusStepSize","epos","defaults$6","sweep","clockwise","CircleLayout","counterclockwise","dTheta","dcos","dsin","rMin","getPos","rx","ry","defaults$5","equidistant","minNodeSpacing","concentric","levelWidth","ConcentricLayout","nodeValues","maxNodeSize","levels","currentLevel","minDist","firstLvlHasMulti","maxR","rStep","rDeltaMax","_r","_level","rDelta","_level2","_level3","_dTheta","_r2","_val","DEBUG","defaults$4","animationThreshold","componentSpacing","nodeOverlap","initialTemp","minTemp","CoseLayout","notEdges","hasSource","hasTarget","layoutInfo","createLayoutInfo","printLayoutInfo","randomizePositions","refreshPositions","mainLoop","temperature","getScaledPos","getScaleInBoundsFn","loopRet","frame","separateComponents","thread","isCompound","layoutNodes","idToIndex","graphSet","indexToGraph","layoutEdges","edgeSize","id2cmptId","tempNode","isLocked","cmptId","positionX","positionY","padLeft","padRight","padTop","padBottom","tempGraph","node_id","node_ix","tempEdge","idealLength","elasticity","sourceIx","targetIx","sourceGraph","targetGraph","lca","findLCA","lcaGraph","findLCA_aux","count","graphIx","nodeIx","childGraphIx","coseBB","pctX","pctY","_step","calculateNodeForces","calculateEdgeForces","calculateGravityForces","propagateForces","updatePositions","randomDistance","cmptId1","cmptId2","directionX","directionY","maxRandDist","overlap","nodesOverlap","forceX","forceY","point1","findClippingPoint","point2","distanceSqr","overlapX","overlapY","X","Y","H","W","dirSlope","nodeSlope","lx","ly","distThreshold","fx","fy","nodeIndex","offX","offY","childNode","tempForce","limitForce","updateAncestryBoundaries","flag","cid","totalA","usedW","rowH","maxRowW","defaults$3","avoidOverlapPadding","condense","cols","GridLayout","cells","splits","small","large","oRows","oCols","columns","sm","lg","_sm","_lg","cellWidth","cellHeight","cellUsed","used","use","moveToNextCell","id2manPos","rcPos","defaults$2","NullLayout","defaults$1","PresetLayout","posIsFn","RandomLayout","NullRenderer","throwImgErr","BRp$f","arrowShapeWidth","registerArrowShapes","arrowShapes","bbCollide","translation","edgeWidth","xRotated","yRotated","xScaled","yScaled","xTranslated","yTranslated","transformPoints","retPts","pointsToArr","standardGap","defineArrowShape","defn","collide","roughCollide","draw","arrowShapeImpl","gap","controlPoint","ptsTrans","ctrlPt","ctrlPtTrans","pointsTee","triPts","teePts","pointsTr","circleInside","getArrowWidth","baseCrossLinePts","crossLinePts","shiftFactor","y0","BRp$e","projectIntoViewport","clientX","clientY","offsets","findContainerClientCoords","offsetLeft","offsetTop","scale","containerBB","getBoundingClientRect","styleValue","paddingHor","paddingVer","borderHor","unscaledW","unscaledH","invalidateContainerClientCoordsCache","findNearestElement","interactiveElementsOnly","isTouch","findNearestElements","getCachedZSortedEles","near","edgeThreshold","nodeThreshold","labelThreshold","minSqDist","nearEdge","nearNode","addEle","sqDist","checkNode","hw","hh","shape","nodeShapes","getNodeShape","checkPoint","checkEdge","rs","styleWidth","widthSq","width2","edgeType","allpts","arSize","arrows","arrowStartX","arrowStartY","srcArrowAngle","arrowEndX","arrowEndY","tgtArrowAngle","midsrcArrowAngle","midtgtArrowAngle","ar","preprop","pre","checkLabel","th","eventsEnabled","ox","oy","getAllInBox","box","x1c","x2c","y1c","y2c","boxBb","nodeBb","endX","endY","allInside","BRp$d","calculateArrowAngles","isHaystack","isBezier","isMultibezier","isSegments","isSelf","segpts","bX","bY","i2","i1","i3","cpts","ctrlpts","bp0x","bp0y","bp1x","bp1y","ic","midDispX","midDispY","getArrowHeight","arrowWidthCache","BRp$c","findMidptPtsEtc","pairInfo","posPts","intersectionPts","vectorNormInverse","midptPts","srcManEndpt","tgtManEndpt","haveManualEndPts","recalcVectorNormInverse","_this$manualEndptToPx","manualEndptToPx","_this$manualEndptToPx2","_this$manualEndptToPx3","_this$manualEndptToPx4","endPts","findHaystackPoints","haystack","srcPos","tgtPos","srcW","tgtW","srcH","tgtH","halfRadius","storeEdgeProjections","recalculateEdgeLabelProjections","calculateLabelAngles","findSegmentsPoints","segmentWs","segmentDs","segmentsN","w1","w2","_this$findMidptPtsEtc","adjustedMidpt","findLoopPoints","edgeIsUnbundled","dirCounts","ctrlptDists","ctrlptDist","loopDir","loopSwp","stepSize","loopDist","loopAngle","outAngle","inAngle","String","findCompoundLoopPoints","loopW","loopaPos","loopbPos","loopPos","minCompoundStretch","compoundStretchA","compoundStretchB","findStraightEdgePoints","findBezierPoints","edgeIsSwapped","ctrlptWs","bezierN","ctrlptWeight","multi","normctrlptDist","manctrlptDist","distanceFromMidpoint","_this$findMidptPtsEtc2","findTaxiPoints","VERTICAL","HORIZONTAL","LEFTWARD","RIGHTWARD","DOWNWARD","UPWARD","AUTO","dIncludesNodeBody","taxiDir","rawTaxiDir","taxiTurn","turnIsPercent","taxiTurnPfVal","turnIsNegative","minD","dw","dh","pdx","pdy","subDWH","dxy","dwh","isExplicitDir","isVert","pl","sgnL","forcedDir","getIsTooClose","isTooCloseSrc","isTooCloseTgt","isTooClose","lShapeInsideSrc","lShapeInsideTgt","_lShapeInsideSrc","_lShapeInsideTgt","_y","_x","_x2","_x3","_y2","_y3","_y4","_x4","_x5","_x6","_y5","_y6","tryToCorrectInvalidPoints","srcShape","tgtShape","badStart","badAStart","badEnd","badAEnd","minCpADistFactor","arrowW","minCpADist","startACpDist","closeStartACp","endACpDist","closeEndACp","overlapping","cpD","cpL","cpM","cpProj","srcCtrlPtIntn","intersectLine","_cpD","_cpL","_cpM","_radius","_cpProj","tgtCtrlPtIntn","findEndpoints","storeAllpts","mt","checkForInvalidEdgeWarning","loggedErr","findEdgeControlPoints","hashTable","pairId","map2","pairIds","haystackEdges","edgeIsBezier","srcIndex","tgtIndex","tableEntry","hasUnbundled","hasBezier","swappedpairInfo","firstEdge","_curveStyle","_edgeIsUnbundled","calculatedIntersection","srcOutside","srcIntn","tgtOutside","tgtIntn","vector","vectorNorm","passedPairInfo","getPts","BRp$b","npos","tgtArShape","srcArShape","et","taxi","segments","hasEndpts","overrideEndpts","srcManEndptVal","tgtManEndptVal","p1_i","p2_i","cpStart","cpEnd","srcArrowFromPt","tgtArrowFromPt","trs","lw2","lh2","va","ha","labelIntersect","refPt","intSqdist","labIntSqdist","labInt2SqDist","arrowEnd","edgeEnd","srs","_lw","_lh","_lx","_ly","_lw2","_lh2","_va","_ha","_labelIntersect","_refPt","_intSqdist","_labIntSqdist","_minSqDist","_labInt2SqDist","arrowStart","edgeStart","badLine","BRp$a","pushBezierPts","qbezierAt$1","p3","bpts","bezierProjPcts","lpts","recalculateEdgeProjections","BRp$9","recalculateNodeLabelProjection","content","textX","textY","nodeWidth","nodeHeight","nodePos","textHalign","textValign","applyLabelDimensions","lineAngleFromDelta","lineAngle","bezierAngle","t0","lp0","lp1","setRs","midAngle","createControlPointInfo","startDist","nProjs","addSegment","cp","prevSegment","segment","prevCp","calculateEndProjection","isSrc","cps","totalDist","_cp","_seg","lastSeg","seg","tSegment","segDt","di","d0","pD","_t","applyPrefixedLabelDimensions","getLabelText","labelDims","calculateLabelDimensions","lineHeight","numLines","normPerLineHeight","labelLineHeight","pfd","wrapStyle","zwsp","maxW","overflow","overflowAny","wrappedLines","wordsRegex","wordSeparator","lineDims","lineW","processedLine","words","subline","word","testLine","testDims","testW","_maxW","ellipsized","ellipsis","incLastCh","widthWithNextCh","getLabelJustification","cacheKey","labelDimCache","existingVal","fStyle","family","canvas","labelCalcCanvas","c2d","labelCalcCanvasContext","createElement","getContext","ds","zIndex","pointerEvents","font","metrics","measureText","calculateLabelAngle","rot","rotStr","labelAutoAngle","labelAngle","sourceLabelAngle","targetLabelAngle","BRp$8","TOO_SMALL_CUT_RECT","warnedCutRect","makePolygon","BRp$7","registerCalculationListeners","elesToUpdate","dirtyStyleCaches","cleanConnected","binder","onDirtyBounds","onDirtyStyle","updateEleCalcs","fns","onUpdateEleCalcsFns","flushRenderedStyleQueue","eleCalcs","onUpdateEleCalcs","isCleanConnected","_p2","_rstyle","nodeW","nodeH","_p3","_rstyle2","BRp$6","updateCachedGrabbedEles","cachedZSortedEles","drag","nondrag","grabTargets","inDragLayer","invalidateCachedZSortedEles","forceRecalc","BRp$5","BRp$4","getCachedImage","crossOrigin","onLoad","imageCache","image","addEventListener","Image","dataUriPrefix","isDataUri","BRp$3","registerBinding","useCapture","tgtIsDom","body","supportsPassiveEvents","supportsPassive","capture","passive","bindings","nodeIsDraggable","nodeIsGrabbable","load","isSelected","triggerEvents","isMultSelKeyDown","shiftKey","metaKey","ctrlKey","allowPanningPassthrough","down","downs","allowPassthrough","setGrabbed","setFreed","setInDragLayer","setOutDragLayer","setGrabTarget","isGrabTarget","removeGrabTarget","addToDragList","list","addToList","listHasEle","addDescendantsToDrag","innerNodes","addNodesToDrag","updateAncestorsInDragLayer","addNodeToDrag","freeDraggedElements","grabbedEles","blurActiveDomElement","activeElement","blur","haveMutationsApi","MutationObserver","haveResizeObserverApi","ResizeObserver","removeObserver","mutns","mutn","rNodes","removedNodes","rNode","parentNode","observe","childList","onResize","styleObserver","resizeObserver","invalidateCoords","inBoxSelection","selection","eventInContainer","containerPageCoords","touches","atLeastOnePosInside","tParent","containerIsTarget","mousedownHandler","hoverData","which","gpos","select","nears","draggedElements","dragData","possibleDragElements","mdownPos","mdownGPos","checkForTaphold","tapholdCancelled","tapholdTimeout","tapholdDuration","cxtStarted","cxtEvt","activate","downTime","getTime","cxtDragged","makeEvent","triggerGrab","selectedNodes","redrawHint","bgActivePosistion","redraw","mousemoveHandler","draggingEles","dragging","selecting","isOverThresholdDrag","dx2","dy2","dist2","desktopTapThreshold2","multSelKeyDown","updateDragDelta","dragDelta","goIntoBoxMode","cxtOver","deltaP","justStartedPan","mdPos","dragged","unactivate","didDrag","justStartedDrag","totalShift","clickTimeout","didDoubleClick","prevClickTimeStamp","mouseupHandler","cxtTap","eleWouldBeSelected","downWasGrabbed","wheelHandler","scrollingPage","wheelZooming","wheelTimeout","deltaY","wheelDeltaY","wheelDelta","needsWheelFix","deltaMode","newZoom","gestureStartZoom","scrollHandler","scrollingPageTimeout","gestureStartHandler","hasTouchStarted","mouseOutHandler","mouseOverHandler","f1x1","f1y1","f2x1","f2y1","distance1","distance1Sq","center1","modelCenter1","containerWidth","containerHeight","twoFingersStartInside","distanceSq","touchstartHandler","touchData","earlier","singleTouchMoved","touchDragEles","cxtDistThreshold","cxtDistThresholdSq","near1","near2","starts","draggedEles","singleTouchStartTime","pinching","sPos","touch0","startGPosition","touchmoveHandler","startGPos","touchTapThreshold2","f1x2","f1y2","f2x2","f2y2","distance2Sq","factorSq","distThresholdSq","factorThreshold","factorThresholdSq","lastThreeTouch","didSelect","de_p","_start","distance2","factor","df1x","df1y","df2x","df2y","tx","ty","ctrx","ctry","swipePanning","touchcancelHandler","touchendHandler","didDoubleTouch","touchTimeout","prevTouchTimeStamp","ctxTapend","ctxTap","startWasGrabbed","rdist2","TouchEvent","pointers","makeTouch","identifier","pointerId","pageX","pageY","radiusX","radiusY","screenX","screenY","makePointer","touch","addPointer","removePointer","updatePointer","addTouchesToEvent","pointerIsMouse","pointerType","BRp$2","generatePolygon","nodeShapeImpl","generateEllipse","generateRoundPolygon","allPoints","sourceIndex","destIndex","xDest","yDest","norm","generateRoundRectangle","diam","generateCutRectangle","cornerLength","generateCutTrianglePts","cl","xBegin","xEnd","yBegin","yEnd","topLeft","topRight","bottomLeft","cPts","cutTrianglePts","generateBarrel","bPts","generateBarrelBezierPts","approximateBarrelCurvePts","m0","m1","m2","curveConstants","hOffset","wOffset","ctrlPtXOffset","isTop","isBottom","barrelCurvePts","getCurveT","curvePts","x0","xMin","xMax","yMin","yMax","coeff","validRoots","curveRegions","corner","cornerPts","bezY","generateBottomRoundrectangle","topIntersections","registerNodeShapes","diamondPoints","star5Points","outerPoints","innerPoints","innerRadius","tagPoints","BRp$1","timeToRender","redrawTotalTime","redrawCount","averageRedrawTime","lastRedrawTime","lastDrawTime","requestedFrame","renderOptions","priority","cbs","beforeRenderCallbacks","startRenderLoop","renderLoopStarted","renderFn","requestTime","skipFrame","render","endTime","BaseRenderer","BR","BRp","clientFunctions","ctr","stylesheetId","stylesheetAlreadyExists","textContent","insertBefore","computedStyle","triggerMode","initialPan","redraws","motionBlurEnabled","forcedPixelRatio","motionBlurTransparency","motionBlurPxRatio","mbPxRBlurry","minMbLowQualFrames","fullQualityMb","clearedForMotionBlur","eleTxrDeq","lyrTxrDeq","lyrTxrSkip","matchCanvasSize","binding","removeEventListener","disconnect","labelCalcDiv","fullFpsTime","defs","setupDequeueing","setupDequeueingImpl","dequeueingSetup","queueRedraw","deqRedrawThreshold","frameStartTime","avgRenderTime","renderTime","deqd","getPixelRatio","frameDuration","timeAvailable","deqFastCost","deqCost","deqAvgCost","deqNoDrawCost","thisDeqd","deq","onDeqd","shouldRedraw","ElementTextureCacheLookup","doesEleInvalidateKey","idsByKey","keyForId","cachesByLvl","lvls","getIdsFor","addIdForKey","deleteIdForKey","getNumberOfIdsForKey","updateKeyMappingFor","currKey","deleteKeyMappingFor","keyHasChangedFor","newKey","isInvalid","getCachesAt","lvl","caches","getCache","getForCachedKey","hasCache","setCache","deleteCache","invalidateKey","invalidate","entireKeyInvalidated","minTxrH","txrStepH","minLvl$1","maxLvl$1","maxZoom$1","eleTxrSpacing","defTxrWidth","maxTxrW","maxTxrH","minUtility","maxFullness","maxFullnessChecks","deqCost$1","deqAvgCost$1","deqNoDrawCost$1","deqFastCost$1","deqRedrawThreshold$1","maxDeqSize$1","getTxrReasons","downscale","highQuality","initDefaults","drawElement","getBoundingBox","getRotationPoint","getRotationOffset","isVisible","allowEdgeTxrCaching","allowParentTxrCaching","ElementTextureCache","initOptions","onDequeues","ETCp","reasons","getTextureQueue","txrH","eleImgCaches","getRetiredTextureQueue","rtxtrQs","retired","rtxtrQ","getElementQueue","eleCacheQueue","reqs","getElementKeyToQueue","k2q","eleKeyToCacheQueue","getElement","reason","eleScaledH","eleScaledW","scaledLabelShown","eleTextBiggerThanMin","eleCache","invalidated","texture","invalidatedWidth","txrQ","txr","addNewTxr","recycleTexture","addTexture","usedWidth","scalableFrom","otherCache","deqing","highQualityReq","downscaleReq","higherCache","oneUpCache","drawImage","setTransform","clearRect","queueElement","lowerCache","_l2","translate","eleCaches","checkTextureFullness","invalidateElements","invalidateElement","noOtherElesUseCache","_cache","checkTextureUtility","removeFromQueue","retireTexture","fullnessChecks","minW","makeOffscreenCanvas","existingReq","req","dequeued","cacheExists","onDequeue","offDequeue","defNumLayers","minLvl","maxLvl","refineEleDebounceTime","maxDeqSize","invalidThreshold","maxLayerArea","useHighQualityEleTxrReqs","LayeredTextureCache","layersByLevel","firstGet","lastInvalidationTime","skipping","eleTxrDeqs","scheduleElementRefinement","refineElementTextures","qSort","layersQueue","LTCp","layerIdPool","MAX_INT","makeLayer","layer","elesQueue","getLayers","validateLayersElesOrdering","layersByLvl","layers","lvlComplete","levelIsComplete","tmpLayers","checkTempLevels","canUseAsTmpLvl","checkLvls","dir","getBb","after","area","maxElesPerLayer","allowLazyQueueing","imgLayerCaches","existingLayer","queueLayer","drawEleInLayer","getEleLevelForLayerLevel","setImgSmoothing","drawCachedElement","numElesInLayers","invalidateLayer","updateElementsInLayers","haveLayers","invalAssocLayers","replacement","refineEachEle","rLyr","replaces","enqueueElementRefinement","elesQ","hasId","eleDeqs","applyLayerReplacement","requestRedraw","layersInLevel","replaced","CRp$a","polygon","lineTo","triangleBackcurve","firstPt","quadraticCurveTo","triangleTee","trianglePoints","teePoints","beginPath","firstTeePt","moveTo","closePath","circleTriangle","arc","firstTrPt","CRp$9","shiftToOriginWithBb","showLabel","showOverlay","showOpacity","drawNode","drawEdge","drawElementOverlay","drawNodeOverlay","drawEdgeOverlay","drawElementUnderlay","drawNodeUnderlay","drawEdgeUnderlay","drawCachedElementPortion","eleTxrCache","getRotation","getOpacity","smooth","rotPt","getImgSmoothing","oldGlobalAlpha","globalAlpha","getZeroRotation","getLabelRotation","getTextAngle","getSourceLabelRotation","getTargetLabelRotation","getTextOpacity","requestHighQuality","_r$data","lblTxrCache","slbTxrCache","tlbTxrCache","drawElements","drawCachedElements","drawCachedNodes","drawLayeredElements","lyrTxrCache","CRp$8","drawLabel","shouldDrawOverlay","shouldDrawOpacity","lineOpacity","effectiveLineOpacity","effectiveArrowOpacity","drawLine","strokeOpacity","eleStrokeStyle","drawEdgeTrianglePath","lineWidth","drawEdgePath","drawOverlay","drawUnderlay","drawArrows","arrowOpacity","drawArrowheads","drawText","drawElementText","lineJoin","ghostOpacity","effectiveGhostOpacity","drawEdgeOverlayUnderlay","overlayOrUnderlay","includes","usePaths","colorStrokeStyle","canvasCxt","pathCacheHit","lineDashPattern","lineDashOffset","pathCacheKey","keyMatches","pathCache","Path2D","setLineDash","stroke","fillStyle","strokeStyle","normal","triangleHead","drawArrowhead","arrowClearFill","edgeOpacity","gco","globalCompositeOperation","colorFillStyle","drawArrowShape","canvasContext","shapeImpl","arrowPathCache","cachedPath","matchEdgeWidth","CRp$7","safeDrawImage","img","ix","iy","iw","ih","drawInscribedImage","nodeOpacity","styleObj","repeat","paddingX2","nodeTW","nodeTH","clip","shouldClip","imgOpacity","imgW","cachedW","imgH","cachedH","appendChild","offsetWidth","offsetHeight","posXUnits","posXPfVal","offXUnits","offXPfVal","posYUnits","posYPfVal","offYUnits","offYPfVal","gAlpha","smoothingEnabled","isSmoothingSwitched","save","createPattern","CRp$6","computedSize","minSize","useEleOpacity","textAlign","textBaseline","_label","srcLabel","tgtLabel","applyRotation","getFontCache","fontCaches","setupTextStyle","labelStyle","labelSize","labelFamily","labelWeight","outlineOpacity","outlineColor","roundRect","ctx","pdash","textAngle","orgTextX","orgTextY","textW","textH","backgroundOpacity","borderOpacity","textBorderWidth","backgroundPadding","bgX","bgY","bgW","bgH","textFill","textBackgroundColor","styleShape","fillRect","textStroke","textLineWidth","textBorderColor","textBorderStyle","strokeRect","whiteWidth","halfTextW","strokeText","fillText","CRp$5","eleOpacity","bgImgProp","urlDefined","numImages","defd","bgImgCrossOrigin","backgroundTimestamp","darkness","bgOpacity","borderColor","setupShapeColor","bgOpy","eleFillStyle","setupBorderColor","bdrOpy","shapePts","nodePathCache","drawShape","drawImages","prevBging","totalCompleted","drawPie","redrawShape","pieOpacity","darken","darkenOpacity","drawBorder","effGhostOpacity","drawNodeOverlayUnderlay","cyStyle","pieSize","lastPercent","angleStart","angleDelta","angleEnd","CRp$4","motionBlurDelay","contexts","backingStore","backingStorePixelRatio","webkitBackingStorePixelRatio","mozBackingStorePixelRatio","msBackingStorePixelRatio","oBackingStorePixelRatio","devicePixelRatio","paintCache","paintCaches","needToCreateCache","createGradientStyleFor","shapeStyleName","gradientStyle","createRadialGradient","_end","createLinearGradient","_width","_height","hasPositions","addColorStop","gradientFillStyle","backgroundFill","backgroundColor","gradientStrokeStyle","lineFill","lineColor","mbPxRatio","bufferCanvases","MOTIONBLUR_BUFFER_NODE","MOTIONBLUR_BUFFER_DRAG","canvasWidth","canvasHeight","canvasContainer","CANVAS_LAYERS","canvases","BUFFER_COUNT","textureMult","TEXTURE_BUFFER","forcedContext","forcedZoom","forcedPan","drawAllLayers","forcedPxRatio","drawOnlyNodeLayer","needDraw","canvasNeedsRedraw","textureDraw","inNodeDragGesture","motionBlurFadeEffect","prevPxRatio","motionBlurTimeout","mbFrames","clearingMotionBlur","textureDrawLastFrame","NODE","SELECT_BOX","effectiveZoom","effectivePan","prevVp","prevViewport","viewportIsDiff","mbclear","setContextTransform","ePan","eZoom","bufferContexts","textureCache","mpan","DRAG","outsideBgColor","outsideBgOpacity","vpManip","hideEdges","needMbClear","useBuffer","drawDebugPoints","fps","maxFps","cxtNode","txtNode","cxtDrag","txtDrag","drawMotionBlur","txt","needClear","pxr","motionBlurCleared","CRp$3","drawPolygonPath","drawRoundPolygonPath","arcTo","drawRoundRectanglePath","drawBottomRoundRectanglePath","drawCutRectanglePath","drawBarrelPath","barrelCurveConstants","sin0","cos0","ellipseStepSize","drawEllipsePath","ellipse","xPos","yPos","rw","rh","CRp$2","createBuffer","buffer","bufferCanvasImage","ctrRect","full","specdMaxDims","maxWidth","maxScaleW","maxScaleH","buffCanvas","buffCxt","zsortedEles","b64ToBlob","b64","mimeType","bytes","atob","buff","ArrayBuffer","buffUint8","Uint8Array","Blob","b64UriToB64","b64uri","output","getB64Uri","toDataURL","toBlob","blob","CRp$1","CR","CanvasRenderer","CRp","tapHlOffAttr","tapHlOffStyle","containerStyle","styleMap","setAttribute","topCanvas","pathsEnabled","emptyBb","getBoxCenter","getCenterOffset","backgroundTimestampHasChanged","oldBackgroundTimestamp","getStyleKey","getLabelKey","getSourceLabelKey","getTargetLabelKey","drawSourceLabel","drawTargetLabel","getElementBox","getLabelBox","getSourceLabelBox","getTargetLabelBox","isLabelVisibleAtScale","getElementRotationPoint","addTextMargin","getRsPt","getLabelRotationPoint","getSourceLabelRotationPoint","getTargetLabelRotationPoint","getElementRotationOffset","getSourceLabelRotationOffset","getTargetLabelRotationOffset","getLabelRotationOffset","invalidateTextureCaches","refineInLayers","pathsImpld","path2dEnabled","imageSmoothingEnabled","webkitImageSmoothingEnabled","mozImageSmoothingEnabled","msImageSmoothingEnabled","OffscreenCanvas","incExts","extensions","setExtension","registrant","ext","overrideErr","layoutProto","optLayoutFns","fnName","regStop","getCy","emitterOpts","getExtension","bProto","RegistrantRenderer","rProto","Renderer","pName","pVal","existsInR","_pName","setModule","moduleType","moduleName","getModule","Stylesheet","sheetfn","version","DEFAULT_ANIMATION_ON_LAYOUT","DEFAULT_ANIMATION_DURING_LAYOUT","DEFAULT_ANIMATION_PERIOD","DEFAULT_UNIFORM_LEAF_NODE_SIZES","DEFAULT_GRAPH_MARGIN","SIMPLE_NODE_SIZE","SIMPLE_NODE_HALF_SIZE","EMPTY_COMPOUND_NODE_SIZE","MIN_EDGE_LENGTH","WORLD_BOUNDARY","INITIAL_WORLD_BOUNDARY","LGraphObject","LEdge","isOverlapingSourceAndTarget","vGraphObject","bendpoints","getLength","getLca","getSourceInLca","sourceInLca","getTargetInLca","targetInLca","getOtherEndInGraph","otherEnd","updateLength","clipPointCoordinates","getIntersection","lengthX","lengthY","updateLengthSimple","RectangleD","RandomSeed","LNode","estimatedSize","inclusionTreeDepth","owner","setWidth","setHeight","getCenter","getLocation","getHalfTheDiagonal","setRect","upperLeft","dimension","setLocation","getNeighborsList","withChildren","withNeighborsList","getNoOfChildren","getEstimatedSize","scatter","randomCenterX","randomCenterY","nextDouble","getLeft","getTop","getRight","getBottom","getInclusionTreeDepth","trans","leftTop","vLeftTop","getX","getY","setX","setY","getDifference","getCopy","LinkedList","obj2","margin","obj1","edgesToBeRemoved","targetIndex","updateLeftTop","nodeTop","nodeLeft","recursive","nodeRight","nodeBottom","boundingRect","childrenOfNode","neighborEdge","childrenOfNeighbor","noOfVisitedInThisGraph","visitedNode","ngraph","nnode","setRootGraph","rootGraph","lObj","nodesToBeRemoved","allEdges","allNodesToApplyGravitation","getAllNodesToApplyGravitation","isOneAncestorOfOther","firstNode","secondNode","ownerGraph","sourceAncestorGraph","targetAncestorGraph","calcLowestCommonAncestor","firstOwnerGraph","secondOwnerGraph","includesInvalidEdge","DEFAULT_USE_SMART_REPULSION_RANGE_CALCULATION","COOLING_ADAPTATION_FACTOR","ADAPTATION_LOWER_NODE_LIMIT","ADAPTATION_UPPER_NODE_LIMIT","MAX_NODE_DISPLACEMENT_INCREMENTAL","MAX_NODE_DISPLACEMENT","MIN_REPULSION_DIST","GRID_CALCULATION_CHECK_PERIOD","calcSeparationAmount","rectA","rectB","overlapAmount","separationBuffer","intersects","directions","decideDirectionsForOverlappingNodes","slope","moveByY","moveByX","getIntersection2","p1x","p1y","p2x","p2y","topLeftAx","topLeftAy","topRightAx","bottomLeftAx","bottomLeftAy","bottomRightAx","halfWidthA","getWidthHalf","halfHeightA","getHeightHalf","topLeftBx","topLeftBy","topRightBx","bottomLeftBx","bottomLeftBy","bottomRightBx","halfWidthB","halfHeightB","clipPointAFound","clipPointBFound","slopeA","slopeB","slopePrime","cardinalDirectionA","cardinalDirectionB","tempPointAx","tempPointAy","tempPointBx","tempPointBy","getCardinalDirection","s1","s2","f1","f2","angleOfVector","Cx","Cy","Nx","Ny","C_angle","ONE_AND_HALF_PI","HALF_PI","doIntersect","p4","det","lambda","gamma","THREE_PI","defineProperties","nodeFrom","tail","_remove","insertAfter","insertNodeBefore","insertNodeAfter","popNode","shiftNode","get_object_at","set_object_at","UniqueIDGeneretor","lastID","createID","isPrimitive","uniqueID","getString","_toConsumableArray","isRemoteUse","animationOnLayout","animationDuringLayout","uniformLeafNodeSizes","edgeToDummyNodes","RANDOM_SEED","isLayoutSuccessfull","update2","createBendpointsFromDummyNodes","newLeftTop","flatForest","isForest","isFlat","toBeVisited","unProcessedNodes","dummyNodes","dummyNode","Dimension","dummyEdge","lEdge","ebp","sliderValue","minDiv","maxMul","minValue","maxValue","remainingDegrees","foundCenter","tempList","tempList2","neighbours","neighbour","otherDegree","newDegree","setGraphManager","lworldOrgX","lworldOrgY","ldeviceOrgX","ldeviceOrgY","lworldExtX","lworldExtY","ldeviceExtX","ldeviceExtY","getWorldOrgX","wox","getWorldOrgY","woy","getWorldExtX","setWorldExtX","wex","getWorldExtY","setWorldExtY","wey","getDeviceOrgX","dox","getDeviceOrgY","doy","getDeviceExtX","setDeviceExtX","dex","getDeviceExtY","setDeviceExtY","dey","transformX","xDevice","worldExtX","transformY","yDevice","worldExtY","inverseTransformX","xWorld","deviceExtX","inverseTransformY","yWorld","deviceExtY","inPoint","outPoint","displacementThresholdPerNode","oldTotalDisplacement","notAnimatedIterations","useFRGridVariant","lcaDepth","sizeOfSourceInLca","sizeOfTargetInLca","totalDisplacementThreshold","repulsionRange","lEdges","calcSpringForce","nodeA","nodeB","lNodes","processedNodeSet","calculateRepulsionForceOfANode","calcRepulsionForce","calcGravitationalForce","springForce","clipPoints","distanceSquared","repulsionForce","childrenConstant","ownerCenterX","ownerCenterY","absDistanceX","absDistanceY","converged","oscilating","calcGrid","sizeX","sizeY","addNodeToGrid","setGridCoordinates","surrounding","_startX","_finishX","_startY","_finishY","HashMap","put","keySet","HashSet","isEmpty","addAllTo","addAll","Quicksort","compareFunction","_defaultCompareFunction","_quicksort","_partition","_get","_swap","_set","NeedlemanWunsch","sequence1","sequence2","match_score","mismatch_penalty","gap_penalty","iMax","jMax","tracebackGrid","alignments","score","computeGrids","getScore","getAlignments","diag","maxOf","arrayAllMaxIndexes","alignmentTraceback","inProcessAlignments","seq1","seq2","getAllIndexes","indexes","sanitizeText$1","getConfig","setupGraphViewbox","createText","coseBilkent","isDark","lighten","parser","o2","$V0","$V1","$V2","$V3","$V4","$V5","$V6","$V7","$V8","$V9","$Va","$Vb","$Vc","$Vd","$Ve","$Vf","parser2","yy","symbols_","terminals_","productions_","performAction","anonymous","yytext","yyleng","yylineno","yystate","$$","_$","$0","getLogger","addNode","descr","decorateNode","icon","class","getType","nodeType","DEFAULT","table","defaultActions","parseError","parseError2","recoverable","input","tstack","vstack","lstack","TERROR","EOF","lexer2","lexer","sharedState","setInput","yylloc","yyloc","ranges","getPrototypeOf","lex","token","symbol","action","yyval","newState","expected","errStr","showPosition","first_line","last_line","first_column","last_column","range","_input","_more","_backtrack","matched","conditionStack","unput","oldLines","more","backtrack_lexer","less","pastInput","past","upcomingInput","test_match","indexed_rule","backup","tempMatch","rules","_currentRules","flex","condition","popState","conditions","topState","pushState","stateStackSize","yy_","$avoiding_name_collisions","YY_START","Parser","mindmapParser","sanitizeText","cnt","getMindmap","mindmap","maxNodeWidth","ROUNDED_RECT","RECT","HEXAGON","NO_BORDER","CIRCLE","CLOUD","BANG","startStr","endStr","setElementForId","decoration","type2Str","setErrorHandler","getNodeById","mindmapDb","freeze","__proto__","MAX_SECTIONS","defaultBkg","section","rd","rectBkg","cloudBkg","r3","r4","bangBkg","circleBkg","insertPolygonShape","hexagonBkg","roundedRectBkg","fullSection","htmlLabels","nodeElem","sectionClass","bkgElem","textElem","description","useHtmlLabels","bbox","getBBox","fontSize","orgHeight","heightDiff","drawEdge2","edgesElem","ex","ey","mx","my","qx","qy","positionNode","svgDraw","drawNodes","svg","drawEdges","edgesEl","addNodes","labelText","layoutMindmap","renderEl","positionNodes","_asyncToGenerator","diagObj","securityLevel","sandboxElement","contentDocument","mm","db","nodesElem","useMaxWidth","mindmapRenderer","genSections","sections","THEME_COLOR_LIMIT","sw","getStyles","git0","gitBranchLabel0","mindmapStyles","diagram","styles"],"sourceRoot":"webpack:///","x_google_ignoreList":[0,1,2,3,4]}